<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-10-24 Tue 11:15 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2023.10.17.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2023.10.31.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of October 17 to 24, 2023.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">Using Reason and React meta-frameworks. Also some Melange 2</a></li>
<li><a href="#2">Ppxlib dev meetings</a></li>
<li><a href="#3">A hack to implement efficient TLS (thread-local-storage)</a></li>
<li><a href="#4">New Get Started Documentation on OCaml.org</a></li>
<li><a href="#5">Web Analytics on OCaml.org</a></li>
<li><a href="#6">OCaml.org Newsletter: August and September 2023</a></li>
<li><a href="#7">Release of odoc 2.3.0</a></li>
<li><a href="#8">Announce Seppo.Social v0.3 and invite thoughts</a></li>
<li><a href="#9">bwd 2.3.0 for backward lists</a></li>
<li><a href="#10">Storing credentials to a private OPAM repository</a></li>
<li><a href="#11">OCaml on Windows: the long paths issue</a></li>
<li><a href="#12">A Roadmap for the OCaml Platform - Seeking Your Feedback</a></li>
<li><a href="#13">Adding Dynamic Arrays / Vectors to StdLib</a></li>
<li><a href="#14">vdom 0.3: functional UI applications now with custom event handlers</a></li>
<li><a href="#orge15ba46">Old CWN</a></li>
</ul>
</div>
</div>
<div id="outline-container-1" class="outline-2">
<h2 id="1">Using Reason and React meta-frameworks. Also some Melange 2</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/using-reason-and-react-meta-frameworks-also-some-melange-2/13260/1">https://discuss.ocaml.org/t/using-reason-and-react-meta-frameworks-also-some-melange-2/13260/1</a>
</p>
</div>
<div id="outline-container-org43dc8e6" class="outline-3">
<h3 id="org43dc8e6">psb announced</h3>
<div class="outline-text-3" id="text-org43dc8e6">
<p>
<a href="https://dev.to/psb/reason-and-react-meta-frameworks-d7n">https://dev.to/psb/reason-and-react-meta-frameworks-d7n</a>
</p>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="2">Ppxlib dev meetings</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ppxlib-dev-meetings/12441/9">https://discuss.ocaml.org/t/ppxlib-dev-meetings/12441/9</a>
</p>
</div>
<div id="outline-container-org4a5b767" class="outline-3">
<h3 id="org4a5b767">Sonja Heinze announced</h3>
<div class="outline-text-3" id="text-org4a5b767">
<p>
@octachron has come to the ppxlib dev meeting today, which has been a very nice
surprise. It&rsquo;s nice to discuss intersections between ppxlib and the compiler together
with compiler maintainers. Thanks, @octachron!
</p>

<p>
So it has been @panglesd, @octachron and me in the meeting. Here are the meeting
notes: <a href="https://github.com/ocaml-ppx/ppxlib/wiki/Dev-meeting-19-09-2023">https://github.com/ocaml-ppx/ppxlib/wiki/Dev-meeting-19-09-2023</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="3">A hack to implement efficient TLS (thread-local-storage)</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/a-hack-to-implement-efficient-tls-thread-local-storage/13264/1">https://discuss.ocaml.org/t/a-hack-to-implement-efficient-tls-thread-local-storage/13264/1</a>
</p>
</div>
<div id="outline-container-orgfc534f1" class="outline-3">
<h3 id="orgfc534f1">Vesa Karvonen announced</h3>
<div class="outline-text-3" id="text-orgfc534f1">
<p>
Currently OCaml 5 provides a <a href="https://v2.ocaml.org/api/Domain.DLS.html"><code>Domain.DLS</code></a>
module for domain-local-state.
</p>

<p>
Unfortunately,
</p>

<ol class="org-ol">
<li><a href="https://github.com/ocaml/ocaml/issues/11770">there is no corresponding <code>Thread.TLS</code></a> for (sys)thread-local-state, and</li>
<li>the current implementation of <code>Domain.DLS</code> is not thread-safe.</li>
</ol>

<p>
I don&rsquo;t want to spend time to motivate this topic, but for many of the use cases of
<code>Domain.DLS</code>, what you actually want, is to use a <code>Thread.TLS</code>.  IOW, many of the
uses of <code>Domain.DLS</code> are probably &ldquo;wrong&rdquo; and should actually use a <code>Thread.TLS</code>,
because, when using <code>Domain.DLS</code>, the assumption must be that you don&rsquo;t have multiple
threads on the domain, but that is typically decided at a higher level in the
application and so making such an assumption is typically not safe.
</p>
</div>
<div id="outline-container-org4d61dc4" class="outline-4">
<h4 id="org4d61dc4"><code>Domain.DLS</code> is not thread-safe</h4>
<div class="outline-text-4" id="text-org4d61dc4">
<p>
I mentioned that the current implementation <code>Domain.DLS</code> is not thread-safe. What I
mean by that is that the current implementation is literally not thread-safe at all
in the sense that unrelated concurrent <code>Domain.DLS</code> accesses can actually break the
DLS.
</p>

<p>
Consider <a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/stdlib/domain.ml#L120-L127">the implementation of
<code>Domain.DLS.get</code></a>:
</p>

<div class="org-src-container">
<pre class="src src-ocaml">  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">get</span> (<span style="color: #007a9f;">idx</span>, <span style="color: #007a9f;">init</span>) =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">st</span> = maybe_grow idx <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">v</span> = st.(idx) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #006f00; font-weight: bold;">if</span> v == unique_value <span style="color: #006f00; font-weight: bold;">then</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">v'</span> = <span style="color: #444fcf;">Obj.</span>repr (init ()) <span style="color: #000000; font-weight: bold;">in</span>
      st.(idx) &lt;- (<span style="color: #444fcf;">Sys.</span>opaque_identity v');
      <span style="color: #444fcf;">Obj.</span>magic v'
    <span style="color: #006f00; font-weight: bold;">else</span> <span style="color: #444fcf;">Obj.</span>magic v
</pre>
</div>

<p>
If there are two (or more) threads on a single domain that concurrently call <code>get</code>
before <code>init</code> has been called initially, then what might happen is that <code>init</code> gets
called twice (or more) and the threads get different values which could e.g. be
pointers to two different mutable objects.
</p>

<p>
Consider <a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/stdlib/domain.ml#L98-L111">the implementation of
<code>maybe_grow</code></a>:
</p>

<div class="org-src-container">
<pre class="src src-ocaml">  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">maybe_grow</span> <span style="color: #007a9f;">idx</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">st</span> = get_dls_state () <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">sz</span> = <span style="color: #444fcf;">Array.</span>length st <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #006f00; font-weight: bold;">if</span> idx &lt; sz <span style="color: #006f00; font-weight: bold;">then</span> st
    <span style="color: #006f00; font-weight: bold;">else</span> <span style="color: #000000; font-weight: bold;">begin</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #a7601f;">compute_new_size</span> <span style="color: #007a9f;">s</span> =
        <span style="color: #006f00; font-weight: bold;">if</span> idx &lt; s <span style="color: #006f00; font-weight: bold;">then</span> s <span style="color: #006f00; font-weight: bold;">else</span> compute_new_size (<span style="color: #00824f;">2</span> * s)
      <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">new_sz</span> = compute_new_size sz <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">new_st</span> = <span style="color: #444fcf;">Array.</span>make new_sz unique_value <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #444fcf;">Array.</span>blit st <span style="color: #00824f;">0</span> new_st <span style="color: #00824f;">0</span> sz;
      set_dls_state new_st;
      new_st
    <span style="color: #000000; font-weight: bold;">end</span>
</pre>
</div>

<p>
Imagine calling <code>get</code> (which calls <code>maybe_grow</code>) with two different keys from two
different threads concurrently.  The end result might be that two different arrays
are allocated and only one of them &ldquo;wins&rdquo;.  What this means, for example, is that
effects of <code>set</code> calls may effectively be undone by concurrent calls of <code>get</code>.
</p>

<p>
In other words, the <code>Domain.DLS</code>, as it is currently implemented, is not thread-safe.
</p>
</div>
</div>
<div id="outline-container-org879553f" class="outline-4">
<h4 id="org879553f">How to implement an efficient <code>Thread.TLS</code>?</h4>
<div class="outline-text-4" id="text-org879553f">
<p>
If you dig into the implementation of threads, you will notice that the opaque
<a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/otherlibs/systhreads/thread.mli#L18"><code>Thread.t</code> type</a>
is actually a heap block (record) of three fields.  You can see the <a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/otherlibs/systhreads/st_stubs.c#L66-L68"><code>Thread.t</code>
accessors</a>:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #a2604f;">#define</span> <span style="color: #a7601f;">Ident</span>(<span style="color: #007a9f;">v</span>) Field(v, <span style="color: #00824f;">0</span>)
<span style="color: #a2604f;">#define</span> <span style="color: #a7601f;">Start_closure</span>(<span style="color: #007a9f;">v</span>) Field(v, <span style="color: #00824f;">1</span>)
<span style="color: #a2604f;">#define</span> <span style="color: #a7601f;">Terminated</span>(<span style="color: #007a9f;">v</span>) Field(v, <span style="color: #00824f;">2</span>)
</pre>
</div>

<p>
and the <a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/otherlibs/systhreads/st_stubs.c#L335-L346"><code>Thread.t</code> allocation</a>:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #006f00; font-weight: bold;">static</span> <span style="color: #444fcf;">value</span> <span style="color: #a7601f;">caml_thread_new_descriptor</span>(<span style="color: #444fcf;">value</span> <span style="color: #007a9f;">clos</span>)
{
  CAMLparam1(clos);
  CAMLlocal1(mu);
  <span style="color: #444fcf;">value</span> <span style="color: #007a9f;">descr</span>;
  <span style="color: #8f6f4a; font-style: italic;">/* </span><span style="color: #8f6f4a; font-style: italic;">Create and initialize the termination semaphore</span><span style="color: #8f6f4a; font-style: italic;"> */</span>
  mu = caml_threadstatus_new();
  <span style="color: #8f6f4a; font-style: italic;">/* </span><span style="color: #8f6f4a; font-style: italic;">Create a descriptor for the new thread</span><span style="color: #8f6f4a; font-style: italic;"> */</span>
  descr = caml_alloc_3(<span style="color: #00824f;">0</span>, Val_long(atomic_fetch_add(&amp;thread_next_id, +<span style="color: #00824f;">1</span>)),
                       clos, mu);
  CAMLreturn(descr);
}
</pre>
</div>

<p>
The second field, <code>Start_closure</code>, is used to pass the closure to the thread start:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #006f00; font-weight: bold;">static</span> <span style="color: #444fcf;">void</span> * <span style="color: #a7601f;">caml_thread_start</span>(<span style="color: #444fcf;">void</span> * <span style="color: #007a9f;">v</span>)
{
  <span style="color: #444fcf;">caml_thread_t</span> <span style="color: #007a9f;">th</span> = (<span style="color: #444fcf;">caml_thread_t</span>) v;
  <span style="color: #444fcf;">int</span> <span style="color: #007a9f;">dom_id</span> = th-&gt;domain_id;
  <span style="color: #444fcf;">value</span> <span style="color: #007a9f;">clos</span>;
  <span style="color: #444fcf;">void</span> * <span style="color: #007a9f;">signal_stack</span>;

  caml_init_domain_self(dom_id);

  st_tls_set(caml_thread_key, th);

  thread_lock_acquire(dom_id);
  restore_runtime_state(th);
  signal_stack = caml_init_signal_stack();

  clos = Start_closure(Active_thread-&gt;descr);
  caml_modify(&amp;(Start_closure(Active_thread-&gt;descr)), Val_unit);
  caml_callback_exn(clos, Val_unit);
  caml_thread_stop();
  caml_free_signal_stack(signal_stack);
  <span style="color: #006f00; font-weight: bold;">return</span> <span style="color: #00824f;">0</span>;
}
</pre>
</div>

<p>
and, as seen above, <a href="https://github.com/ocaml/ocaml/blob/e397ed28bcef85fdc1f0f007af481ef201fb1fd7/otherlibs/systhreads/st_stubs.c#L575">it is overwritten with the unit value</a>
before the closure is called.
</p>

<p>
What this means is that when you call <code>Thread.self ()</code> and get a reference to the
current <code>Thread.t</code>, the <code>Start_closure</code> field of that heap block will be the unit
value:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #006f00; font-weight: bold;">assert</span> (<span style="color: #444fcf;">Obj.</span>field (<span style="color: #444fcf;">Obj.</span>repr (<span style="color: #444fcf;">Thread.</span>self ())) <span style="color: #00824f;">1</span> = <span style="color: #444fcf;">Obj.</span>repr ())
</pre>
</div>

<p>
Let&rsquo;s hijack that field for the purpose of implementing an efficient TLS!
</p>

<p>
Here is the full hack:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">module</span> <span style="color: #444fcf;">TLS</span> : <span style="color: #000000; font-weight: bold;">sig</span>
  <span style="color: #000000; font-weight: bold;">type</span> <span style="color: #444fcf;">'a key</span>
  <span style="color: #000000; font-weight: bold;">val</span> <span style="color: #a7601f;">new_key</span> : (unit -&gt; 'a) -&gt; 'a key
  <span style="color: #000000; font-weight: bold;">val</span> <span style="color: #a7601f;">get</span> : 'a key -&gt; 'a
  <span style="color: #000000; font-weight: bold;">val</span> <span style="color: #a7601f;">set</span> : 'a key -&gt; 'a -&gt; unit
<span style="color: #000000; font-weight: bold;">end</span> = <span style="color: #000000; font-weight: bold;">struct</span>
  <span style="color: #000000; font-weight: bold;">type</span> <span style="color: #444fcf;">'a key</span> = { index : int; compute : unit -&gt; 'a }

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">counter</span> = <span style="color: #444fcf;">Atomic.</span>make <span style="color: #00824f;">0</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">unique</span> () = <span style="color: #444fcf;">Obj.</span>repr counter

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">new_key</span> <span style="color: #007a9f;">compute</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">index</span> = <span style="color: #444fcf;">Atomic.</span>fetch_and_add counter <span style="color: #00824f;">1</span> <span style="color: #000000; font-weight: bold;">in</span>
    { index; compute }

  <span style="color: #000000; font-weight: bold;">type</span> <span style="color: #444fcf;">t</span> = { _id : int; <span style="color: #006f00; font-weight: bold;">mutable</span> tls : <span style="color: #444fcf;">Obj.</span>t }

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">ceil_pow_2_minus_1</span> <span style="color: #007a9f;">n</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n</span> = n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">1</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n</span> = n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">2</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n</span> = n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">4</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n</span> = n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">8</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n</span> = n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">16</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #006f00; font-weight: bold;">if</span> <span style="color: #444fcf;">Sys.</span>int_size &gt; <span style="color: #00824f;">32</span> <span style="color: #006f00; font-weight: bold;">then</span> n <span style="color: #a52a2a;">lor</span> (n <span style="color: #a52a2a;">lsr</span> <span style="color: #00824f;">32</span>) <span style="color: #006f00; font-weight: bold;">else</span> n

  <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">[@inline never]</span> <span style="color: #a7601f;">grow_tls</span> <span style="color: #007a9f;">t</span> <span style="color: #007a9f;">before</span> <span style="color: #007a9f;">index</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">new_length</span> = ceil_pow_2_minus_1 (index + <span style="color: #00824f;">1</span>) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">after</span> = <span style="color: #444fcf;">Array.</span>make new_length (unique ()) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #444fcf;">Array.</span>blit before <span style="color: #00824f;">0</span> after <span style="color: #00824f;">0</span> (<span style="color: #444fcf;">Array.</span>length before);
    t.tls &lt;- <span style="color: #444fcf;">Obj.</span>repr after;
    after

  <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">[@inline]</span> <span style="color: #a7601f;">get_tls</span> <span style="color: #007a9f;">index</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">t</span> = <span style="color: #444fcf;">Obj.</span>magic (<span style="color: #444fcf;">Thread.</span>self ()) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">tls</span> = t.tls <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #006f00; font-weight: bold;">if</span> <span style="color: #444fcf;">Obj.</span>is_int tls <span style="color: #006f00; font-weight: bold;">then</span> grow_tls t [<span style="color: #a52a2a;">||</span>] index
    <span style="color: #006f00; font-weight: bold;">else</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">tls</span> = (<span style="color: #444fcf;">Obj.</span>magic tls : <span style="color: #444fcf;">Obj.t array</span>) <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #006f00; font-weight: bold;">if</span> index &lt; <span style="color: #444fcf;">Array.</span>length tls <span style="color: #006f00; font-weight: bold;">then</span> tls <span style="color: #006f00; font-weight: bold;">else</span> grow_tls t tls index

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">get</span> <span style="color: #007a9f;">key</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">tls</span> = get_tls key.index <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">value</span> = <span style="color: #444fcf;">Array.</span>unsafe_get tls key.index <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #006f00; font-weight: bold;">if</span> value <span style="color: #a52a2a;">!=</span> unique () <span style="color: #006f00; font-weight: bold;">then</span> <span style="color: #444fcf;">Obj.</span>magic value
    <span style="color: #006f00; font-weight: bold;">else</span>
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">value</span> = key.compute () <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #444fcf;">Array.</span>unsafe_set tls key.index (<span style="color: #444fcf;">Obj.</span>repr (<span style="color: #444fcf;">Sys.</span>opaque_identity value));
      value

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">set</span> <span style="color: #007a9f;">key</span> <span style="color: #007a9f;">value</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">tls</span> = get_tls key.index <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #444fcf;">Array.</span>unsafe_set tls key.index (<span style="color: #444fcf;">Obj.</span>repr (<span style="color: #444fcf;">Sys.</span>opaque_identity value))
<span style="color: #000000; font-weight: bold;">end</span>
</pre>
</div>

<p>
The above achieves about 80% of the performance of <code>Domain.DLS</code> allowing roughly 241M
~TLS.get~ï»¿s/s (vs 296M ~Domain.DLS.get~ï»¿s/s) on my laptop.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="4">New Get Started Documentation on OCaml.org</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-new-get-started-documentation-on-ocaml-org/13269/1">https://discuss.ocaml.org/t/ann-new-get-started-documentation-on-ocaml-org/13269/1</a>
</p>
</div>
<div id="outline-container-org7b1e2bb" class="outline-3">
<h3 id="org7b1e2bb">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-org7b1e2bb">
<p>
Dear OCaml Community,
</p>

<p>
On behalf of the OCaml.org team, I&rsquo;m thrilled to announce the publication of the new
<a href="https://ocaml.org/docs/get-started">Get Started documentation</a>.
</p>

<p>
It is organised in three stages:
</p>
<ul class="org-ul">
<li><a href="https://ocaml.org/docs/installing-ocaml"><b>Installing OCaml</b></a>, which guides you through the installation of opam, the initialisation of a switch and the installation of Platform tools.</li>
<li><a href="https://ocaml.org/docs/tour-of-ocaml"><b>A Tour of OCaml</b></a>, which walks you through the basics of the OCaml language and invites you to use the top-level to start playing with the language.</li>
<li><a href="https://ocaml.org/docs/your-first-program"><b>Your First OCaml Program</b></a>, which is a bit more practical and assumes you&rsquo;re using an editor to help you create your first executable using Dune.</li>
</ul>

<p>
In addition to these, you&rsquo;ll also find introductory guides on the tooling to
complement the introduction to the language:
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/docs/set-up-editor">Configuring Your Editor</a></li>
<li><a href="https://ocaml.org/docs/toplevel-introduction">Introduction to the OCaml Toplevel</a></li>
<li><a href="https://ocaml.org/docs/opam-switch-introduction">Introduction to opam Switches</a></li>
</ul>

<p>
Our goal is to make OCaml.org the best resource to get started with and learn OCaml.
</p>

<p>
There are still a lot of gaps to fill in the documentation &#x2013; and we&rsquo;ll continue to
work on these in the coming months &#x2013; but the Get Started experience is probably the
most important part of the documentation to alleviate friction points that discourage
new users from adopting OCaml. As such, don&rsquo;t hesitate to publicise these, but most
importantly, let us know your feedback!
</p>

<p>
Happy reading!
</p>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="5">Web Analytics on OCaml.org</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/web-analytics-on-ocaml-org/13188/8">https://discuss.ocaml.org/t/web-analytics-on-ocaml-org/13188/8</a>
</p>
</div>
<div id="outline-container-org7b63ef1" class="outline-3">
<h3 id="org7b63ef1">Continuing this thread, Thibaut Mattio said</h3>
<div class="outline-text-3" id="text-org7b63ef1">
<p>
Thanks for the feedback and the participation in the survey!
</p>

<p>
Seeing that there aren&rsquo;t major concerns, we&rsquo;ll be moving forward with a trial of
Plausible.
</p>

<p>
As @avsm said, we plan on self-hosting it on the OCaml.org infrastructure to respect
our commitment to not use any third-party service. This means that not only we won&rsquo;t
be collecting any personal data, but even the aggregate data will never leave the
OCaml.org infrastructure.
</p>

<p>
There&rsquo;s roughly a third of people who are against adding analytics to OCaml.org in
the survey above. We strongly believe that Plausible is aligned with our commitment
to protect OCaml.org visitors&rsquo; privacy, but I&rsquo;ll echo @avsm in saying that if people
believe that this is not the case, I&rsquo;d love to hear about the specific concerns and
ideas for alternatives.
</p>

<p>
To answer some questions above:
</p>

<blockquote>
<p>
Are you going to give a public access to the Plausible statistics ? Or will it be
only for the maintainers i.e. Tarides ?
</p>
</blockquote>

<p>
The analytics dashboard will be public.
</p>

<blockquote>
<p>
Have you considered running a server-side analytics service?
</p>
</blockquote>

<p>
Yes, @JiaeK actually worked on a server-side analytics service as part of her
Outreachy internship in 2021 and had made fantastic progress. The WIP dashboard is
available at <a href="https://ocaml.org/dashboard">https://ocaml.org/dashboard</a>.
</p>

<p>
It currently doesn&rsquo;t collect <span class="underline">any</span> data and only logs unique page accesses.
</p>

<p>
We had planned on building on top of this, but as you can imagine this is a large
project, and the OCaml.org team has been prioritising improvements to the site
itself.
</p>

<p>
I found the following to be a good read on the pros and cons of server-side vs
client-side analytics:
<a href="https://plausible.io/blog/server-log-analysis#how-big-of-a-data-gap-is-there-between-server-log-analysis-and-web-analytics">https://plausible.io/blog/server-log-analysis#how-big-of-a-data-gap-is-there-between-server-log-analysis-and-web-analytics</a>
</p>

<p>
TL;DR for all its benefits, server-side analytics comes with a load of drawbacks and
isn&rsquo;t fundamentally more privacy-friendly than privacy-oriented client-side analytics
solution.
</p>

<p>
That being said, if someone would like to contribute to the Dream analytics dashboard
to make it usable as an alternative to other analytics solutions, I&rsquo;d be more than
happy to move towards this! Don&rsquo;t hesitate to reach out to me or other OCaml.org
maintainers about that.
</p>
</div>
</div>
</div>
<div id="outline-container-6" class="outline-2">
<h2 id="6">OCaml.org Newsletter: August and September 2023</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-org-newsletter-august-and-september-2023/13272/1">https://discuss.ocaml.org/t/ocaml-org-newsletter-august-and-september-2023/13272/1</a>
</p>
</div>
<div id="outline-container-org7f23014" class="outline-3">
<h3 id="org7f23014">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-org7f23014">
<p>
Welcome to the August and September 2023 edition of the OCaml.org newsletter! This
update has been compiled by the OCaml.org team. You can find the <a href="https://discuss.ocaml.org/tag/ocamlorg-newsletter">previous updates on
Discuss</a>.
</p>

<p>
Our goal is to make OCaml.org the best resource for anyone who wants to get started
and be productive in OCaml. The OCaml.org newsletter provides an update on our
progress towards that goal and an overview of changes we are working on.
</p>

<p>
We couldn&rsquo;t do it without all the amazing OCaml community members who help us review,
revise, and create better OCaml documentation. Your feedback enables us to better
prioritise our work and make progress towards our goal. Thank you!
</p>

<p>
These past two months, our priorities were:
</p>
<ul class="org-ul">
<li><b>Learn Area:</b> We&rsquo;re working towards making OCaml.org a great resource to learn OCaml and discover its ecosystem. We&rsquo;ve focussed on getting the new Get Started documentation ready for publication, and we started work on a second iteration of the designs for the Learn area.</li>
<li><b>General Improvements:</b> As usual, we also worked on general maintenance and improvements based on user feedback, so we&rsquo;re highlighting some of our work below.</li>
</ul>
</div>
<div id="outline-container-orgac7c313" class="outline-4">
<h4 id="orgac7c313">Learn Area</h4>
<div class="outline-text-4" id="text-orgac7c313">
</div>
<ul class="org-ul">
<li><a id="org727c246"></a>1. Redesign of the Learn Area<br />
<div class="outline-text-5" id="text-org727c246">
<p>
After completing the first version of the design in July, we started working on a new
iteration that is more in line with the current branding of the site. Feedback from
the team and users has been extremely positive on the UX (the structure of the new
documentation and the layout of the pages), but we felt that the design direction
needed to be reconciled with and improve on the existing designs of all pages. Thus,
we are revisiting the designs&rsquo; UI aspects in both light and dark modes.
</p>

<p>
<b>Relevant PRs and Activities:</b>
</p>

<ul class="org-ul">
<li>Continued work on <a href="https://www.figma.com/file/Aqk5y03fsaCuhTSywmmY06/OCaml.org-Public-Designs?type=design&amp;node-id=130-754&amp;mode=design&amp;t=XvVCMukq5AR3oxRf-0">Figma UX/UI designs</a> for the new Learn area:
<ul class="org-ul">
<li>Continued overall Learn area UI design</li>
<li>Improved dark mode for the home page on mobile and made necessary text amendments</li>
<li>Designed mobile views for the search field with an open navigation feature and breadcrumb navigation</li>
<li>Worked on updating the design systems to ensure consistency between light and dark variants</li>
</ul></li>
<li>Continued the implementation of new components for the Learn Area:
<ul class="org-ul">
<li>Skill tag component for the Learn area is completed &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1427">ocaml/ocaml.org#1427</a></li>
<li>Learn overview cards (Install + Standard Library API) completed &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1441">ocaml/ocaml.org#1441</a></li>
<li>Books block component completed &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1481">ocaml/ocaml.org#1481</a></li>
<li>Tutorial block component completed &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1387">ocaml/ocaml.org#1387</a></li>
<li>Exercises block component &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1479">ocaml/ocaml.org#1479</a></li>
<li>Video block component &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1480">ocaml/ocaml.org#1480</a></li>
<li>Language Manual Banner Component - <a href="https://github.com/ocaml/ocaml.org/pull/1406">ocaml/ocaml.org#1406</a></li>
<li>Change learn area tab navigation color - <a href="https://github.com/ocaml/ocaml.org/pull/1522">ocaml/ocaml.org#1522</a></li>
</ul></li>
</ul>
</div>
</li>
<li><a id="orgcc99932"></a>2. OCaml Documentation<br />
<div class="outline-text-5" id="text-orgcc99932">
<p>
Since August, we&rsquo;ve focused mainly on the &ldquo;Getting Started&rdquo; documents, including a
guide to installing OCaml, a &ldquo;tour&rdquo; of the OCaml language, and a tutorial to create
your first project in OCaml.
</p>

<p>
Anticipating on our October update, we&rsquo;ve just
<a href="https://discuss.ocaml.org/t/ann-new-get-started-documentation-on-ocaml-org/13269">published</a>
the new Get Started documentation pages! :tada:
</p>

<p>
We still encourage community feedback, as we fully expect to iteratively improve
these docs in the coming weeks, especially as they will now serve as the primary
resource to everyone who wants to get up and running with OCaml.
</p>

<p>
Our focus will now shift to filling the gaps in the Language section of the
documentation, starting with the Basic Data Types and Functions and Values pages,
which are currently in the Community review stage.
</p>

<p>
<b>Relevant PRs and Activities:</b>
</p>

<ul class="org-ul">
<li><b>First Draft In Progress:</b>
<ul class="org-ul">
<li>Sets</li>
<li>Maps</li>
<li>Mutable State / Imperative Programming</li>
</ul></li>
<li><b>In Review (internal):</b>
<ul class="org-ul">
<li>Polymorphic Variants</li>
</ul></li>
<li><b>In Review (community):</b>
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml.org/pull/1514">Basic Data Types</a> (see <a href="https://discuss.ocaml.org/t/ocaml-org-tutorial-revamping-contd-basic-datatypes/12985">Discuss Thread</a>)</li>
<li><a href="https://github.com/ocaml/ocaml.org/pull/1512">Functions and Values</a> (see <a href="https://discuss.ocaml.org/t/ocaml-org-tutorial-revamping-cond-values-and-functions/13005">Discuss Thread</a>)</li>
<li><a href="https://github.com/ocaml/ocaml.org/pull/1400">File Manipulation</a> (see <a href="https://discuss.ocaml.org/t/help-review-the-new-file-manipulation-tutorial-on-ocaml-org/12638">Discuss Thread</a>)</li>
</ul></li>
<li><b>Published:</b>
<ul class="org-ul">
<li><a href="https://ocaml.org/docs/installing-ocaml">Installing OCaml</a> (see <a href="https://discuss.ocaml.org/t/help-revamping-the-getting-started-tutorials-in-ocaml-org/12749">Discuss Thread</a>)</li>
<li><a href="https://ocaml.org/docs/tour-of-ocaml">A Tour Of OCaml</a> (see <a href="https://discuss.ocaml.org/t/help-revamping-the-getting-started-tutorials-in-ocaml-org/12749">Discuss Thread</a>)</li>
<li><a href="https://ocaml.org/docs/your-first-program">Your First OCaml Program</a> (see <a href="https://discuss.ocaml.org/t/help-revamping-the-getting-started-tutorials-in-ocaml-org/12749">Discuss Thread</a>)</li>
<li><a href="https://ocaml.org/docs/opam-switch-introduction">Introduction to opam Switches</a></li>
<li><a href="https://ocaml.org/docs/arm64-fix">Fix Homebrew Errors on Apple M1</a></li>
<li><a href="https://ocaml.org/docs/operators">Operators</a></li>
<li><a href="https://ocaml.org/docs/error-handling">Error Handling</a> (see <a href="https://discuss.ocaml.org/t/ann-new-get-started-documentation-on-ocaml-org/13269">Discuss Thread</a>)</li>
<li><a href="https://ocaml.org/docs/arrays">Arrays</a> (see <a href="https://discuss.ocaml.org/t/feedback-needed-new-arrays-tutorial-on-ocaml-org/12683">Discuss Thread</a>)</li>
<li><a href="https://ocaml.org/docs/sequences">Sequences</a> (see <a href="https://discuss.ocaml.org/t/creating-a-tutorial-on-sequences/12091">Discuss Thread</a>)</li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgfa95d19" class="outline-4">
<h4 id="orgfa95d19">General Improvements</h4>
<div class="outline-text-4" id="text-orgfa95d19">
<p>
This month, we&rsquo;re welcoming 2 new contributors:
</p>
<ul class="org-ul">
<li><a href="https://github.com/ShalokShalom">@ShalokShalom</a> improved the &ldquo;Why OCaml?&rdquo; page - <a href="https://github.com/ocaml/ocaml.org/pull/1516">ocaml/ocaml.org#1516</a></li>
<li><a href="https://github.com/echuber2">@echuber2</a> fixed a broken link to the Editor setup instructions - <a href="https://github.com/ocaml/ocaml.org/pull/1552">ocaml/ocaml.org#1552</a></li>
</ul>

<p>
and welcome contributions from returning contributors:
</p>

<ul class="org-ul">
<li><a href="https://github.com/AshineFoster">@AshineFoster</a> fixed date parse error for news section of the blog &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1503">ocaml/ocaml.org#1503</a></li>
<li><a href="https://github.com/edwintorok">@edwintorok</a> updated XenServer entry on Job board and Industrial Users &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1511">ocaml/ocaml.org#1511</a></li>
</ul>

<p>
Thanks a lot to all the contributors this month! It&rsquo;s lovely to see more and more
people making contributions to the site!
</p>

<p>
<b>Relevant PRs and Activities:</b>
</p>

<ul class="org-ul">
<li>Local blogs on OCaml.org (for now only the opam blog) now have a dedicated RSS feed &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1459">ocaml/ocaml.org#1459</a></li>
<li>Added an <a href="https://ocaml.org/docs/is-ocaml-web-yet">Is OCaml Web Yet?</a> page - <a href="https://github.com/ocaml/ocaml.org/pull/1226">ocaml/ocaml.org#1226</a></li>
<li>Repaired broken links to the extent possible in 17 different files &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1461">ocaml/ocaml.org#1461</a>, <a href="https://github.com/ocaml/ocaml.org/pull/1515">ocaml/ocaml.org#1515</a>, and <a href="https://github.com/ocaml/ocaml.org/pull/1520">ocaml/ocaml.org#1520</a></li>
<li>Change Makefile of the Playground to create a local opam switch (in line with the local switch created by OCaml.org&rsquo;s Makefile) in order to resolve problems with copying the <code>Stdlib</code> build artifacts &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1469">ocaml/ocaml.org#1469</a></li>
<li>A link to an Outreachy blog post has been contributed to the OCaml Planet &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1474">ocaml/ocaml.org#1474</a></li>
<li>Fixed an issue with Package search on Safari &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1510">ocaml/ocaml.org#1510</a></li>
<li>Highlighted active link in primary color and increased clickable area for links in mobile main navigation - <a href="https://github.com/ocaml/ocaml.org/pull/1521">ocaml/ocaml.org#1521</a></li>
<li>Minor improvements on documentation generation. Single new lines in <code>.md</code> files were translated to linebreaks by voodoo. Now, voodoo emits space characters for these &#x2013; <a href="https://github.com/ocaml-doc/voodoo/pull/119">ocaml-doc/voodoo#119</a></li>
<li>Reduced spacing in package documentation between <code>.spec</code> and <code>.spec-doc</code> &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1509">ocaml/ocaml.org#1509</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-7" class="outline-2">
<h2 id="7">Release of odoc 2.3.0</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-release-of-odoc-2-3-0/13273/1">https://discuss.ocaml.org/t/ann-release-of-odoc-2-3-0/13273/1</a>
</p>
</div>
<div id="outline-container-org71eaac0" class="outline-3">
<h3 id="org71eaac0">Paul-Elliot announced</h3>
<div class="outline-text-3" id="text-org71eaac0">
<p>
The odoc team is thrilled to announce the release of odoc 2.3.0! ðŸŽ‰ This release is
the result of almost a year of diligent work since the last major release of odoc
2.2.0, it comes packed with significant new features and improvements!
</p>
</div>
<div id="outline-container-org2a1b809" class="outline-4">
<h4 id="org2a1b809">ðŸŒŸ Spotlight Features of Odoc 2.3.0</h4>
<div class="outline-text-4" id="text-org2a1b809">
<p>
Here are a couple of the new features introduced in Odoc 2.3.0 that we&rsquo;d like to
highlight.
</p>
</div>
<ul class="org-ul">
<li><a id="orgaa35d8b"></a>1. <b>Table Support</b><br />
<div class="outline-text-5" id="text-orgaa35d8b">
<p>
Table support is the last addition to the odoc language, and comes with two syntax
flavours: a light one, and a heavy one. The light markup is similar to markdown&rsquo;s
markup for table, producing tables that are readable in the source file as well.
</p>

<p>
However, this markup has some limitation, since it only allows inline content in
cells. It can also be difficult to read and mantain for big tables, without a proper
editor support. For this reason, Odoc also
provides a &ldquo;heavy&rdquo; markup, closer to the html one, with fewer limitations!
</p>

<p>
Here is a table in heavy, light, and rendered form:
</p>

<pre class="example" id="orgf61cc6a">
{t
Table | support
------|--------
is    | cool!
}
</pre>
<pre class="example" id="org452aa7a">
{table
{tr {th Table} {th support}}
{tr {td is} {td cool!}}
}
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Table</th>
<th scope="col" class="org-left">support</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">is</td>
<td class="org-left">cool!</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org40fc7c4"></a>2. <b>Source Code Rendering</b><br />
<div class="outline-text-5" id="text-org40fc7c4">
<p>
Source code rendering is an extremely exciting new feature. Not only <code>odoc</code> is now
able to generate a rendering of the source files (and source hierarchy) of a project,
but it is also able to create direct links from the documentation to the
implementation!
</p>

<p>
This puts the documentation browsing to a new level, by helping to quickly answer any
implementation-related question!
</p>

<p>
The source code rendering is also tailored to OCaml, for instance with links from
variables to their definition, something missing from traditional html-based source
viewing such as github!
</p>

<p>
Using this features in odoc&rsquo;s driver will require some work, but you can already have
a preview of the feature by going to the odoc API website, which was built with the
feature enabled. For instance, the
<a href="https://ocaml.github.io/odoc/odoc_html/Odoc_html/index.html">Odoc_html</a> module is
now populated with many <code>Source</code> links, jumping right into the <a href="https://ocaml.github.io/odoc/source/src/html/generator.ml.html">implementation
file</a>! Directory
pages to browser the implementation are also
<a href="https://ocaml.github.io/odoc/source/src/index.html">included</a> :D
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb552f02" class="outline-4">
<h4 id="orgb552f02">ðŸ—ºï¸ Background &amp; Roadmap</h4>
<div class="outline-text-4" id="text-orgb552f02">
<p>
Before displaying the full changelog, some background on our roadmap and what comes
next.
</p>

<p>
The lack of access to comprehensive documentation for OCaml libraries is one of the
biggest pain points reported by the OCaml community, as highlighted in the <a href="https://ocaml-sf.org/docs/2022/ocaml-user-survey-2022.pdf">2022
OCaml survey</a> (c.f. Q50).
</p>

<p>
This motivated the odoc and OCaml.org teams to jointly work on a centralised package
documentation, that <a href="https://discuss.ocaml.org/t/v3-ocaml-org-we-are-live/9747">went live in April
2022</a>, as part of the new
version of OCaml.org.
</p>

<p>
With documentation for OCaml libraries <a href="https://ocaml.org/packages">readily available on
OCaml.org</a>, we now turn our focus on making sure that
library authors have the tooling they need to create high-quality documentation.
</p>

<p>
Our <a href="https://github.com/ocaml/odoc/blob/master/ROADMAP.md">roadmap</a> highlights some
features we believe will make the generated documentation significantly better for
readers, and documentation-writing much more pleasant and rewarding.
</p>

<p>
This release is a significant milestone in implementing the features on our roadmap
and is the precursor to a series of upcoming releases. Odoc 2.4.0 will follow shortly
and will bring support for search. Stay tuned and follow our progress through the
<a href="https://discuss.ocaml.org/tag/platform-newsletter">OCaml Platform newsletter</a>!
</p>
</div>
</div>
<div id="outline-container-org5e91943" class="outline-4">
<h4 id="org5e91943">ðŸ¤ Join The Mission</h4>
<div class="outline-text-4" id="text-org5e91943">
<p>
While we are dedicated to developing the best tooling to generate and serve
documentation on OCaml.org, creating a well-documented library ecosystem can only be
a collective effort. Package authors: we&rsquo;re working hard to give you great tools, but
we&rsquo;ll need all your help to create an ecosystem of well-documented libraries for
OCaml!
</p>

<p>
If you find that writing documentation for your library isn&rsquo;t as straightforward as
you would like, please do share your feedback with us.
</p>
</div>
</div>
<div id="outline-container-orga3136fb" class="outline-4">
<h4 id="orga3136fb">2.3.0 Changelog</h4>
<div class="outline-text-4" id="text-orga3136fb">
</div>
<ul class="org-ul">
<li><a id="orgbda9026"></a>Added<br />
<div class="outline-text-5" id="text-orgbda9026">
<ul class="org-ul">
<li>Source code rendering (@Julow, @panglesd, @jonludlam #909, #996, #993, #982)</li>
<li>Handle tables markup (@panglesd, @gpetiot, #893)</li>
<li>Initial support for assets (@trefis, #975)</li>
<li>odoc-parser remerged (@jonludlam, #973)
This includes table support (@gpetiot, @panglesd, ocaml-doc/odoc-parser#11
ocaml-doc/odoc-parser#14) and delimited code blocks with optional output
(@jonludlam, ocaml-doc/odoc-parser#17)</li>
<li>Add a tooltip to references with text (@Julow, #945)</li>
<li>Add emoji to alerts in CSS (@yawaramin, #928)</li>
<li>Add common language in shipped highlightjs (@Julow, #953)</li>
<li>Display &rsquo;private&rsquo; keyword for private type extensions (@gpetiot, #1019)</li>
</ul>
</div>
</li>
<li><a id="orgd25f065"></a>Fixed<br />
<div class="outline-text-5" id="text-orgd25f065">
<ul class="org-ul">
<li>Fix <code>--hidden</code> not always taken into account (@panglesd, #940)</li>
<li>Syntax highlight labels in function arguments (@panglesd, #990)</li>
<li>Ensure generated html ends with a newline (@3Rafal, #954)</li>
<li>Warn against tags in pages (@Julow, #948)</li>
<li>Remove unhelpful &rsquo;Unresolved_apply&rsquo; errors (@gpetiot, #946)</li>
<li>Allow links and references in headings (@EmileTrotignon, @panglesd, #942)</li>
<li>Fix rendering of method types (@zoggy, #935)</li>
<li>Fix section labelling with submodules (@EmileTrotignon, @panglesd, #931)</li>
<li>LaTeX backend fixes (@Octachron, #921 #920)</li>
<li>html: Remove extra space in class declarations (@Julow, #936)</li>
<li>Fix rendering of unresolved references (@Julow, #957)</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-8" class="outline-2">
<h2 id="8">Announce Seppo.Social v0.3 and invite thoughts</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-announce-seppo-social-v0-3-and-invite-thoughts/13277/1">https://discuss.ocaml.org/t/ann-announce-seppo-social-v0-3-and-invite-thoughts/13277/1</a>
</p>
</div>
<div id="outline-container-org3876284" class="outline-3">
<h3 id="org3876284">Marcus Rohrmoser ðŸŒ announced</h3>
<div class="outline-text-3" id="text-org3876284">
<p>
Hi all,
</p>

<p>
I am happy to announce yesterday&rsquo;s release of v0.3 of #Seppo!, the friendly,
sustainable, permacomputing inspired alternative to all those heavy microblog
servers. Generously funded by #NLnet <a href="https://nlnet.nl/project/Seppo">https://nlnet.nl/project/Seppo</a>
</p>

<p>
It&rsquo;s built to be operated by yourself on commodity shared webspace without requiring
much further attention.
</p>

<p>
Read more at <a href="https://seppo.social/en/support/#installation">https://seppo.social/en/support/#installation</a>
</p>

<ul class="org-ul">
<li>Download: <a href="https://seppo.social/Linux-x86_64-0.3">https://seppo.social/Linux-x86_64-0.3</a></li>
<li>Binary:   <a href="https://seppo.social/Linux-x86_64-0.3/seppo.cgi">https://seppo.social/Linux-x86_64-0.3/seppo.cgi</a></li>
<li>Source:   <a href="https://seppo.social/Linux-x86_64-0.3/source.tar.gz">https://seppo.social/Linux-x86_64-0.3/source.tar.gz</a></li>
<li>Git:      <a href="https://seppo.social/v/5f078d9">https://seppo.social/v/5f078d9</a></li>
</ul>

<p>
Changes
</p>

<ul class="org-ul">
<li>post notes</li>
<li>being subscribed to (aka &rsquo;followed&rsquo;)</li>
<li>distribute post to subscribers</li>
<li>job queue to do so</li>
<li>housekeeping UX (password, profile page, timezone)</li>
</ul>

<p>
Your thoughts are very much appreciated.
</p>

<p>
Marcus Rohrmoser
<a href="https://digitalcourage.social/@mro/111261271071034377">https://digitalcourage.social/@mro/111261271071034377</a>
</p>

<p>
P.S.: There will be ðŸ« stickers again, soon.
</p>
</div>
</div>
</div>
<div id="outline-container-9" class="outline-2">
<h2 id="9">bwd 2.3.0 for backward lists</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-bwd-2-3-0-for-backward-lists/13278/1">https://discuss.ocaml.org/t/ann-bwd-2-3-0-for-backward-lists/13278/1</a>
</p>
</div>
<div id="outline-container-orgac5a402" class="outline-3">
<h3 id="orgac5a402">Favonia announced</h3>
<div class="outline-text-3" id="text-orgac5a402">
<p>
I am happy to announce a new version of <code>bwd</code> for backward lists! The new release
added <code>init</code> and a few other <code>List</code> functions introduced in OCaml 5.1 (<code>is_empty</code>,
<code>find_index</code>, and <code>find_mapi</code>). It also added many inlining annotations.
</p>

<p>
Backward lists are isomorphic to regular lists but place elements backward. Using a
different type for semantically backward lists can avoid bugs such as missing or
misusing <code>List.rev</code> or <code>List.rev_append</code>. <b><b>Our strategy is to keep the elements&rsquo;
<span class="underline">textual order</span> and avoid functions such as <code>List.rev</code>.</b></b> Initially, this package was
created to eliminate bugs in our type checkers, but we have been using it almost
everywhere since then. I recommend using <code>bwd</code> if you use <code>list</code> to store <span class="underline">anything</span>
semantically backward. ðŸ˜‰
</p>

<p>
More information at <a href="https://github.com/RedPRL/ocaml-bwd">https://github.com/RedPRL/ocaml-bwd</a>
</p>
</div>
</div>
</div>
<div id="outline-container-10" class="outline-2">
<h2 id="10">Storing credentials to a private OPAM repository</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/storing-credentials-to-a-private-opam-repository/3520/10">https://discuss.ocaml.org/t/storing-credentials-to-a-private-opam-repository/3520/10</a>
</p>
</div>
<div id="outline-container-org3a56b1d" class="outline-3">
<h3 id="org3a56b1d">Richard Degenne announced</h3>
<div class="outline-text-3" id="text-org3a56b1d">
<p>
Welp, 4 years later, I decided to give that whole private OPAM repository thing
another shot, and I ended up with something I&rsquo;m quite proud of, with a private Opam
repository, and private packages uploaded to GitLab&rsquo;s package registries!
</p>

<p>
<a href="https://blog.richarddegenne.fr/2023/10/20/setting-up-a-private-opam-repository-on-gitlab-step-by-step/">https://blog.richarddegenne.fr/2023/10/20/setting-up-a-private-opam-repository-on-gitlab-step-by-step/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-11" class="outline-2">
<h2 id="11">OCaml on Windows: the long paths issue</h2>
<div class="outline-text-2" id="text-11">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-on-windows-the-long-paths-issue/13283/1">https://discuss.ocaml.org/t/ocaml-on-windows-the-long-paths-issue/13283/1</a>
</p>
</div>
<div id="outline-container-org2f8cb54" class="outline-3">
<h3 id="org2f8cb54">Manas announced</h3>
<div class="outline-text-3" id="text-org2f8cb54">
<p>
Not very long ago, I managed to solve the long paths issue for OCaml and I want to share how.
</p>

<p>
While building a large project, I ran into the path issues - Dune would fail with
errors saying a certain file present in a long file was not found. Shortening
libraries names helped. But what was really needed was manifesting OCaml tools so
that they can perform I/O on long paths as described <a href="https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=registry">here on MSDN
docs</a>.
</p>

<p>
Guidelines there expect binary artifacts (dll or exe) have to be manifested with
something like this
</p>

<div class="org-src-container">
<pre class="src src-xml">&lt;?<span style="color: #006f00; font-weight: bold;">xml</span> <span style="color: #4f677f; font-style: italic;">version="1.0" encoding="utf-8"</span>?&gt;
&lt;<span style="color: #a7601f;">application</span> <span style="color: #557400; font-weight: bold;">xmlns</span>=<span style="color: #ca3400;">"urn:schemas-microsoft-com:asm.v3"</span>&gt;
    &lt;<span style="color: #a7601f;">windowsSettings</span>
<span style="color: #557400; font-weight: bold;">xmlns</span>:<span style="color: #007a9f;">ws2</span>=<span style="color: #ca3400;">"http://schemas.microsoft.com/SMI/2016/WindowsSettings"</span>&gt;
        &lt;<span style="color: #557400; font-weight: bold;">ws2</span>:<span style="color: #a7601f;">longPathAware</span>&gt;true&lt;/<span style="color: #557400; font-weight: bold;">ws2</span>:<span style="color: #a7601f;">longPathAware</span>&gt;
    &lt;/<span style="color: #a7601f;">windowsSettings</span>&gt;
&lt;/<span style="color: #a7601f;">application</span>&gt;
</pre>
</div>

<p>
Ideally, the application being built is also manifested so.
</p>

<p>
I use esy as my daily driver for Windows development. I have always found the
workflow on Windows with esy reasonable and never stopped using it since I
discovered. Over time, I have taken up maintenance of the project too.
</p>

<p>
OCaml on Windows is practical only with Cygwin. Not because the tools needs a Unix
like environment - they have evolved significants over the years since I have been
using OCaml on Windows. Cygwin is convenient because of the libraries in the
ecosystem - for instance all the native libraries from GNU project. GNU projects are
easily built inside Cygwin/MSYS/mingw but not so outside.
</p>

<p>
I was worried that I&rsquo;d have to write some gory hack in the compiler to manifest every
binary artifact - dune had to be manifested too. There are many ways to embed the
manifest with tools <code>windres</code> etc. But fortunately, I found that Mingw already embeds
all executables with a default one. It can be found here <a href="https://cygwin.com/packages/summary/windows-default-manifest.html#:~:text=description%3A%20The%20Default%20Windows%20application,version%20supported%20by%20this%20manifest.">among the Cygwin
projects</a>
</p>

<p>
I decided to fork the repository and use the manifest MSDN docs recommended. You can
find it <a href="https://github.com/ManasJayanth/windows-default-manifest/tree/master">here</a>
This helped me fix my project, but I wanted this for the rest of the community too.
</p>

<p>
Esy uses a utility called esy-bash which packages the Cygwin environment for the
user. We find that users have mostly uniform setups this way. Helps with
reproducibility. I decided to <a href="https://github.com/ManasJayanth/esy-bash/blob/dev/download-cygwin-packages.js#L20">tweak esy-bash to package my
fork</a>
of the windows-default-manifest along with other Cygwin packages. This way OCaml
users dont have to worry about the long paths issue anymore.
</p>

<p>
This has been available since esy 0.7.0. If you&rsquo;d like to try the latest esy, it is
available on NPM and can be installed with <code>npm i -g esy</code>
</p>

<p>
I&rsquo;d love to hear your thoughts on this approach. More than happy to contribute a
solution like this for opam too.
</p>
</div>
</div>
</div>
<div id="outline-container-12" class="outline-2">
<h2 id="12">A Roadmap for the OCaml Platform - Seeking Your Feedback</h2>
<div class="outline-text-2" id="text-12">
<p>
Archive: <a href="https://discuss.ocaml.org/t/a-roadmap-for-the-ocaml-platform-seeking-your-feedback/12238/68">https://discuss.ocaml.org/t/a-roadmap-for-the-ocaml-platform-seeking-your-feedback/12238/68</a>
</p>
</div>
<div id="outline-container-orgf9e5ef1" class="outline-3">
<h3 id="orgf9e5ef1">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-orgf9e5ef1">
<p>
I updated the
<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md">roadmap</a> to
incorporate the latest feedback. This update:
</p>

<ul class="org-ul">
<li>Adds a workflow to support Dune plugins (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w15-plugin-extensibility">W15</a>)</li>
<li>Adds a workflow to integrate with other build systems (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w16-integrate-with-other-build-systems">W16</a>)</li>
<li>Adds a workflow to compile to WebAssembly from Dune (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w14-compile-to-webassembly">W14</a>)</li>
<li>Adds a workflow to compile MirageOS unikernels from Dune (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w12-compile-to-mirageos">W12</a>)</li>
<li>Updates Literate Programming workflow to use odoc and mention interactive code blocks (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w24-literate-programming">W24</a>)</li>
<li>Updates Generate Documentation workflow to list features planned as part of the odoc roadmap (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w25-generate-documentation">W25</a>)</li>
<li>Updates Package Publication to remove mention that users need not to commit an opam file (<a href="https://github.com/tarides/ocaml-platform-roadmap/blob/main/roadmap.md#w26-package-publication">W26</a>)</li>
</ul>

<p>
A big thank you to everyone who participated in the discussion! Building a
community-driven roadmap is no trivial exercise, but witnessing so many people being
driven to share constructive feedback, there&rsquo;s no doubt that it&rsquo;s absolutely worth
it.
</p>

<p>
Much of the feedback, both here and in other Discuss threads (e.g.
<a href="https://discuss.ocaml.org/t/the-ocaml-platform-a-vehement-dissent/13008">https://discuss.ocaml.org/t/the-ocaml-platform-a-vehement-dissent/13008</a>), points out
the roadmap&rsquo;s pronounced Dune-focus. I want to be very clear that while the focus of
the coming years highlighted in the roadmap is indeed to consolidate the integration
of the Platform tools to create a cohesive experience &#x2013; a top request in the OCaml
surveys &#x2013; there&rsquo;s no intention to make Dune the singular solution for OCaml tooling.
The OCaml Platform is a collection of independent tools that can be used without
Dune, and this will remain the case.
</p>

<p>
We&rsquo;ve worked on formalising the <a href="https://ocaml.org/docs/platform-principles">Guiding
Principles</a> before sharing the roadmap.
One key principle we&rsquo;ve asserted is that while Platform tools operate under a single
frontend (the editor or Dune at the moment), they remain independent. @xavierleroy
rightly suggested that we commit to this in stronger terms, so we&rsquo;ve updated the
<a href="https://ocaml.org/docs/platform-principles#p5-tools-are-independent-yet-unified">relevant
Principle</a>
to make this more explicit.
</p>

<p>
In addition to clarifying the Guiding Principles, seeing that the majority of the
feedback we received is asking for better support for non-Dune users, two of the
added workflows in this last update (W15 and W16) aim at bringing better support for
third-party (i.e. non-Platform) tools.
</p>

<p>
Special thanks to @jbeckford for initiating discussions on <a href="https://github.com/ocaml/dune/discussions/8707">Dune
plugins</a>!
</p>

<p>
Let us know what you think of these new workflows and the other updates! As usual,
let&rsquo;s give an additional 2 weeks for feedback on the roadmap. Barring significant
concerns, we&rsquo;ll undergo a final revision based on all the discussions before adopting
the first version.
</p>

<p>
PS: thank you @shonfeder for pointing out that the issues were deactivated on the
<a href="https://github.com/tarides/ocaml-platform-roadmap/issues">repository</a>. I&rsquo;ve
activated them, so don&rsquo;t hesitate to open issues there now.
</p>
</div>
</div>
</div>
<div id="outline-container-13" class="outline-2">
<h2 id="13">Adding Dynamic Arrays / Vectors to StdLib</h2>
<div class="outline-text-2" id="text-13">
<p>
Archive: <a href="https://discuss.ocaml.org/t/adding-dynamic-arrays-vectors-to-stdlib/4697/48">https://discuss.ocaml.org/t/adding-dynamic-arrays-vectors-to-stdlib/4697/48</a>
</p>
</div>
<div id="outline-container-org61b3931" class="outline-3">
<h3 id="org61b3931">Continuing this thread, gasche announced</h3>
<div class="outline-text-3" id="text-org61b3931">
<p>
Hi everyone,
</p>

<p>
A short note: we eventually manage to build consensus on
<a href="https://github.com/ocaml/ocaml/pull/11882">https://github.com/ocaml/ocaml/pull/11882</a> and I merged it yesterday, so there will be
a <code>Dynarray</code> module in the standard library in OCaml 5.2. Thanks @BastouP411 and
@c-cube for their efforts bringing us to this point, and to the many reviewers of the
latest iteration of the PR (in particular @314eter, @c-cube, @clef-men,
@damiendoligez, @dbuenzli, @gadmm, @Octachron and @wiktor).
</p>

<p>
The implementation uses an indirection to get a type-safe &ldquo;empty&rdquo; value to use in
unused elements of the support array. Hopefully we can improve on that with a safe
magical implementation in the short future &#x2013; but I think that the performance is
good enough already.
</p>
</div>
</div>
</div>
<div id="outline-container-14" class="outline-2">
<h2 id="14">vdom 0.3: functional UI applications now with custom event handlers</h2>
<div class="outline-text-2" id="text-14">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-vdom-0-3-functional-ui-applications-now-with-custom-event-handlers/13298/1">https://discuss.ocaml.org/t/ann-vdom-0-3-functional-ui-applications-now-with-custom-event-handlers/13298/1</a>
</p>
</div>
<div id="outline-container-org9355088" class="outline-3">
<h3 id="org9355088">AurÃ©lien Saue announced</h3>
<div class="outline-text-3" id="text-org9355088">
<p>
We are thrilled to announce the release of the new v0.3 release of <code>vdom</code>, previously
named <code>ocaml-vdom</code>!
</p>

<p>
The library implements the functional Elm architecture. Combined with the power of
OCaml, it makes the development of UI applications easy and reliable, and that is why
we have been using it internally since 2016.
</p>

<p>
A highlight of this new version is the introduction of fully customizable event
handlers, using Elm-style decoders. This enhancement simplifies the management of
intricate browser events, such as retrieving drag-and-dropped files.
</p>

<p>
Read <a href="https://www.lexifi.com/blog/ocaml/decoders/">our blog post</a> for more details
about this new feature!
</p>

<p>
GitHub homepage:
<a href="https://github.com/LexiFi/ocaml-vdom">https://github.com/LexiFi/ocaml-vdom</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orge15ba46" class="outline-2">
<h2 id="orge15ba46">Old CWN</h2>
<div class="outline-text-2" id="text-orge15ba46">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="org92790bc">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>