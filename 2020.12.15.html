<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-12-15 Tue 10:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.12.08.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.12.22.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of December 08 to 15, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">MirageOS 3.10 released</a></li>
<li><a href="#2">Exception vs Result</a></li>
<li><a href="#3">Release: scikit-learn, Numpy, Scipy for OCaml, 0.3.1</a></li>
<li><a href="#4">OCaml 4.10.2</a></li>
<li><a href="#5">BAP 2.2.0 Release</a></li>
<li><a href="#6">Liquidshop 1.0, Jan. 17th and 18th, 2021</a></li>
<li><a href="#7">Opium 0.20.0</a></li>
<li><a href="#8">Set up OCaml 1.1.5</a></li>
<li><a href="#9">Other OCaml News</a></li>
<li><a href="#org7ffc721">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org9352136" class="outline-2">
<h2 id="1">MirageOS 3.10 released</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mirageos-3-10-released/6941/1">https://discuss.ocaml.org/t/ann-mirageos-3-10-released/6941/1</a>
</p>
</div>

<div id="outline-container-org56af145" class="outline-3">
<h3 id="org56af145">Hannes Mehnert announced</h3>
<div class="outline-text-3" id="text-org56af145">
<p>
we're pleased to announce MirageOS 3.10:
</p>

<p>
IPv6 and dual (IPv4 and IPv6) stack support <a href="https://github.com/mirage/mirage/pull/1187">https://github.com/mirage/mirage/pull/1187</a>
<a href="https://github.com/mirage/mirage/issues/1190">https://github.com/mirage/mirage/issues/1190</a>
</p>

<p>
Since a long time, IPv6 code was around in our TCP/IP stack (thanks to @nojb who developed it in 2014).
Some months ago, @hannesm and @MagnusS got excited to use it. After we managed to fix some bugs and add
some test cases, and writing more code to setup IPv6-only and dual stacks, we are eager to share this
support for MirageOS in a released version. We expect there to be bugs lingering around, but duplicate
address detection (neighbour solicitation and advertisements) has been implemented, and (unless
"&#x2013;accept-router-advertisement=false") router advertisements are decoded and used to configure the IPv6
part of the stack. Configuring a static IPv6 address is also possible (with
"&#x2013;ipv6=2001::42/64").
</p>

<p>
While at it, we unified the boot arguments between the different targets: namely, on Unix (when using
the socket stack), you can now pass "&#x2013;ipv4=127.0.0.1/24" to the same effect as the direct stack: only
listen on 127.0.0.1 (the subnet mask is ignored for the Unix socket stack).
</p>

<p>
A dual stack unikernel has "&#x2013;ipv4-only=BOOL" and "&#x2013;ipv6-only=BOOL" parameters, so a unikernel binary
could support both Internet Protocol versions, while the operator can decide which protocol version to
use. I.e. now there are both development-time (stackv4 vs stackv6 vs stackv4v6) choices, as well as the
run-time choice (via boot parameter).
</p>

<p>
I'm keen to remove the stackv4 &amp; stackv6 in future versions, and always develop with dual stack
(leaving it to configuration &amp; startup time to decide whether to enable ipv4 and ipv6).
</p>

<p>
Please also note that the default IPv4 network configuration no longer uses 10.0.0.1 as default gateway
(since there was no way to unset the default gateway <a href="https://github.com/mirage/mirage/issues/1147">https://github.com/mirage/mirage/issues/1147</a>).
</p>

<p>
For unikernel developers, there are some API changes in the Mirage module
</p>
<ul class="org-ul">
<li>New "v4v6" types for IP protocols and stacks</li>
<li>The ipv6_config record was adjusted in the same fashion as the ipv4_config type: it is now a record of a network (V6.Prefix.t) and gateway (V6.t option)</li>
</ul>

<p>
Some parts of the Mirage_key module were unified as well:
</p>
<ul class="org-ul">
<li>Arp.ip_address is available (for a dual Ipaddr.t)</li>
<li>Arg.ipv6_address replaces Arg.ipv6 (for an Ipaddr.V6.t)</li>
<li>Arg.ipv6 replaces Arg.ipv6_prefix (for a Ipaddr.V6.Prefix.t)</li>
<li>V6.network and V6.gateway are available, mirroring the V4 submodule</li>
</ul>

<p>
If you're ready to experiment with the dual stack: below is a diff for our basic network example (from
mirage-skeleton/device-usage/network) replacing IPv4 with a dual stack, and the tlstunnel unikernel
commit
<a href="https://github.com/roburio/tlstunnel/commit/2cb3e5aa11fca4b48bb524f3c0dbb754a6c8739b">https://github.com/roburio/tlstunnel/commit/2cb3e5aa11fca4b48bb524f3c0dbb754a6c8739b</a>
changed tlstunnel from IPv4 stack to dual stack.
</p>

<div class="org-src-container">
<pre class="src src-diff"><span style="background-color: #d9d9d9;">diff --git a/device-usage/network/config.ml b/device-usage/network/config.ml</span>
<span style="background-color: #d9d9d9;">index c425edb..eabc9d6 100644</span>
<span style="background-color: #d9d9d9;">--- </span><span style="background-color: #bfbfbf; font-weight: bold;">a/device-usage/network/config.ml</span>
<span style="background-color: #d9d9d9;">+++ </span><span style="background-color: #bfbfbf; font-weight: bold;">b/device-usage/network/config.ml</span>
<span style="background-color: #d9d9d9;">@@ -4,9 +4,9 @@</span><span style="background-color: #d9d9d9;"> let port =</span>
   let doc = Key.Arg.info ~doc:"The TCP port on which to listen for
incoming connections." ["port"] in
   Key.(create "port" Arg.(opt int 8080 doc))

<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">let main = foreign ~keys:[Key.abstract port] "Unikernel.Main" (stackv4</span>
@-&gt; job)
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">let main = foreign ~keys:[Key.abstract port] "Unikernel.Main"</span>
(stackv4v6 @-&gt; job)

<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">let stack = generic_stackv4 default_network</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">let stack = generic_stackv4</span><span style="background-color: #bbffbb;">v6</span><span style="background-color: #eeffee;"> default_network</span>

 let () =
   register "network" [
<span style="background-color: #d9d9d9;">diff --git a/device-usage/network/unikernel.ml</span>
b/device-usage/network/unikernel.ml
<span style="background-color: #d9d9d9;">index 5d29111..1bf1228 100644</span>
<span style="background-color: #d9d9d9;">--- </span><span style="background-color: #bfbfbf; font-weight: bold;">a/device-usage/network/unikernel.ml</span>
<span style="background-color: #d9d9d9;">+++ </span><span style="background-color: #bfbfbf; font-weight: bold;">b/device-usage/network/unikernel.ml</span>
<span style="background-color: #d9d9d9;">@@ -1,19 +1,19 @@</span>
 open Lwt.Infix

<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">module Main (S: Mirage_stack.V4) = struct</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">module Main (S: Mirage_stack.V4V6) = struct</span>

   let start s =
     let port = Key_gen.port () in
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">    S.listen_tcpv4 s ~port (fun flow -&gt;</span>
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">        let dst, dst_port = S.TCPV4.dst flow in</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">    S.listen_tcp s ~port (fun flow -&gt;</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">        let dst, dst_port = S.TCP.dst flow in</span>
         Logs.info (fun f -&gt; f "new tcp connection from IP %s on port %d"
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">                  (Ipaddr.V4.to_string dst) dst_port);</span>
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">        S.TCPV4.read flow &gt;&gt;= function</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">                  (Ipaddr.to_string dst) dst_port);</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">        S.TCP.read flow &gt;&gt;= function</span>
         | Ok `Eof -&gt; Logs.info (fun f -&gt; f "Closing connection!");
Lwt.return_unit
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">        | Error e -&gt; Logs.warn (fun f -&gt; f "Error reading data from</span>
established connection: %a" S.TCPV4.pp_error e); Lwt.return_unit
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">        | Error e -&gt; Logs.warn (fun f -&gt; f "Error reading data from</span>
established connection: %a" S.TCP.pp_error e); Lwt.return_unit
         | Ok (`Data b) -&gt;
           Logs.debug (fun f -&gt; f "read: %d bytes:\n%s" (Cstruct.len b)
(Cstruct.to_string b));
<span style="color: #aa2222; background-color: #ffeeee;">-</span><span style="background-color: #ffeeee;">          S.TCPV4.close flow</span>
<span style="color: #22aa22; background-color: #eeffee;">+</span><span style="background-color: #eeffee;">          S.TCP.close flow</span>
       );

     S.listen s
</pre>
</div>

<p>
Other bug fixes include <a href="https://github.com/mirage/mirage/issues/1188">https://github.com/mirage/mirage/issues/1188</a> (in
<a href="https://github.com/mirage/mirage/pull/1201">https://github.com/mirage/mirage/pull/1201</a>) and adapt to charrua 1.3.0 and arp 2.3.0 changes
(<a href="https://github.com/mirage/mirage/pull/1199">https://github.com/mirage/mirage/pull/1199</a>).
</p>
</div>
</div>
</div>




<div id="outline-container-orgd7f781b" class="outline-2">
<h2 id="2">Exception vs Result</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/exception-vs-result/6931/18">https://discuss.ocaml.org/t/exception-vs-result/6931/18</a>
</p>
</div>

<div id="outline-container-orgdf22267" class="outline-3">
<h3 id="orgdf22267">Continuing this thread, Vladimir Keleshev announced</h3>
<div class="outline-text-3" id="text-orgdf22267">
<p>
A bit late to the party, but here's an overview of error handling methods that I did a while ago:
</p>

<p>
<a href="https://keleshev.com/composable-error-handling-in-ocaml">Composable Error Handling in OCaml
(keleshev.com)</a>
</p>

<p>
It compares the following approaches:
</p>
<ul class="org-ul">
<li>Exceptions</li>
<li>Result type with strings for errors</li>
<li>Result type with custom variants for errors</li>
<li>Result type with polymorphic variants for errors</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgb615015" class="outline-2">
<h2 id="3">Release: scikit-learn, Numpy, Scipy for OCaml, 0.3.1</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-release-scikit-learn-numpy-scipy-for-ocaml-0-3-1/6942/1">https://discuss.ocaml.org/t/ann-release-scikit-learn-numpy-scipy-for-ocaml-0-3-1/6942/1</a>
</p>
</div>

<div id="outline-container-org51b0263" class="outline-3">
<h3 id="org51b0263">Ronan Le Hy announced</h3>
<div class="outline-text-3" id="text-org51b0263">
<p>
I've just released an update of OCaml wrappers for scikit-learn:
</p>
<ul class="org-ul">
<li>documentation: <a href="https://lehy.github.io/ocaml-sklearn/">https://lehy.github.io/ocaml-sklearn/</a></li>
<li>code: <a href="https://github.com/lehy/ocaml-sklearn">https://github.com/lehy/ocaml-sklearn</a></li>
<li><code>opam install sklearn</code></li>
</ul>

<p>
These bindings also come with bindings for Numpy (<code>opam install np</code>) and Scipy (<code>opam install scipy</code>).
</p>

<p>
Scikit-learn is all of these things:
</p>
<ul class="org-ul">
<li>Simple and efficient tools for predictive data analysis</li>
<li>Accessible to everybody, and reusable in various contexts</li>
<li>Built on NumPy, SciPy, and matplotlib</li>
<li>Open source, commercially usable - BSD license</li>
</ul>

<p>
Scikit-learn is robust, well-engineered and covers most basic machine learning use cases. As a
professional data scientist I use it extensively from Python. I built these wrappers because I felt
challenged by my friend @UnixJunkie's funny R wrappers.
</p>

<p>
I don't depend personally on these packages and maintain/improve them without any guarantees. They have
many unpolished corners. However, they have tests and I don't expect them to add too many bugs to
scikit-learn. Contributions and bug reports are welcome (but be aware that the bindings are generated
from a big hairy Python script).
</p>

<p>
Many thanks to everybody involved in opam!
</p>
</div>
</div>
</div>




<div id="outline-container-org8129f0b" class="outline-2">
<h2 id="4">OCaml 4.10.2</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-4-10-2/6945/1">https://discuss.ocaml.org/t/ann-ocaml-4-10-2/6945/1</a>
</p>
</div>

<div id="outline-container-org48e971d" class="outline-3">
<h3 id="org48e971d">octachron announced</h3>
<div class="outline-text-3" id="text-org48e971d">
<p>
The OCaml team has the pleasure of celebrating the birthday of Grace Hopper by announcing
the release of OCaml version 4.10.2.
</p>

<p>
This exceptional release makes OCaml 4.10 available on the new macOS/arm64 platform,
and fixes some compatibility issues for the mingw64 and FreeBSD/amd64 platform.
</p>

<p>
If OCaml 4.10.1 already works on your platform of choice, this release should be
completely transparent to you (and can be safely ignored).
</p>

<p>
Note that those fixes were backported from OCaml 4.12: further improvement to the support
of the macOS/arm64 platform will happen on the 4.12 branch.
</p>

<p>
The release is available as a set of OPAM switches,
and as a source download here:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/archive/4.10.2.tar.gz">https://github.com/ocaml/ocaml/archive/4.10.2.tar.gz</a> <br />
<a href="https://caml.inria.fr/pub/distrib/ocaml-4.10/">https://caml.inria.fr/pub/distrib/ocaml-4.10/</a>
</p>
</div>

<div id="outline-container-org79c5aa1" class="outline-4">
<h4 id="org79c5aa1">OCaml 4.10.2</h4>
<div class="outline-text-4" id="text-org79c5aa1">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9938">9938</a>, <a href="https://github.com/ocaml/ocaml/issues/9939">9939</a>: Define __USE_MINGW_ANSI_STDIO=0 for the mingw-w64 ports to prevent their C99-compliant snprintf conflicting with ours. (David Allsopp, report by Michael Soegtrop, review by Xavier Leroy)</li>
</ul>
</div>

<ul class="org-ul">
<li><a id="org0629733"></a>Supported platforms:<br />
<div class="outline-text-5" id="text-org0629733">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9699">9699</a>, <a href="https://github.com/ocaml/ocaml/issues/10026">10026</a>: add support for iOS and macOS on ARM 64 bits Backported from OCaml 4.12.0 (GitHub user @EduardoRFS, review by Xavier Leroy, Nicolás Ojeda Bär and Anil Madhavapeddy, additional testing by Michael Schmidt)</li>
</ul>
</div>
</li>

<li><a id="org05f1bb4"></a>Code generation and optimization<br />
<div class="outline-text-5" id="text-org05f1bb4">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9752">9752</a>, <a href="https://github.com/ocaml/ocaml/issues/10026">10026</a>: Revised handling of calling conventions for external C functions. Provide a more precise description of the types of unboxed arguments, so that the ARM64 iOS/macOS calling conventions can be honored. Backported from OCaml 4.12.0 (Xavier Leroy, review by Mark Shinwell and Github user @EduardoRFS)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9969">9969</a>, <a href="https://github.com/ocaml/ocaml/issues/9981">9981</a>: Added mergeable flag tqo ELF sections containing mergeable constants.  Fixes compatibility with the integrated assembler in clang 11.0.0. Backported from OCaml 4.12.0 (Jacob Young, review by Nicolás Ojeda Bär)</li>
</ul>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org94f16c9" class="outline-3">
<h3 id="org94f16c9">Anil Madhavapeddy</h3>
<div class="outline-text-3" id="text-org94f16c9">
<p>
There is also a <a href="https://github.com/ocaml/opam/releases/tag/2.0.7">macos/arm64 binary of opam</a>
available from the releases page for your convenience, and opam repository has been updated to
understand the new tier-1 constraints imposed by macos/arm (i.e. the only working compilers there are
4.10.2 and 4.12.0~dev, and <code>opam init</code> will now do the right thing).
</p>

<p>
There will be a number of packages that are broken due to the shift to <code>/opt/homebrew</code> from
<code>/usr/local</code> for Homebrew/ARM (due to the need to keep them simultaneously installed on the same Mac),
so please feel free to submit PRs to opam-repository to fix this stuff.
</p>

<p>
We'll shortly have Mac (both Intel and ARM) testing up and running on opam-repository, so CI will catch
up with reality once more, thanks to furious hacking by @patricoferris to extend our ocurrent-based CI
infrastructure to support the unique vagaries of the Mac environment (notably, a total lack of native
containers).  We have it working locally, and are just upstreaming it now.
</p>
</div>
</div>
</div>




<div id="outline-container-orgb648fd0" class="outline-2">
<h2 id="5">BAP 2.2.0 Release</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-bap-2-2-0-release/6950/1">https://discuss.ocaml.org/t/ann-bap-2-2-0-release/6950/1</a>
</p>
</div>

<div id="outline-container-org94e8e50" class="outline-3">
<h3 id="org94e8e50">Ivan Gotovchits announced</h3>
<div class="outline-text-3" id="text-org94e8e50">
<p>
We are proud to announce the 2.2.0 release of the Carnegie Mellon University <a href="https://github.com/BinaryAnalysisPlatform/bap">Binary Analysis
Platform</a>. BAP is the framework and toolkit for analyzing programs in their machine code
representation. This update has a lot of <a href="https://github.com/BinaryAnalysisPlatform/bap/releases/tag/v2.2.0">new features</a> despite that originally it was more as a
maintenance version. Special thanks to @XVilka and <a href="https://github.com/Phosphorus15">@Phosphorus15</a>  for contributing Thumb/ThumbV2
lifter and radare2 integration. We would also like to thank <a href="https://forallsecure.com/">ForAllSecure</a> for open-sourcing and
contributing to us their x86 floating-point lifter. The new version of BAP is also much more efficient
and we now have a much better symbolization facility (so we're no longer really dependent on the
presence of external tools). Another nice addition is a new REPL powered by <a href="https://github.com/ocaml-community/ocaml-linenoise">ocaml-linenoise</a>, see the
demo below.
</p>

<p>
<a href="https://asciinema.org/a/358996">https://asciinema.org/a/358996</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org5e3d4af" class="outline-2">
<h2 id="6">Liquidshop 1.0, Jan. 17th and 18th, 2021</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-liquidshop-1-0-jan-17th-18th-2021/6951/1">https://discuss.ocaml.org/t/ann-liquidshop-1-0-jan-17th-18th-2021/6951/1</a>
</p>
</div>

<div id="outline-container-org012ae6f" class="outline-3">
<h3 id="org012ae6f">Romain Beauxis announced</h3>
<div class="outline-text-3" id="text-org012ae6f">
<p>
We are happy to announce that we'll be holding Liquidshop 1.0 these coming Jan. 17th &amp; 18th, our first
ever (online) conference and workshops on liquidsoap and other related technologies and projects!
</p>

<p>
Liquidsoap is a statically typed scripting language with specialized primitives and operators for
creating media streams used for media processing, online streaming and a lot more. It is written in
OCaml and has been maintained for over a decade now.
</p>

<p>
We will have 3 different tracks for the event, namely:
</p>
<ul class="org-ul">
<li>Showcases: short presentations about a website / radio / art installation that you built using Liquidsoap or other related tools</li>
<li>Tech talks: in-depth presentation of a technology related to Liquidsoap and streaming in general</li>
<li>Workshops: user-centered freeform discussions about your project or issues around Liquidsoap and streaming</li>
</ul>

<p>
If you're interested to participate, wether as an attendee or a presenter, make sure to register via
our website at: <a href="http://www.liquidsoap.info/liquidshop/">http://www.liquidsoap.info/liquidshop/</a> or directly via the form available at:
<a href="https://forms.gle/HdGNLz5qM3HVU1ub7">https://forms.gle/HdGNLz5qM3HVU1ub7</a>
</p>

<p>
We are super excited for this event. We have already secured a couple of interesting speakers and we
would love to get to know the community better, see what y'all are doing with liquidsoap and other
releated projects, community radios, live video, weird installations, etc. and meet with everyone.
</p>

<p>
Also, if you have any suggestion about the best technical solutions to organize such an event, we'd be
happy to hear about them.
</p>

<p>
Finally, if any of y'all have some specific topics to discuss and would like to learn more about
liquidsoap, this will be a great place to connect!
</p>
</div>
</div>
</div>




<div id="outline-container-orge09840a" class="outline-2">
<h2 id="7">Opium 0.20.0</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opium-0-20-0/6955/1">https://discuss.ocaml.org/t/ann-opium-0-20-0/6955/1</a>
</p>
</div>

<div id="outline-container-orgf736e70" class="outline-3">
<h3 id="orgf736e70">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-orgf736e70">
<p>
I'm pleased to announce a new version of <a href="https://github.com/rgrinberg/opium">Opium</a> web framework
(0.20.0) is available on Opam.
</p>

<p>
Here's the changelog:
</p>
</div>

<div id="outline-container-orge97cb4c" class="outline-4">
<h4 id="orge97cb4c">Added</h4>
<div class="outline-text-4" id="text-orge97cb4c">
<ul class="org-ul">
<li>New <code>Auth</code> module to work with <code>Authorization</code> header (<a href="https://github.com/rgrinberg/opium/pull/238">#238</a>)</li>

<li>New <code>basic_auth</code> middleware to protect handlers with a <code>Basic</code> authentication method (<a href="https://github.com/rgrinberg/opium/pull/238">#238</a>)</li>

<li>New <code>Response.of_file</code> API for conveniently creating a response of a file (<a href="https://github.com/rgrinberg/opium/pull/244">#244</a>)</li>

<li>Add a package <code>opium-graphql</code> to easily create GraphQL server with Opium (<a href="https://github.com/rgrinberg/opium/pull/235">#235</a>)</li>

<li>Add a function <code>App.run_multicore</code> that uses pre-forking and spawns multiple processes that will handle incoming requests (<a href="https://github.com/rgrinberg/opium/pull/239">#239</a>)</li>
</ul>
</div>
</div>

<div id="outline-container-org1841433" class="outline-4">
<h4 id="org1841433">Fixed</h4>
<div class="outline-text-4" id="text-org1841433">
<ul class="org-ul">
<li>Fix reading cookie values when multiple cookies are present in <code>Cookie</code> header (<a href="https://github.com/rgrinberg/opium/pull/246">#246</a>)</li>
</ul>

<p>
Happy hacking :slight_smile:
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-orgf095ce4" class="outline-2">
<h2 id="8">Set up OCaml 1.1.5</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-5/6971/1">https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-5/6971/1</a>
</p>
</div>

<div id="outline-container-org34fadbf" class="outline-3">
<h3 id="org34fadbf">Sora Morimoto announced</h3>
<div class="outline-text-3" id="text-org34fadbf">
<p>
This release reduces build time by up to 2 minutes by exporting modified <code>OPAMJOBS</code> environment
variable.
</p>

<p>
<a href="https://github.com/avsm/setup-ocaml/releases/tag/v1.1.5">https://github.com/avsm/setup-ocaml/releases/tag/v1.1.5</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org5b1c1a5" class="outline-2">
<h2 id="9">Other OCaml News</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org4186cf5" class="outline-3">
<h3 id="org4186cf5">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-org4186cf5">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="https://www.ocamlpro.com/2020/12/01/memthol-exploring-program-profiling/">Memthol: exploring program profiling</a></li>
<li><a href="https://blog.janestreet.com/growing-the-hardcaml-toolset-index/">Growing the Hardcaml toolset</a></li>
<li><a href="https://rescript-lang.org/blog/editor-support-release-1-0"> Editor Plugin for VSCode and Vim Officially Released!</a></li>
<li><a href="https://blog.janestreet.com/announcing-our-market-prediction-kaggle-competition-index/">Announcing Our Market Prediction Kaggle Competition</a></li>
<li><a href="http://math.andrej.com/2020/11/24/homotopy-io/">Every proof assistant: introducing homotopy.io – a proof assistant for geometrical higher category theory</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org7ffc721" class="outline-2">
<h2 id="org7ffc721">Old CWN</h2>
<div class="outline-text-2" id="text-org7ffc721">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
