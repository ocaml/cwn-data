<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-06-29 Tue 14:22 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2021.06.22.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2021.07.06.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of June 22 to 29, 2021.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">wasicaml - a code emitter for OCaml targeting WebAssembly</a></li>
<li><a href="#2">opam 2.1.0~rc2</a></li>
<li><a href="#3">Set up OCaml 2.0.0-beta2</a></li>
<li><a href="#4">Any OCaml bindings to Apache Arrow?</a></li>
<li><a href="#5">Compiler engineer for OCaml and WebAssembly, Germany</a></li>
<li><a href="#6">v3.0.0 release of reparse, reparse-lwt, reparse-lwt-unix</a></li>
<li><a href="#7">Progress 0.2.0</a></li>
<li><a href="#8">http-multipart-formdata v2.0.0</a></li>
<li><a href="#orgbe1cd33">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">wasicaml - a code emitter for OCaml targeting WebAssembly</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2021-06/msg00017.html">https://sympa.inria.fr/sympa/arc/caml-list/2021-06/msg00017.html</a>
</p>
</div>

<div id="outline-container-org6750852" class="outline-3">
<h3 id="org6750852">Gerd Stolpmann announced</h3>
<div class="outline-text-3" id="text-org6750852">
<p>
I'd like to announce a new project to develop a code generator that emits
WebAssembly:
</p>

<p>
<a href="https://github.com/remixlabs/wasicaml">https://github.com/remixlabs/wasicaml</a>
</p>

<p>
With the support of RemixLabs I could already create a very first version
that takes the OCaml bytecode as input and translates it to WebAssembly.
While this approach probably doesn't lead to the fastest code, it is
easy to accomplish, and it demonstrates the challenge (and already shows how
to solve many of the part problems along the road).
</p>

<p>
To be precisely, the target of the translator is wasm32-unknown-wasi, i.e.
the WASI ABI. This ABI is still in early development, but provides already
the syscalls (or better, host calls) to access files, to get the current
time, and to read the environment. This is almost enough to run a compiler -
I only had to add system() so that ocamlc can start external preprocessors.
Also, due to the fact that the current wasm implementations still lack
exception handling, I had to assume the presence of a host emulation of
exceptions (which is easy to provide if the host environment is Javascript,
but not necessarily for other environments).
</p>

<p>
The translator takes the OCaml bytecode as input, i.e. you first create
an excecutable
</p>

<pre class="example" id="orgd159170">
$ ocamlc -o myexec ...
</pre>

<p>
and then make wasm out of it:
</p>

<pre class="example" id="org1964719">
$ wasicaml -o myexec.wasm myexec
</pre>

<p>
If you omit the .wasm suffix, wasicaml will put a preamble in front of the
wasm code that starts the execution:
</p>

<pre class="example" id="org3e90118">
$ wasicaml -o myexec_wasm myexec
$ ./myexec_wasm
</pre>

<p>
Because of this trick, many problems of cross-compiling can be avoided.
</p>

<p>
You may ask what the benefits of yet another "Web" language are. We already
have two emitters targeting Javascript - isn't that enough? Well, two
answers here.
</p>

<p>
First, WASI is a proper LLVM target. Because of this, you can link
code from other languages with your executable (e.g. C or Rust). So
you are not limited to OCaml but can use any language that also targets
the WASI ABI. E.g. you can do
</p>

<pre class="example" id="org994f025">
$ wasicaml -o myexec.wasm myexec -ccopt -lfoo
</pre>

<p>
to also link in libfoo.a (which must also be compiled to wasm). So
it is multi-lingual from the beginning.
</p>

<p>
Second, WebAssembly can be used outside the web, too. WASI targets more
the command-line, and server plugins, and generally any OS-independent
environments. For example, imagine you have an Electron app with a
great UI, but for some special functionality you need to include some
OCaml code, too. You don't want to give up the OS-independence, and
WASI gives you now a natural option to add the OCaml code. And you still
have access to the filesystem without hassle. - Another example is edge
computing, i.e. when the cloud is extended by computers outside the data
center, and the code should be in a form so that it can be run on as many
platforms as possible. - All in all, WASI plays well when you need to
combine OS-independence with a classic way of organizing the code as
command or as server function, and you also need predictable performance.
</p>

<p>
The challenge of translating OCaml to wasm is mainly the garbage collector.
Wasm doesn't permit many of the tricks ocamlopt is using to know in which
memory (or register) locations OCaml values are stored. In wasm, there are
no registers but the closest vehicle are local variables. Now, it is not
possible to scan these variables from the GC function, making it practically
impossible to put OCaml values there while a function is called that might
trigger a GC. There is also no really cheap way of obtaining a stack
descriptor.
</p>

<p>
Wasicaml inherits the stack from the bytecode interpreter and uses it as
its own shadow stack for OCaml values. As wasicaml bases on the bytecode
representation of the code, the bytecode instructions already ensure that
values always live in this stack when the GC might run. Wasicaml additionally
tries to identify values that don't need this special treatment (like ints
and bools) and that are preferably stored in local variables, giving the
wasm executor freedom to put these into registers or other high-speed
locations. (Unfortunately, most of the type information is already erased
in the bytecode, and this is definitely one of the deficiencies of the
bytecode approach.)
</p>

<p>
In order to maximize the performance, it is probably best to avoid the
stack whenever possible. The current approach of transforming the bytecode
hasn't brought to an end yet with respect to such optimizations. For
example, there could be more analyses that figure out when GC runs are
actually possible and when it is safe to use local variables.
</p>

<p>
Another problem of the bytecode basis is that all function calls are
indirect, preventing the wasm executor from inlining functions.
</p>

<p>
As a project, I'd like to see wasicaml progressing in two directions.
First, make the current approach as good as possible - although basing
it on the bytecode representation has its downsides, it is easy to understand
and it is possible to figure out what the necessary ingredients for fast
code are. Second, get an idea where a possible real wasm backend
would fit into the OCaml compiler (maybe it is c&#x2013; but maybe this doesn't
give us much and you start better with lambda).
</p>

<p>
Anyway, welcome to the new world of WebAssembly!
</p>

<p>
Gerd
</p>

<p>
PS. If you are interested in WebAssembly and like to work with me on another
Wasm port for some time, there is a position:
<a href="https://www.mixtional.de/recruiting/2021-01/index.html">https://www.mixtional.de/recruiting/2021-01/index.html</a>
</p>

<p>
PPS. Wasicaml is a project of Figly, Inc., commonly known as RemixLabs,
developing a reactive low-code and code collaboration platform.
<a href="https://remixlabs.com/">https://remixlabs.com/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">opam 2.1.0~rc2</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opam-2-1-0-rc2/8042/1">https://discuss.ocaml.org/t/ann-opam-2-1-0-rc2/8042/1</a>
</p>
</div>

<div id="outline-container-org4b5fe3c" class="outline-3">
<h3 id="org4b5fe3c">David Allsopp announced</h3>
<div class="outline-text-3" id="text-org4b5fe3c">
<p>
The opam team has great pleasure in announcing opam 2.1.0~rc2!
</p>

<p>
The focus since beta4 has been preparing for a world with more than one released version of opam (i.e.
2.0.x and 2.1.x). The release candidate extends CLI versioning further and, under the hood, includes a
big change to the opam root format which allows new versions of opam to indicate that the root may
still be read by older versions of the opam libraries. A plugin compiled against the 2.0.9 opam
libraries will therefore be able to read information about an opam 2.1 root (plugins and tools compiled
against 2.0.8 are unable to load opam 2.1.0 roots).
</p>

<p>
Please do take this release candidate for a spin! It is available in the Docker images at ocaml/opam on
<a href="https://hub.docker.com/r/ocaml/opam/tags">Docker Hub</a> as the opam-2.1 command (or you can <code>sudo ln -f
/usr/bin/opam-2.1 /usr/bin/opam</code> in your <code>Dockerfile</code> to switch to it permanently). The release
candidate can also be tested via our installation script (see the
<a href="https://github.com/ocaml/opam/wiki/How-to-test-an-opam-feature#from-a-tagged-release-including-pre-releases">wiki</a>
for more information).
</p>

<p>
Thank you to anyone who noticed the unannounced first release candidate and tried it out. Between
tagging and what would have been announcing it, we discovered an issue with upgrading local switches
from earlier alpha/beta releases, and so fixed that for this second release candidate.
</p>

<p>
Assuming no showstoppers, we plan to release opam 2.1.0 next week. The improvements made in 2.1.0 will
allow for a much faster release cycle, and we look forward to posting about the 2.2.0 plans soon!
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Set up OCaml 2.0.0-beta2</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-set-up-ocaml-2-0-0-beta2/8046/1">https://discuss.ocaml.org/t/ann-set-up-ocaml-2-0-0-beta2/8046/1</a>
</p>
</div>

<div id="outline-container-org7103beb" class="outline-3">
<h3 id="org7103beb">Sora Morimoto announced</h3>
<div class="outline-text-3" id="text-org7103beb">
<p>
This release includes changes to address a corner case primarily related to multicore OCaml.
</p>

<p>
<a href="https://github.com/ocaml/setup-ocaml/releases/tag/v2.0.0-beta2">https://github.com/ocaml/setup-ocaml/releases/tag/v2.0.0-beta2</a>
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">Any OCaml bindings to Apache Arrow?</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/any-ocaml-bindings-to-apache-arrow/8047/2">https://discuss.ocaml.org/t/any-ocaml-bindings-to-apache-arrow/8047/2</a>
</p>
</div>

<div id="outline-container-org74081cd" class="outline-3">
<h3 id="org74081cd">UnixJunkie asked and Laurent Mazare announced</h3>
<div class="outline-text-3" id="text-org74081cd">
<blockquote>
<p>
Looks interesting:
</p>

<p>
<a href="https://arrow.apache.org/">https://arrow.apache.org/</a>
</p>

<p>
<a href="https://arrow.apache.org/overview/">https://arrow.apache.org/overview/</a>
</p>
</blockquote>

<p>
I've put together some simple <a href="https://github.com/LaurentMazare/ocaml-arrow">ocaml-arrow</a> library. It
works reasonably well and is quite battle tested but definitely needs a bit of cleanup as the bits
under src/ are deprecated in favor of the ones under c_api/. There is also a ppx to automatically
convert ocaml records to/from arrow. Some examples using this can be seen in the <a href="https://github.com/LaurentMazare/ocaml-arrow/blob/master/c_api/tests/ppx.ml">tests
directory</a>.
</p>

<p>
If there is some interest, I can certainly push up on cleaning this and make an actual opam package.
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Compiler engineer for OCaml and WebAssembly, Germany</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/compiler-engineer-for-ocaml-and-webassembly-germany/8053/1">https://discuss.ocaml.org/t/compiler-engineer-for-ocaml-and-webassembly-germany/8053/1</a>
</p>
</div>

<div id="outline-container-org7a0baa5" class="outline-3">
<h3 id="org7a0baa5">Gerd Stolpmann announced</h3>
<div class="outline-text-3" id="text-org7a0baa5">
<p>
We are developing a compiler for a no-code platform that translates our DSL to bytecode and/or
WebAssembly. The language is largely of functional type but is also able to manage state with a
spreadsheet model, allowing reactive programming without having to resort to libraries. The language is
statically typed using a Hindley-Milner type checker. The compiler is primarily written in OCaml. Other
languages of our platform are Go, C, Elm, and Javascript.
</p>

<p>
We are looking for a compiler engineer with skills in code generation for WebAssembly:
</p>

<ul class="org-ul">
<li>Translation of an intermediate representation to WebAssembly</li>
<li>Writing runtimes and SDKs targeting WebAssembly</li>
<li>Code optimization</li>
</ul>

<p>
See the full ad here: <a href="https://www.mixtional.de/recruiting/2021-01/index.html">https://www.mixtional.de/recruiting/2021-01/index.html</a>
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">v3.0.0 release of reparse, reparse-lwt, reparse-lwt-unix</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-v3-0-0-release-of-reparse-reparse-lwt-reparse-lwt-unix/8058/1">https://discuss.ocaml.org/t/ann-v3-0-0-release-of-reparse-reparse-lwt-reparse-lwt-unix/8058/1</a>
</p>
</div>

<div id="outline-container-orgd758551" class="outline-3">
<h3 id="orgd758551">Bikal Lem announced</h3>
<div class="outline-text-3" id="text-orgd758551">
<p>
I am happy to announce v3.0.0 of <code>reparse</code> - an OCaml library for constructing various types of parsers
in OCaml.
</p>

<p>
The release follows a complete overhaul of the internal working of the library to achieve the following
goals:
</p>

<ol class="org-ol">
<li>Allow construction of efficient, zero-copy parsers. See <a href="https://github.com/lemaetech/reparse/blob/master/lib/reparse.mli#L1237">String parser for example</a>. The library provides a <a href="https://github.com/lemaetech/reparse/blob/master/lib/reparse.mli#L1230">Make functor</a> parametrised over a <code>Promise</code> and a <code>Input</code> type allowing you control over both parser memory allocation and copying.</li>

<li>Support usage of async libraries - lwt and async. Following the first point the library can now be used together with <code>lwt</code> and/or <code>async</code>. A lwt parse - for example - can now be used seamlessly with your other lwt code. The integration is seamless.</li>

<li>Provide <code>Make_buffered</code> functor to produce parsers where the input type natively doesn't allow random read, for example sockets, lwt streams and channels. There is now two new supporting packages <code>reparse-lwt</code> which provides parsing from <code>char Lwt_stream.t</code> input type and <code>reparse-lwt-unix</code> which provides parsing from <code>Lwt_unix.file_descr</code> and ~Lwt_unix.input_channel' respectively.</li>

<li>Provide <code>Make_unbuffered</code> functor to produce parsers where the input type natively supports random read, for example strings, bigstrings, bytes.</li>

<li>Introduce function <code>unsafe_any_char</code> to allow efficient (zero-copy?) parsing.</li>

<li>Prune dependencies by removing <code>base</code>.</li>
</ol>

<p>
P.S. The documentation is bit behind in this release so please bear with me while work through the
issues in the coming days.
</p>

<p>
<a href="https://github.com/lemaetech/reparse/blob/master/lib/reparse.ml">Reparse repo</a>
</p>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">Progress 0.2.0</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-progress-0-2-0/8063/1">https://discuss.ocaml.org/t/ann-progress-0-2-0/8063/1</a>
</p>
</div>

<div id="outline-container-orgc709c40" class="outline-3">
<h3 id="orgc709c40">Craig Ferguson announced</h3>
<div class="outline-text-3" id="text-orgc709c40">
<p>
I'm pleased to announce the 0.2.0 release of <a href="https://github.com/craigfe/progress"><code>Progress</code></a>, now
available via Opam.
</p>


<div id="org14e7a53" class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/original/2X/7/727d878b6d17f3c48e6946f4df424bcc59938da3.png" alt="727d878b6d17f3c48e6946f4df424bcc59938da3.png" />
</p>
</div>

<p>
<code>Progress</code> is an OCaml library for defining and using progress bars. It has the following features:
</p>

<ul class="org-ul">
<li>allows user-defined progress bar layouts;</li>
<li>supports rendering multiple progress bars simultaneously;</li>
<li>dynamically responds to changes in terminal size;</li>
<li>supports interleaving logging with progress bar rendering.</li>
</ul>

<p>
This second release contains a much-improved DSL for specifying progress bars, alongside improvements
and extensions  to the rendering logic. The bars in the screenshot above are defined as follows:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">bar</span> ~<span style="color: #a0522d;">color</span> ~<span style="color: #a0522d;">total</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #228b22;">Progress.Line</span> <span style="color: #000000; font-weight: bold;">in</span>
  list
    [ spinner <span style="color: #008b8b;">~color</span>:(<span style="color: #228b22;">Progress.Color.</span>ansi ~green) ()
    ; brackets (elapsed ())
    ; bar ~color total
    ; bytes
    ; parens (const <span style="color: #8b2252;">"eta: "</span> ++ eta total)
    ]
</pre>
</div>

<p>
It also comes with more complete
<a href="https://craigfe.github.io/progress/progress/Progress/index.html">documentation</a> and many more
<a href="https://github.com/CraigFe/progress/tree/main/examples">examples</a>, including:
</p>

<ul class="org-ul">
<li><p>
a Cargo-like progress bar w/ logging of intermediate results:
</p>


<div id="orgb0d4534" class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/optimized/2X/4/4b148999f7b6029ac0155b049b6a7cf1fa8b40f1_2_1380x500.png" alt="4b148999f7b6029ac0155b049b6a7cf1fa8b40f1_2_1380x500.png" />
</p>
</div></li>

<li><p>
a Yarn-like stack of spinners:
</p>


<div id="org5243dd8" class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/original/2X/6/67ccf011a403a4c082829f69d5a609b4c0c23f6e.png" alt="67ccf011a403a4c082829f69d5a609b4c0c23f6e.png" />
</p>
</div></li>

<li><p>
a showcase of various progress bar styles:
</p>


<div id="org87d35ee" class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/optimized/2X/d/d4df4a2df07fd161982243251fbee56d52a4afbf_2_1034x538.png" alt="d4df4a2df07fd161982243251fbee56d52a4afbf_2_1034x538.png" />
</p>
</div></li>
</ul>


<p>
The changelog is <a href="https://github.com/CraigFe/progress/blob/0.2.0/CHANGES.md#020-2021-06-26">here</a> and
the API  documentation is <a href="https://craigfe.github.io/progress/progress/Progress/index.html">here</a>. The
library is not yet feature-complete, but should still be reasonably useful :-) Happy hacking!
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">http-multipart-formdata v2.0.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-http-multipart-formdata-v2-0-0/8064/1">https://discuss.ocaml.org/t/ann-http-multipart-formdata-v2-0-0/8064/1</a>
</p>
</div>

<div id="outline-container-orgf83348c" class="outline-3">
<h3 id="orgf83348c">Bikal Lem announced</h3>
<div class="outline-text-3" id="text-orgf83348c">
<p>
I am pleased to announce v2.0.0 release of <code>http-multpart-formdata</code>. This release departs from previous
in-memory representation of http multipart forms to a streaming, memory efficient representation. The
new streaming mechanism should help when processing larg file uploads in your OCaml web applications.
</p>

<ol class="org-ol">
<li><a href="https://github.com/lemaetech/http-multipart-formdata/blob/master/examples/multipart_httpaf.ml">httpaf sample web app</a></li>
<li><a href="https://github.com/lemaetech/http-multipart-formdata">http-multipart-formdata repo</a></li>
</ol>
</div>
</div>
</div>




<div id="outline-container-orgbe1cd33" class="outline-2">
<h2 id="orgbe1cd33">Old CWN</h2>
<div class="outline-text-2" id="text-orgbe1cd33">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org098f49d">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
