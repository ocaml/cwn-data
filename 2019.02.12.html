<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-02-12 Tue 09:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2019.02.05.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2019.02.19.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of February 05 to 12, 2019.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">PSA: cohttp 2.0 removes old ocamlfind subpackage aliases</a></li>
<li><a href="#2">Interesting OCaml Articles</a></li>
<li><a href="#3">Major Release of Base64 / Article</a></li>
<li><a href="#4">Orsetto: structured data interchange languages (preview release)</a></li>
<li><a href="#5">OCaml 4.08.0+beta1</a></li>
<li><a href="#6">OCaml meetup in SF on 2/12</a></li>
<li><a href="#7">Is anyone doing Design by Contract in OCaml?</a></li>
<li><a href="#8">Dune and Multicore</a></li>
<li><a href="#9">Other OCaml News</a></li>
<li><a href="#org15df5d4">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org7d9ff5e" class="outline-2">
<h2 id="1">PSA: cohttp 2.0 removes old ocamlfind subpackage aliases</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/psa-cohttp-2-0-removes-old-ocamlfind-subpackage-aliases/3290/1">https://discuss.ocaml.org/t/psa-cohttp-2-0-removes-old-ocamlfind-subpackage-aliases/3290/1</a>
</p>
</div>

<div id="outline-container-org0e31ebb" class="outline-3">
<h3 id="org0e31ebb">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-org0e31ebb">
<p>
In a similar vein to the recent <a href="https://discuss.ocaml.org/t/psa-cstruct-3-4-0-removes-old-ocamlfind-subpackage-aliases/3275">cstruct change</a>, the HTTP client and server library <a href="https://github.com/mirage/ocaml-cohttp/blob/master/CHANGES.md">cohttp 2.0 has just been released</a> with some deprecation changes that you should be aware of.
</p>

<p>
In cohttp.0.99, a number of subpackages were turned into explicit opam packages to simplify dependency management. To aid migration, some compatability shims were left in place so that the old findlib names would continue to work. They have now been removed as of this release. If you were still using them, then please rename them as follows in your <code>dune</code> or <code>_tags</code> files to use the name findlib names:
</p>

<ul class="org-ul">
<li><code>cohttp.lwt-core</code> -&gt; <code>cohttp-lwt</code></li>
<li><code>cohttp.lwt</code> -&gt; <code>cohttp-lwt-unix</code></li>
<li><code>cohttp.js</code> -&gt; <code>cohttp-lwt-jsoo</code></li>
<li><code>cohttp.async</code> -&gt; <code>cohttp-async</code></li>
<li><code>cohttp.top</code> -&gt; <code>cohttp-top</code></li>
</ul>

<p>
Once you have renamed it in your build system, just add the corresponding new package name to your <code>opam</code> dependency list as well.
</p>

<p>
The reason for removing the compatibility shim is that the old ocamlfind names do not work when embedding the dune libraries in a <a href="http://www.dra27.uk/blog/platform/2018/08/15/dune-vendoring.html">dune vendor workspace</a>.  So I'm removing the technical debt now to make those so-called "duniverse" deployments significantly easier to manage.
</p>
</div>
</div>
</div>




<div id="outline-container-orgdf26fb0" class="outline-2">
<h2 id="2">Interesting OCaml Articles</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/interesting-ocaml-articles/1867/39">https://discuss.ocaml.org/t/interesting-ocaml-articles/1867/39</a>
</p>
</div>

<div id="outline-container-org5c9d7f8" class="outline-3">
<h3 id="org5c9d7f8">UnixJunkie announced</h3>
<div class="outline-text-3" id="text-org5c9d7f8">
<p>
Ok, here is my contribution to try promoting OCaml in my field:
<a href="https://jcheminf.biomedcentral.com/articles/10.1186/s13321-019-0332-0">https://jcheminf.biomedcentral.com/articles/10.1186/s13321-019-0332-0</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org81d1148" class="outline-2">
<h2 id="3">Major Release of Base64 / Article</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-major-release-of-base64-article/3297/1">https://discuss.ocaml.org/t/ann-major-release-of-base64-article/3297/1</a>
</p>
</div>

<div id="outline-container-orgee570d2" class="outline-3">
<h3 id="orgee570d2">Calascibetta Romain wrote</h3>
<div class="outline-text-3" id="text-orgee570d2">
<p>
Editor note: this post is too long for this newsletter. It is available online at
<a href="https://tarides.com/blog/2019-02-08-release-of-base64.html">https://tarides.com/blog/2019-02-08-release-of-base64.html</a>
</p>
</div>
</div>


<div id="outline-container-org0be6463" class="outline-3">
<h3 id="org0be6463">James Woodyatt then said</h3>
<div class="outline-text-3" id="text-org0be6463">
<p>
This is an excellent article! Thanks for writing it up.
</p>

<p>
p.s. I don't want to hijack this thread, but I'd like to mention that all three of the problems discussed in this article were already known to me when I wrote the <a href="https://bitbucket.org/jhw/orsetto/src/unstable/src/cf/cf_base64.mli">Base64 implementation</a> in my forthcoming <a href="https://bitbucket.org/jhw/orsetto/">Orsetto</a> framework of structured data interchange languages. (Expect an announcement before Monday about its preview release. Also, for the MirageOS people: my implementations are generally not speed demons. I've left a lot of room for myself to make performance improvements in the future.)
</p>
</div>
</div>
</div>




<div id="outline-container-org1a76ae3" class="outline-2">
<h2 id="4">Orsetto: structured data interchange languages (preview release)</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-orsetto-structured-data-interchange-languages-preview-release/3304/1">https://discuss.ocaml.org/t/ann-orsetto-structured-data-interchange-languages-preview-release/3304/1</a>
</p>
</div>

<div id="outline-container-org33cb36c" class="outline-3">
<h3 id="org33cb36c">James Woodyatt announced</h3>
<div class="outline-text-3" id="text-org33cb36c">
<p>
I am pleased to announce that I've reached the <b>preview</b> milestone I set for my <a href="https://bitbucket.org/jhw/orsetto">Orsetto</a> project. As I wrote in the <b>README</b> file about it:
</p>

<blockquote>
<p>
Orsetto is a standalone library comprising a core toolkit&#x2026;
</p>

<ul class="org-ul">
<li>Core functional data structures and processes.</li>
<li>Unicode transport, normalization, parsing and formatting.</li>
<li>General purpose packet format encoder-decoder processes.</li>
</ul>

<p>
&#x2026;used to implement streaming parsers and formatters for a useful variety of
structured data interchange languages&#x2026;
</p>
</blockquote>

<p>
In the preview release, the major featured languages are only <b>JSON</b> and <b>CBOR</b>, but my hope is to expand this list to include a variety of other useful languages. The programming interfaces are sufficiently different from other implementations that I feel Orsetto may be a welcome alternative to have available.
</p>

<p>
Orsetto is currently available from my personal OPAM repository, which you can use in the conventional way:
</p>

<div class="org-src-container">
<pre class="src src-shell">opam repository add jhwoodyatt git+https://bitbucket.org/jhw/opam-personal.git
</pre>
</div>

<p>
In two weeks, unless discussion here convinces me to delay or defer, then I will request to make Orsetto available on the public OPAM repository along with a commitment to make patch releases as necessary to correct errors.
</p>

<p>
At this time, I'm inviting the OCaml community to give it a look, post comments and questions about it here, file issues on <a href="https://bitbucket.org/jhw/orsetto/issues">the Issue tracker</a> if you notice anything wrong. I'm especially interested in knowing about name conflicts that I need to avoid. Once I push to the public OPAM repository, I want to be able to move quickly toward its first <b>stable</b> release.
</p>
</div>
</div>
</div>




<div id="outline-container-orgc9f5537" class="outline-2">
<h2 id="5">OCaml 4.08.0+beta1</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2019-02/msg00014.html">https://sympa.inria.fr/sympa/arc/caml-list/2019-02/msg00014.html</a>
</p>
</div>

<div id="outline-container-orga847192" class="outline-3">
<h3 id="orga847192">Damien Doligez announced</h3>
<div class="outline-text-3" id="text-orga847192">
<p>
The release of OCaml 4.08.0 is approaching. We have created
a beta version to help you adapt your software to the new features
ahead of the release.
</p>

<p>
The source code is available at these addresses:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/archive/4.08.0+beta1.tar.gz">https://github.com/ocaml/ocaml/archive/4.08.0+beta1.tar.gz</a><br />
<a href="https://caml.inria.fr/pub/distrib/ocaml-4.08/ocaml-4.08.0+beta1.tar.gz">https://caml.inria.fr/pub/distrib/ocaml-4.08/ocaml-4.08.0+beta1.tar.gz</a>
</p>

<p>
The compiler can also be installed as an OPAM switch with one of the
following commands.
</p>

<div class="org-src-container">
<pre class="src src-shell">opam switch create ocaml-variants.4.08.0+beta1 --repositories=default,<span style="color: #a0522d;">beta</span>=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
</div>

<p>
or
</p>

<div class="org-src-container">
<pre class="src src-shell">opam switch create ocaml-variants.4.08.0+beta1+&lt;VARIANT&gt; --repositories=default,<span style="color: #a0522d;">beta</span>=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
</div>
<p>
where you replace &lt;VARIANT&gt; with one of these:
</p>
<ul class="org-ul">
<li>afl</li>
<li>default_unsafe_string</li>
<li>flambda</li>
<li>fp</li>
<li>fp+flambda</li>
</ul>

<p>
We want to know about all bugs. Please report them here:
  <a href="http://caml.inria.fr/mantis/bug_report_page.php">http://caml.inria.fr/mantis/bug_report_page.php</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org18d5a46" class="outline-2">
<h2 id="6">OCaml meetup in SF on 2/12</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-meetup-in-sf-on-2-12/3324/1">https://discuss.ocaml.org/t/ocaml-meetup-in-sf-on-2-12/3324/1</a>
</p>
</div>

<div id="outline-container-org3c1b6b4" class="outline-3">
<h3 id="org3c1b6b4">Brandon Kase announced</h3>
<div class="outline-text-3" id="text-org3c1b6b4">
<p>
Hey all! We're hosting an OCaml/ReasonML meetup in SF tomorrow night (2/12) at 6:30PM. We'll have food, drinks, and some really interesting talks:
</p>

<ul class="org-ul">
<li>Shallow Dive into the Philosophy of Reprocessing by Avery Morin. How Reprocessing tries to stay approachable to enable anyone to do creative work in ReasonML.</li>
<li>A conversation about ReasonML in production (and side projects) between a junior and senior engineer</li>
</ul>
<p>
Yuki Li and Sean Grove will debate the pros/cons of using ReasonML in large production systems, whether ReasonML has a place in side projects and prototypes, and how junior developers will be helped and hurt by the language and its ecosystem.
</p>

<p>
We'll also have plenty of time to chat, eat, and hang out. People of all backgrounds / skill levels are welcome, please just RSVP below so we know how much food to get!
</p>

<p>
<a href="https://www.meetup.com/sv-ocaml/events/258482142/">https://www.meetup.com/sv-ocaml/events/258482142/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgfc0acc4" class="outline-2">
<h2 id="7">Is anyone doing Design by Contract in OCaml?</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/is-anyone-doing-design-by-contract-in-ocaml/3301/1">https://discuss.ocaml.org/t/is-anyone-doing-design-by-contract-in-ocaml/3301/1</a>
</p>
</div>

<div id="outline-container-org5f2a3cf" class="outline-3">
<h3 id="org5f2a3cf">Yawar Amin asked</h3>
<div class="outline-text-3" id="text-org5f2a3cf">
<p>
I noticed there are a couple of research projects that implement new language features for a contract language, but not seeing anything library-based for mainline OCaml. Is anyone doing it now or in did in the past? Wondering what people's thoughts are. Personally, today I feel it should be possible to do with extension points. Maybe something like,
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">divide</span><span style="color: #a0522d;"> x y</span> <span style="color: #a52a2a;">=</span> x <span style="color: #a52a2a;">/</span> y
<span style="color: #483d8b;">[@@dbc.pre </span><span style="color: #8b2252;">"y &lt;&gt; 0"</span><span style="color: #483d8b;">]</span>
<span style="color: #483d8b;">[@@dbc.post </span><span style="color: #8b2252;">"result * y = x"</span><span style="color: #483d8b;">]</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orge79c07f" class="outline-3">
<h3 id="orge79c07f">Denis Ignatovich said</h3>
<div class="outline-text-3" id="text-orge79c07f">
<p>
Check out <a href="https://try.imandra.ai">https://try.imandra.ai</a>. It has a bunch of examples in Jupyter notebooks. There's also the docs page <a href="https://docs.imandra.ai">https://docs.imandra.ai</a>
</p>

<p>
Your example above would look something like this (with integer arithmetic, obv):
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #a52a2a;">#</span> <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">divide</span><span style="color: #a0522d;"> x y</span> <span style="color: #a52a2a;">=</span> x <span style="color: #a52a2a;">/</span> y<span style="color: #ff4500;">;;</span>
<span style="color: #000000; font-weight: bold;">val</span> <span style="color: #0000ff;">divide</span> <span style="color: #a52a2a;">:</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">-&gt;</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">-&gt;</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">=</span> <span style="color: #a52a2a;">&lt;</span><span style="color: #a020f0;">fun</span><span style="color: #a52a2a;">&gt;</span>
<span style="color: #a52a2a;">#</span> verify <span style="color: #a52a2a;">(</span><span style="color: #a020f0;">fun</span> <span style="color: #a52a2a;">(</span><span style="color: #a0522d;">x</span><span style="color: #a52a2a;">,</span><span style="color: #a0522d;"> y</span><span style="color: #a52a2a;">)</span> <span style="color: #a52a2a;">-&gt;</span> <span style="color: #a52a2a;">(</span>y <span style="color: #a52a2a;">&lt;&gt;</span> 0<span style="color: #a52a2a;">)</span> <span style="color: #a52a2a;">==&gt;</span> <span style="color: #a52a2a;">(((</span>divide x y<span style="color: #a52a2a;">)</span> <span style="color: #a52a2a;">*</span> y<span style="color: #a52a2a;">)</span> <span style="color: #a52a2a;">=</span> x<span style="color: #a52a2a;">))</span><span style="color: #ff4500;">;;</span>
<span style="color: #a52a2a;">-</span> <span style="color: #a52a2a;">:</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">*</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">-&gt;</span> bool <span style="color: #a52a2a;">=</span> <span style="color: #a52a2a;">&lt;</span><span style="color: #a020f0;">fun</span><span style="color: #a52a2a;">&gt;</span>
<span style="color: #000000; background-color: #ffffff;">Counterexample</span> <span style="color: #a52a2a;">(</span>after 0 steps<span style="color: #a52a2a;">,</span> 0.020s<span style="color: #a52a2a;">):</span>
 <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">_x</span> <span style="color: #a52a2a;">=</span> <span style="color: #a52a2a;">(</span>1<span style="color: #a52a2a;">,</span> 2<span style="color: #a52a2a;">)</span>
<span style="color: #a52a2a;">[</span>&#10007;<span style="color: #a52a2a;">]</span> <span style="color: #000000; background-color: #ffffff;">Conjecture</span> refuted.
<span style="color: #000000; font-weight: bold;">module</span> <span style="color: #228b22;">CX</span> <span style="color: #a52a2a;">:</span> <span style="color: #000000; font-weight: bold;">sig</span> <span style="color: #000000; font-weight: bold;">val</span> <span style="color: #0000ff;">_x</span> <span style="color: #a52a2a;">:</span> <span style="color: #228b22;">Z.</span>t <span style="color: #a52a2a;">*</span> <span style="color: #228b22;">Z.</span>t <span style="color: #000000; font-weight: bold;">end</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org293b645" class="outline-3">
<h3 id="org293b645">Ivan Gotovchits also said</h3>
<div class="outline-text-3" id="text-org293b645">
<p>
A possible approach, on which I was experimenting some time ago, would be to use ephemerons to attach predicates to data, which could be later checked (a mere presence check) on the caller side.
Something like this:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">typecheck</span><span style="color: #a0522d;"> code</span> <span style="color: #a52a2a;">=</span>
   ensures <span style="color: #a52a2a;">[</span><span style="color: #8b2252;">"well-typed"</span><span style="color: #a52a2a;">]</span> <span style="color: #a52a2a;">@@</span>
   perform_typecheck code

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">normalize</span><span style="color: #a0522d;"> code</span> <span style="color: #a52a2a;">=</span>
   requires <span style="color: #a52a2a;">[</span><span style="color: #8b2252;">"well-typed"</span><span style="color: #a52a2a;">];</span>
   provides <span style="color: #a52a2a;">[</span><span style="color: #8b2252;">"well-typed"</span><span style="color: #a52a2a;">;</span> <span style="color: #8b2252;">"normal-form"</span><span style="color: #a52a2a;">]</span> <span style="color: #a52a2a;">@@</span>
   perform_normalization code

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">optimize</span><span style="color: #a0522d;"> code</span> <span style="color: #a52a2a;">=</span>
   requires <span style="color: #a52a2a;">[</span><span style="color: #8b2252;">"normal-form"</span><span style="color: #a52a2a;">;</span> <span style="color: #8b2252;">"well-typed"</span><span style="color: #a52a2a;">];</span>
   provides <span style="color: #a52a2a;">[</span><span style="color: #8b2252;">"normal-form"</span><span style="color: #a52a2a;">;</span> <span style="color: #8b2252;">"well-typed"</span><span style="color: #a52a2a;">;</span> <span style="color: #8b2252;">"optimized"</span><span style="color: #a52a2a;">]</span> <span style="color: #a52a2a;">@@</span>
   do_optimizations code
</pre>
</div>
<p>
where <code>requires tags obj</code> is a function of type <code>string list -&gt; 'a -&gt; unit</code> that takes a list of tags, denoting features, and checks that they are attached to the given object, and <code>provides tags obj</code> is a function of type <code>string list -&gt; object -&gt; object</code> takes a list of features and attaches it to the object (an alternative syntax is having type <code>object -&gt; unit</code>, since an ephemeron is a mutable hashtable).
</p>

<p>
The implementation is using ephemerons, which are hashtables indexed with arbitrary boxed objects with a special treatment of liveness (i.e., values from those hashtables disappear when the index disappear, so no memory leakage should happen).
</p>

<p>
The main benefit of this approach is its simplicity, it is vanilla OCaml, it is easy to implement, and easy to disable. The main drawback is that it works only with heap values (aka boxed values) and that it is not reflected in the function signature. And of course, since it is that simple, the contract can't actually be a formula, especially that references the host language.
</p>
</div>
</div>
</div>




<div id="outline-container-org889192f" class="outline-2">
<h2 id="8">Dune and Multicore</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/dune-and-multicore/3315/1">https://discuss.ocaml.org/t/dune-and-multicore/3315/1</a>
</p>
</div>

<div id="outline-container-org408d2f6" class="outline-3">
<h3 id="org408d2f6">james woodyatt announced</h3>
<div class="outline-text-3" id="text-org408d2f6">
<p>
For grins, I updated my <span class="underline">multicore</span> OPAM switch and started looking into what is currently keeping my Orsetto project from compiling there. At the moment, the answer is that Dune doesn't compile. Which I suppose is not really noteworthy, because multicore is still way way off, but I was vastly amused by the log message that appeared on my console:
</p>

<blockquote>
<p>
I must not segfault. Uncertainty is the mind-killer. Exceptions are the
little-death that brings total obliteration. I will fully express my cases.
Execution will pass over me and through me. And when it has gone past, I will
unwind the stack along its path. Where the cases are handled there will be
nothing. Only I will remain.
</p>
</blockquote>

<p>
I don't know who wrote this, but it has me rolling on the floor— especially given the irony of this happening on a compiler that's trying to introduce algebraic effects. Just wanted to raise a glass for that here. Bravo, whoever you are. You have won the Internet today.
</p>
</div>
</div>
</div>




<div id="outline-container-orgd9e02cd" class="outline-2">
<h2 id="9">Other OCaml News</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgf623590" class="outline-3">
<h3 id="orgf623590">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-orgf623590">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="http://www.ocamlpro.com/2019/02/11/whats-new-for-alt-ergo-in-2018-here-is-a-recap/">What’s new for Alt-Ergo in 2018 ? Here is a recap !</a></li>
<li><a href="https://gaiustech.wordpress.com/2019/02/10/learning-a-new-language/">Learning a New Language</a></li>
<li><a href="https://tarides.com/blog/2019-02-08-release-of-base64.html">Release of Base64</a></li>
<li><a href="https://functionaljobs.com/jobs/9142-ocaml-server-side-developer-at-ahrefs">OCaml server-side developer at Ahrefs (Full-time)</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org15df5d4" class="outline-2">
<h2 id="org15df5d4">Old CWN</h2>
<div class="outline-text-2" id="text-org15df5d4">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
