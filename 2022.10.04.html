<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-10-04 Tue 14:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.09.27.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.10.11.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of September 27 to October 04, 2022.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">How to dump many floats in binary format so that OCaml can read them in later</a></li>
<li><a href="#2">Beta of neovim treesitter-reason</a></li>
<li><a href="#3">data-encoding 0.7</a></li>
<li><a href="#4">New OCaml meetup group in Toulouse (in French)</a></li>
<li><a href="#5">opam-mirror: a MirageOS unikernel that provides an opam repository and cache</a></li>
<li><a href="#6">Aches.1.0.0, Ringo.1.0.0</a></li>
<li><a href="#7">Multicore with opam&#x2013;instructions?</a></li>
<li><a href="#8">Other OCaml News</a></li>
<li><a href="#org364f823">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">How to dump many floats in binary format so that OCaml can read them in later</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/how-to-dump-many-floats-in-binary-format-so-that-ocaml-can-read-them-in-later/9995/1">https://discuss.ocaml.org/t/how-to-dump-many-floats-in-binary-format-so-that-ocaml-can-read-them-in-later/9995/1</a>
</p>
</div>

<div id="outline-container-orgefad280" class="outline-3">
<h3 id="orgefad280">A long time ago, UnixJunkie asked</h3>
<div class="outline-text-3" id="text-orgefad280">
<p>
I need to write out to disk many floats from a Python script (but that could also be from a C program).
Later, I would like to read them as 32bit floats in OCaml.
What is the format I should use?
I want to use 32bit floats, because 64bit floats would be two times more data.
I guess 32 bits precision is way enough for what I am doing.
</p>
</div>
</div>


<div id="outline-container-orgc75accc" class="outline-3">
<h3 id="orgc75accc">pukkamustard replied</h3>
<div class="outline-text-3" id="text-orgc75accc">
<p>
Maybe something like CBOR would work for you? It&rsquo;s a standardized binary serialization format that has <a href="https://www.rfc-editor.org/rfc/rfc8949.html#name-floating-point-numbers-and-">a dedicated
datatype for 32bit floats</a> and there
are implementations for OCaml and Python (and many other languages).
</p>

<p>
Shameless plug: I am the author of a CBOR implementation for OCaml: <a href="https://opam.ocaml.org/packages/cborl/">https://opam.ocaml.org/packages/cborl/</a>
</p>
</div>
</div>


<div id="outline-container-org8e534d0" class="outline-3">
<h3 id="org8e534d0">UnixJunkie said and Xavier Leroy replide</h3>
<div class="outline-text-3" id="text-org8e534d0">
<blockquote>
<p>
Nice, so for integers, I should be using: Stdlib.output_binary_int and input_binary_int.
</p>
</blockquote>

<p>
No.  These functions operate on the low 32 bits of values of type <code>int</code>, meaning that on 32-bit platforms you&rsquo;ll
lose some bits.
</p>

<p>
For reliable encoding/decoding of 32 and 64-bit integers, please use <code>Bytes.{get,set}_int{32,64}_{le,be,ne}</code>, which
also let you control the endianness you want to use.
</p>
</div>
</div>


<div id="outline-container-orgf604052" class="outline-3">
<h3 id="orgf604052">Carmelo Piccione said</h3>
<div class="outline-text-3" id="text-orgf604052">
<p>
This might be too heavy handed for you but <a href="https://github.com/vbrankov/hdf5-ocaml">hdf5</a> is a decent choice for
serializing and loading back up large numerical datasets, especially if your data is shaped like a typical
dataframe.
</p>

<p>
It has a proven track record as it is often used by the scientific computing community and the finance industry as
well. They like the fact that it&rsquo;s high performance, standardized, and supports hierarchies and thus multiple
datasets within one file. You can also memory map to it or use filters and chunking to avoid loading the entire
file.
</p>

<p>
The biggest negative: there is only a complex C library implementation of it which is inevitably wrapped to other
languages, including ocaml.
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Beta of neovim treesitter-reason</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-beta-of-neovim-treesitter-reason/10541/1">https://discuss.ocaml.org/t/ann-beta-of-neovim-treesitter-reason/10541/1</a>
</p>
</div>

<div id="outline-container-orgc695a80" class="outline-3">
<h3 id="orgc695a80">Danielo Rodríguez announced</h3>
<div class="outline-text-3" id="text-orgc695a80">
<p>
I&rsquo;m happy to share that my neovim plugin for adding tree-sitter support for reason (which is a fork of the rescript
tree-sitter plugin for neovim) has now reached an &ldquo;usable&rdquo; state. It still needs development, and there are things
that still only make sense for rescript, but it is already helping me in my everyday work.
Everybody is welcome to contribute if you find it valuable. Not sure if this is interesting in an Ocaml forum, but I
guess that some people may use the reason syntax, and since there is no Reason forum anymore, I will be posting it
here and in rescript one.
</p>

<p>
Here is the project: <a href="https://github.com/danielo515/nvim-treesitter-reason">https://github.com/danielo515/nvim-treesitter-reason</a>
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">data-encoding 0.7</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-data-encoding-0-7/10545/1">https://discuss.ocaml.org/t/ann-data-encoding-0-7/10545/1</a>
</p>
</div>

<div id="outline-container-orgbaf8fd6" class="outline-3">
<h3 id="orgbaf8fd6">Raphaël Proust announced</h3>
<div class="outline-text-3" id="text-orgbaf8fd6">
<p>
Version 0.7 of the Data-encoding library has just been released.
</p>

<p>
Data-encoding is a library for describing binary and JSON encodings for your various OCaml types and for serialising
to and deserialising from those descriptions.
</p>

<p>
The library is used within the <a href="https://gitlab.com/tezos/tezos">Tezos project</a>. It is <a href="https://gitlab.com/nomadic-labs/data-encoding">hosted on
Gitlab</a> under the MIT License. It is distributed on <code>opam</code>.
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">New OCaml meetup group in Toulouse (in French)</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/new-ocaml-meetup-group-in-toulouse-in-french/10420/5">https://discuss.ocaml.org/t/new-ocaml-meetup-group-in-toulouse-in-french/10420/5</a>
</p>
</div>

<div id="outline-container-org33e38c2" class="outline-3">
<h3 id="org33e38c2">R. Boujbel announced</h3>
<div class="outline-text-3" id="text-org33e38c2">
<p>
Le premier meetup se tiendra le 11 octobre à 18h à la <a href="https://www.ut-capitole.fr/accueil/campus/vie-etudiante/plans-dacces/plan-ut-capitole-la-manufacture-des-tabacs">Manufacture des
Tabacs</a>.
Merci de nous informer de votre présence en vous inscrivant sur <a href="https://www.meetup.com/fr-FR/ocaml-toulouse/events/288464047/">cette
page</a> contenant les détails de la session.
</p>

<p>
Au plaisir de vous y retrouver !
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">opam-mirror: a MirageOS unikernel that provides an opam repository and cache</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opam-mirror-a-mirageos-unikernel-that-provides-an-opam-repository-and-cache/10549/1">https://discuss.ocaml.org/t/ann-opam-mirror-a-mirageos-unikernel-that-provides-an-opam-repository-and-cache/10549/1</a>
</p>
</div>

<div id="outline-container-org70e0e1a" class="outline-3">
<h3 id="org70e0e1a">Hannes Mehnert announced</h3>
<div class="outline-text-3" id="text-org70e0e1a">
<p>
We at <a href="https://robur.coop">robur</a> developed <a href="https://git.robur.io/robur/opam-mirror">opam-mirror</a> in the last month
and run a public opam mirror at <a href="https://opam.robur.coop">https://opam.robur.coop</a> (updated hourly).
</p>

<p>
This was nice collaborative work with @reynir and @dinosaure, and we have an article
<a href="https://hannes.robur.coop/Posts/OpamMirror">https://hannes.robur.coop/Posts/OpamMirror</a> and the source code <a href="https://git.robur.io/robur/opam-mirror">https://git.robur.io/robur/opam-mirror</a>
</p>

<p>
Enjoy reading, feedback welcome. :D
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Aches.1.0.0, Ringo.1.0.0</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-aches-1-0-0-ringo-1-0-0/10552/1">https://discuss.ocaml.org/t/ann-aches-1-0-0-ringo-1-0-0/10552/1</a>
</p>
</div>

<div id="outline-container-orgfc9e7ed" class="outline-3">
<h3 id="orgfc9e7ed">Raphaël Proust announced</h3>
<div class="outline-text-3" id="text-orgfc9e7ed">
<p>
Version 1.0.0 of the Aches and Ringo libraries have just been released.
</p>

<p>
Aches provide various caches (Sets, Maps) with various policies (FIFO/LIFO, Strong/Weak, etc.). It also makes a
distinctions between value caches (caches for in-memory values which are ultimately cleaned by the GC) and resource
caches (caches which model resources such as file-descriptors which need some cleaning-up), providing different
mechanisms for retrieval to help ensure all resources are properly cleaned as needed.
</p>

<p>
Ringo is a support library for Aches which may also be of interest to other developers. It provides doubly-linked
lists and rings.
</p>

<p>
Finally, the Aches-lwt library provides caches for values which can take some time to obtain, in the form of Lwt
promises — for instance, the content of a file stored on a remote machine.
</p>

<p>
This is the first stable release of Ringo, Aches, and Aches-lwt; future versions will adhere to the semantic
versioning scheme.
</p>

<p>
The libraries are used within the <a href="https://gitlab.com/tezos/tezos">Tezos</a> project. They are hosted on a single
repository on <a href="https://gitlab.com/nomadic-labs/ringo">Gitlab</a> under the MIT License. They are distributed on <code>opam</code>.
</p>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">Multicore with opam&#x2013;instructions?</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/multicore-with-opam-instructions/10548/9">https://discuss.ocaml.org/t/multicore-with-opam-instructions/10548/9</a>
</p>
</div>

<div id="outline-container-orgd3c7446" class="outline-3">
<h3 id="orgd3c7446">Yawar Amin announced</h3>
<div class="outline-text-3" id="text-orgd3c7446">
<p>
If anyone is interested–I wrote a post with a Multicore/Eio experiment:
<a href="https://dev.to/yawaramin/practical-ocaml-multicore-edition-3gf2">https://dev.to/yawaramin/practical-ocaml-multicore-edition-3gf2</a>
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">Other OCaml News</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org613352f" class="outline-3">
<h3 id="org613352f">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-org613352f">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://hannes.robur.coop/Posts/OpamMirror">Mirroring the opam repository and all tarballs</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org364f823" class="outline-2">
<h2 id="org364f823">Old CWN</h2>
<div class="outline-text-2" id="text-org364f823">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org7efd3d3">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
