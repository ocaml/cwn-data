<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-01-05 Tue 12:17 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.12.29.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2021.01.12.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of December 29, 2020 to January 05, 2021.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">First release of Feat</a></li>
<li><a href="#2">OCluster and OBuilder</a></li>
<li><a href="#3">Plotting 3D vectors</a></li>
<li><a href="#4">Marshal determinism and stability</a></li>
<li><a href="#5">It there a tutorial for <code>js_of_ocaml</code> with simple graphics?</a></li>
<li><a href="#6">Interesting OCaml exercises from François Pottier available online</a></li>
<li><a href="#org5c750ff">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org2b82eab" class="outline-2">
<h2 id="1">First release of Feat</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-feat/7033/1">https://discuss.ocaml.org/t/ann-first-release-of-feat/7033/1</a>
</p>
</div>

<div id="outline-container-org904708a" class="outline-3">
<h3 id="org904708a">François Pottier announced</h3>
<div class="outline-text-3" id="text-org904708a">
<p>
A brief note to announce the first release of Feat:
</p>

<pre class="example">
opam update
opam install feat
</pre>

<p>
Feat is a library that offers support for counting, enumerating, and sampling
objects of a certain kind, such as (say) the inhabitants of an algebraic data
type.
</p>

<p>
Feat was inspired by the paper "Feat: Functional Enumeration of Algebraic Types"
by Jonas Duregård, Patrik Jansson and Meng Wang (2012).
</p>

<p>
More details can be found here:
</p>

<p>
<a href="https://gitlab.inria.fr/fpottier/feat/">https://gitlab.inria.fr/fpottier/feat/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org0c11512" class="outline-2">
<h2 id="2">OCluster and OBuilder</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocluster-and-obuilder/7035/1">https://discuss.ocaml.org/t/ann-ocluster-and-obuilder/7035/1</a>
</p>
</div>

<div id="outline-container-orgb3f2b89" class="outline-3">
<h3 id="orgb3f2b89">Thomas Leonard announced</h3>
<div class="outline-text-3" id="text-orgb3f2b89">
<p>
I'm pleased to announce the first release of <a href="https://github.com/ocurrent/ocluster">OCluster</a>. A user
can submit a build job (either a Dockerfile or an OBuilder spec) to the scheduler, which then runs the
build on a worker machine, streaming the logs back to the client.
</p>

<p>
This is the build scheduler / cluster manager that we use for e.g.
<a href="https://github.com/ocurrent/opam-repo-ci">opam-repo-ci</a> (which you may have seen in action if you
submitted a package to opam-repository recently).
</p>

<p>
See <a href="https://github.com/ocurrent/overview">ocurrent/overview</a> for a quick overview of the various other
CI services using it too.
</p>

<p>
To install and run the scheduler use e.g.
</p>

<div class="org-src-container">
<pre class="src src-shell">opam depext -i ocluster
mkdir capnp-secrets
ocluster-scheduler <span style="color: #8b2252;">\</span>
  --capnp-secret-key-file=./capnp-secrets/key.pem <span style="color: #8b2252;">\</span>
  --capnp-listen-address=tcp:0.0.0.0:9000 <span style="color: #8b2252;">\</span>
  --capnp-public-address=tcp:127.0.0.1:9000 <span style="color: #8b2252;">\</span>
  --state-dir=/var/lib/ocluster-scheduler <span style="color: #8b2252;">\</span>
  --pools=linux-arm32,linux-x86_64
</pre>
</div>

<p>
It will generate <code>key.pem</code> on the first run, as well as various capability files granting access for
workers and clients. You then copy each generated pool capability (e.g. <code>pool-linux-x86_64.cap</code>) to
each machine you want in that pool, and run <code>ocluster-worker pool-linux-x86_64.cap</code> to start the worker
agent. See the <a href="https://github.com/ocurrent/ocluster/blob/master/README.md">README</a> for full details.
</p>

<p>
<a href="https://github.com/ocurrent/obuilder">OBuilder</a> is an alternative to <code>docker build</code>. The main
differences are that it takes a spec in S-expression format, which is easier to generate than a
Dockerfile, handles concurrent builds reliably, and keeps copies of the logs so that you still see the
output even if someone else performed the same build step earlier and the result is therefore taken
from the cache.
</p>

<p>
It currently supports ZFS and Btrfs for storage (it needs cheap snapshots) and <code>runc</code> for sandboxing
builds. <a href="https://github.com/ocurrent/obuilder/issues/57">macos support</a> is under development, but not
yet upstreamed. It should be fairly easy to add support for any platform that has some form of secure
chroot.
</p>

<p>
OCluster supports monitoring with Prometheus, so you can see what the cluster is doing:
</p>


<div class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/optimized/2X/d/d5ff5aaa0259d7b59445b156e6b642a421040b64_2_920x750.png" alt="d5ff5aaa0259d7b59445b156e6b642a421040b64_2_920x750.png" />
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org7720f45" class="outline-2">
<h2 id="3">Plotting 3D vectors</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/plotting-3d-vectors/7038/1">https://discuss.ocaml.org/t/plotting-3d-vectors/7038/1</a>
</p>
</div>

<div id="outline-container-org10ea6ca" class="outline-3">
<h3 id="org10ea6ca">Andreas Poisel asked</h3>
<div class="outline-text-3" id="text-org10ea6ca">
<p>
I'm doing linear algebra with Owl.  Owl-plplot works great for visualizing 2D vectors, but it doesn't
seem to capable of plotting 3D vectors.
</p>

<p>
I took a (fast) look at vanilla <a href="http://plplot.org/">Plplot</a>,
<a href="https://github.com/sanette/oplot">Oplot</a>, and the <a href="https://github.com/c-cube/ocaml-gnuplot">GNUplot
bindings</a>, but I didn't find a simple way to plot 3D vectors.
</p>

<p>
I don't need high quality plots, 3D surfaces, a lot of control or fancy features, just a coordinate
system and some function to draw geometric primitives (points, lines, circles, etc.).
</p>

<p>
Did I miss anything or do I have to build this myself with the good old Graphics module?
</p>
</div>
</div>


<div id="outline-container-orgc3f7230" class="outline-3">
<h3 id="orgc3f7230">Marshall Abrams replied</h3>
<div class="outline-text-3" id="text-orgc3f7230">
<p>
What kind of vector representation do you want?  Just lines/arrows in 3D?  That's just a curve in 3D,
so it should be possible with Owl and plplot, at least.  Looks like it should be easy with oplot, too
(but I haven't used oplot).  There are some 3D Owl plplot examples, with source code, on these pages:
</p>

<p>
<a href="https://ocaml.xyz/book/visualisation.html">https://ocaml.xyz/book/visualisation.html</a>
</p>

<p>
<a href="https://github.com/owlbarn/owl/wiki/Tutorial:-How-to-Plot-in-Owl%3F">https://github.com/owlbarn/owl/wiki/Tutorial:-How-to-Plot-in-Owl%3F</a>
</p>

<p>
<a href="https://github.com/owlbarn/owl/wiki/Plot-Gallery">https://github.com/owlbarn/owl/wiki/Plot-Gallery</a>
</p>

<p>
I don't know whether it will be easy to adapt them to your needs.  I wrote the last example on the last
page above.  It's a plot of a series 2D curves in 3D.  Maybe some of the techniques can be adapted to
your needs.  (The code is a few years old.  I'm not sure whether it works with the current version of
Owl.)
</p>

<p>
(If you end up having to use low-level bindings to plplot, oplot, etc. from Owl, you might consider
contributing a wrapper module that makes it easy to do the kind of plot you want.)
</p>
</div>
</div>


<div id="outline-container-org96fc74c" class="outline-3">
<h3 id="org96fc74c">Andreas Poisel then said</h3>
<div class="outline-text-3" id="text-org96fc74c">
<p>
Thank you for your answer.
</p>

<p>
I'd just like to draw 3D vectors in a cartesian coordinate system.  A plot should look similar to this:
</p>


<div class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/3D_Vector.svg/800px-3D_Vector.svg.png" alt="800px-3D_Vector.svg.png" />
</p>
</div>

<p>
I wouldn't even need arrows, simple lines would be ok.
</p>

<p>
Maybe there is a way to use one of the 3D functions (<code>Plot.surf</code>, <code>Plot.mesh</code>, <code>Plot.contour</code>), but I
can't figure it out.
</p>
</div>
</div>


<div id="outline-container-org159c10a" class="outline-3">
<h3 id="org159c10a">Hezekiah Carty replied</h3>
<div class="outline-text-3" id="text-org159c10a">
<p>
It's been a while since I worked with plplot but what you showed should be possible. The
<a href="http://plplot.org/docbook-manual/plplot-html-5.15.0/plline3.html">plline3</a> function allows you to plot
line segments in 3d space. The function is setup to take multiple segments in a single call. For a
single segment each array would hold a single value. Colors can be set between draw calls.
</p>
</div>
</div>


<div id="outline-container-orgfdeba8f" class="outline-3">
<h3 id="orgfdeba8f">sanette also replied</h3>
<div class="outline-text-3" id="text-orgfdeba8f">
<p>
in oplot, there is the Curve3d object that should do it,
<a href="https://sanette.github.io/oplot/oplot/Oplot/Plt/index.html#type-plot_object.Curve3d">https://sanette.github.io/oplot/oplot/Oplot/Plt/index.html#type-plot_object.Curve3d</a>
although it is quite rudimentary
</p>
</div>
</div>
</div>




<div id="outline-container-orgc82edee" class="outline-2">
<h2 id="4">Marshal determinism and stability</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/marshal-determinism-and-stability/7041/25">https://discuss.ocaml.org/t/marshal-determinism-and-stability/7041/25</a>
</p>
</div>

<div id="outline-container-org442e595" class="outline-3">
<h3 id="org442e595">Deep in this thread, Bikal Lem mentioned and Raphaël Proust described</h3>
<div class="outline-text-3" id="text-org442e595">
<blockquote>
<p>
<a href="https://gitlab.com/nomadic-labs/data-encoding">Binary module of data-encoding</a>
</p>
</blockquote>

<p>
Quick notes about this approach:
</p>

<ul class="org-ul">
<li>It is used extensively in the Tezos codebase. For data exchange (in the p2p layer), for data at rest (configuration files), and for a mix of the two (serialisation of economic protocol data which is both exchanged by peers and stored on disk).</li>
<li>It is flexible in that you have great control over the representation of data and the serialisation/deserialisation procedure. There is a medium-term plan to allow even more control. For now you can decide, say, if 8 booleans are represented as one byte, 8 bytes, or 8 words (or something else altogether) (see code below).</li>
<li>Some of the responsibility for correctness rests upon your shoulders as a user. E.g., when you encode a tuple, the left element must have either a fixed length (e.g., be an int8, int32, etc., be a fixed-length string, or be a tuple of fixed-length values) or be prefixed by a length marker (which the library provides a combinator for). Most of the errors for this are raised when you declare the encoding and a few are raised when you use the encoding. I recommend writing some tests to check that your encodings accept the range of values that you are going to throw at them.</li>
<li>The library is well tested: there are tests using crowbar to check that encoding and decoding are actual inverse of each others.</li>
</ul>

<p>
Let me know if you have more questions. And in the meantime, here's two different encodings for a tuple
of 8 booleans:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #b22222;">(* </span><span style="color: #b22222;">easy-encoding, produces 8 bytes </span><span style="color: #b22222;">*)</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">boolsas8bytes</span> =
   tup8 bool bool bool bool bool bool bool bool

<span style="color: #b22222;">(* </span><span style="color: #b22222;">very-compact encoding, produces 1 byte </span><span style="color: #b22222;">*)</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">boolsas1byte</span> =
   conv
      (<span style="color: #a020f0;">fun</span> (<span style="color: #a0522d;">b1</span>, <span style="color: #a0522d;">b2</span>, <span style="color: #a0522d;">b3</span>, <span style="color: #a0522d;">b4</span>, <span style="color: #a0522d;">b5</span>, <span style="color: #a0522d;">b6</span>, <span style="color: #a0522d;">b7</span>, <span style="color: #a0522d;">b8</span>) -&gt;
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">acc</span> = 0 <span style="color: #000000; font-weight: bold;">in</span>
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">acc</span> = <span style="color: #a020f0;">if</span> b1 <span style="color: #a020f0;">then</span> acc <span style="color: #a52a2a;">lor</span> 0b10000000 <span style="color: #a020f0;">else</span> acc <span style="color: #000000; font-weight: bold;">in</span>
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">acc</span> = <span style="color: #a020f0;">if</span> b2 <span style="color: #a020f0;">then</span> acc <span style="color: #a52a2a;">lor</span> 0b01000000 <span style="color: #a020f0;">else</span> acc <span style="color: #000000; font-weight: bold;">in</span>
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">acc</span> = <span style="color: #a020f0;">if</span> b3 <span style="color: #a020f0;">then</span> acc <span style="color: #a52a2a;">lor</span> 0b00100000 <span style="color: #a020f0;">else</span> acc <span style="color: #000000; font-weight: bold;">in</span>
         &#8230;
         acc)
      (<span style="color: #a020f0;">fun</span> <span style="color: #a0522d;">i</span> -&gt;
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">b1</span> = i <span style="color: #a52a2a;">land</span> 0b10000000 &lt;&gt; 0 <span style="color: #000000; font-weight: bold;">in</span>
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">b1</span> = i <span style="color: #a52a2a;">land</span> 0b01000000 &lt;&gt; 0 <span style="color: #000000; font-weight: bold;">in</span>
         <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">b1</span> = i <span style="color: #a52a2a;">land</span> 0b00100000 &lt;&gt; 0 <span style="color: #000000; font-weight: bold;">in</span>
         &#8230;
         (b1, b2, b3, b4, b5, b6, b7, b8))
      uint8
</pre>
</div>

<p>
In general, data-encoding is probably slower than marshal, but its strong points are:
</p>
<ul class="org-ul">
<li>it offers some type guarantees,</li>
<li>it gives you some control over the representation of the data,</li>
<li>it allows you to define representations that are easy to parse in other languages or in other versions of the same language,</li>
<li>it generates documentation about the data-representation.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgd4596d7" class="outline-2">
<h2 id="5">It there a tutorial for <code>js_of_ocaml</code> with simple graphics?</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/it-there-a-tutorial-for-js-of-ocaml-with-simple-graphics/4636/7">https://discuss.ocaml.org/t/it-there-a-tutorial-for-js-of-ocaml-with-simple-graphics/4636/7</a>
</p>
</div>

<div id="outline-container-org988bf62" class="outline-3">
<h3 id="org988bf62">Deep in this thread, Phat Ky said</h3>
<div class="outline-text-3" id="text-org988bf62">
<p>
This is a really, really late reply but this youtube video was very helpful to me &#x2026;
<a href="https://www.youtube.com/watch?v=h_e5pPKI0K4">https://www.youtube.com/watch?v=h_e5pPKI0K4</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgbfea83d" class="outline-2">
<h2 id="6">Interesting OCaml exercises from François Pottier available online</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/interesting-ocaml-exercises-from-francois-pottier-available-online/7050/1">https://discuss.ocaml.org/t/interesting-ocaml-exercises-from-francois-pottier-available-online/7050/1</a>
</p>
</div>

<div id="outline-container-org19e92fa" class="outline-3">
<h3 id="org19e92fa">gasche announced</h3>
<div class="outline-text-3" id="text-org19e92fa">
<p>
The recent URL <a href="https://ocaml-sf.org/learn-ocaml-public/#activity%3Dexercises">https://ocaml-sf.org/learn-ocaml-public/#activity%3Dexercises</a>
contains auto-graded OCaml exercises, in particular a bunch of advanced and fairly interesting
exercices written by François Pottier, which I would recommend for anyone knowledgeable in OCaml and
curious about algorithms and functional programming. (You have to scroll down to see those, the
exercises at the top come from the OCaml MOOC.)
</p>

<p>
See for example François' exercises on:
</p>
<ul class="org-ul">
<li><a href="https://ocaml-sf.org/learn-ocaml-public/exercise.html#id%3Dfpottier/alpha_beta%26tab%3Dtext%26prelude%3Dshown">Alpha-Beta Search</a>,</li>
<li><a href="https://ocaml-sf.org/learn-ocaml-public/exercise.html#id%3Dfpottier/parser_combinators%26tab%3Dtext">Parser combinators</a>,</li>
<li><a href="https://ocaml-sf.org/learn-ocaml-public/exercise.html#id%3Dfpottier/huffman%26tab%3Dtext%26prelude%3Dshown">Huffman Compression</a>,</li>
<li><a href="https://ocaml-sf.org/learn-ocaml-public/exercise.html#id%3Dfpottier/nondet_monad_cont%26tab%3Dtext%26prelude%3Dshown">Implementing backtracking with continuations</a>, or</li>
<li>my personal favorite, <a href="https://ocaml-sf.org/learn-ocaml-public/exercise.html#id%3Dfpottier/pprint%26tab%3Dtext%26prelude%3Dshown">reimplementing the core of a pretty-printer</a>.</li>
</ul>

<p>
Context: the exercise platform is <a href="https://github.com/ocaml-sf/learn-ocaml">LearnOCaml</a>, initially
written by OCamlPro for the OCaml MOOC and maintaing by Yann Régis-Gianas (@yurug) on behalf of the
<a href="http://ocaml-sf.org/">OCaml Software Foundation</a>. We (at the Foundation) are trying to assemble a
corpus of nice OCaml exercises for teachers and people self-studying, and the nice exercises by
François Pottier (@fpottier) were written as part of this initiative.
</p>
</div>
</div>
</div>




<div id="outline-container-org5c750ff" class="outline-2">
<h2 id="org5c750ff">Old CWN</h2>
<div class="outline-text-2" id="text-org5c750ff">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
