<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-24 Tue 10:30 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.03.17.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.03.31.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of March 17 to 24, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Luv 0.5.1 — a libuv binding — Windows support</a></li>
<li><a href="#2">resto 0.2 released</a></li>
<li><a href="#3">Bisect_ppx 2.0.0 — code coverage for OCaml with nice HTML reports</a></li>
<li><a href="#4">OCaml 4.09.1 released</a></li>
<li><a href="#5">Cookie 0.1.6</a></li>
<li><a href="#6">First release of lwt-pipeline</a></li>
<li><a href="#7">Using Ocaml as scripting language - piping sh commands</a></li>
<li><a href="#org9859b89">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orga72e90d" class="outline-2">
<h2 id="1">Luv 0.5.1 — a libuv binding — Windows support</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/luv-0-5-1-a-libuv-binding-windows-support/5334/1">https://discuss.ocaml.org/t/luv-0-5-1-a-libuv-binding-windows-support/5334/1</a>
</p>
</div>

<div id="outline-container-org74b1386" class="outline-3">
<h3 id="org74b1386">Anton Bachin announced</h3>
<div class="outline-text-3" id="text-org74b1386">
<p>
I am pleased to announce release <a href="https://github.com/aantron/luv/releases/tag/0.5.1">0.5.1</a> of <a href="https://github.com/aantron/luv"><b><b>Luv</b></b></a>. The main change is the addition of Windows support, which makes Luv fully cross-platform.
</p>

<p>
Accordingly, Luv 0.5.1 is now installable from both the main opam repo, and from opam-repository-mingw.
</p>

<p>
<a href="https://github.com/aantron/luv">https://github.com/aantron/luv</a>
</p>

<p>
Also, as a side effect of the build system refactoring that was needed to support Windows, Luv's build system no
longer requires Python, and supports cross-compilation.
</p>

<p>
The other noteworthy change in release 0.5.1 is a routine upgrade of the vendored libuv to its latest version,
<a href="https://github.com/libuv/libuv/releases/tag/v1.35.0">1.35.0</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-orgca8d8bc" class="outline-2">
<h2 id="2">resto 0.2 released</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-resto-0-2-released/5028/2">https://discuss.ocaml.org/t/ann-resto-0-2-released/5028/2</a>
</p>
</div>

<div id="outline-container-orgd8fed08" class="outline-3">
<h3 id="orgd8fed08">Raphaël Proust announced</h3>
<div class="outline-text-3" id="text-orgd8fed08">
</div>
<div id="outline-container-org8fb2823" class="outline-4">
<h4 id="org8fb2823">Releases of <code>resto</code> 0.3 and 0.4</h4>
<div class="outline-text-4" id="text-org8fb2823">
<p>
On behalf of Nomadic Labs, I'm happy to announce the release of versions 0.3 and 0.4 of <code>resto</code>. Both versions are
available through <code>opam</code> and available on <a href="https://gitlab.com/nomadic-labs/resto">https://gitlab.com/nomadic-labs/resto</a>.
</p>

<p>
The main change in 0.3 is to depend on <code>json-data-encoding</code>, the fork of the unmaintained <code>ocplib-json-typed</code>.
</p>

<p>
The changes of 0.4 are more invasive and require users changes:
</p>
<ul class="org-ul">
<li>handle the new <code>`Gone</code> response code, and</li>
<li>pass <code>gettimeofday</code> manually.</li>
</ul>

<p>
This last feature removes a dependency from <code>resto-cohttp</code> to <code>Unix</code>, and thus helps with use within a <code>js_of_ocaml</code> environment.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org59daf75" class="outline-2">
<h2 id="3">Bisect_ppx 2.0.0 — code coverage for OCaml with nice HTML reports</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/bisect-ppx-2-0-0-code-coverage-for-ocaml-with-nice-html-reports/5338/1">https://discuss.ocaml.org/t/bisect-ppx-2-0-0-code-coverage-for-ocaml-with-nice-html-reports/5338/1</a>
</p>
</div>

<div id="outline-container-org1dc13c4" class="outline-3">
<h3 id="org1dc13c4">Anton Bachin announced</h3>
<div class="outline-text-3" id="text-org1dc13c4">
<p>
I am pleased to announce <a href="https://github.com/aantron/bisect_ppx/releases/tag/2.0.0">release 2.0.0</a> of <a href="https://github.com/aantron/bisect_ppx"><b><b>Bisect_ppx</b></b></a>, the OCaml coverage tool, which helps
you see which parts of your code are not being tested.
</p>


<div class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/original/2X/1/1911adc6af898b6f4efd7dc69d2c1f90699031ba.gif" alt="1911adc6af898b6f4efd7dc69d2c1f90699031ba.gif" />
</p>
</div>

<p>
This release is a major upgrade. The highlights are:
</p>

<ul class="org-ul">
<li>Support for BuckleScript, js_of_ocaml, and esy. In other words, Bisect_ppx now compiles to both native code and JS, and is published in both opam and npm.</li>
<li>The ability to <a href="https://github.com/aantron/bisect_ppx#Coveralls">send reports automatically</a> from Travis and CircleCI to Coveralls and Codecov. More integrations can be added over time.</li>
<li>The awkward <code>(*BISECT-IGNORE*)</code> comments for excluding code from instrumentation have been replaced by AST attributes like <code>[@coverage off]</code> (<a href="https://github.com/aantron/bisect_ppx#Exclusion">https://github.com/aantron/bisect_ppx#Exclusion</a>).</li>
<li>A new, more principled instrumentation algorithm.</li>
<li>A new reporter command line based on <a href="https://erratique.ch/software/cmdliner/doc/Cmdliner">Cmdliner</a>. Run <code>bisect-ppx-report --help</code> to get started with it.</li>
<li>Syntax highlighting.</li>
</ul>

<p>
You are invited to peruse the all-new <a href="https://github.com/aantron/bisect_ppx#readme">README</a> for details :)
</p>

<p>
Several features have been deprecated; mostly command-line flags. You can see the list in the <b>Deprecations</b> section of the <a href="https://github.com/aantron/bisect_ppx/releases/tag/2.0.0">changelog</a>. However, it may be easier to simply try using Bisect_ppx as before – it will warn you if you use a deprecated flag. The deprecated flags will be removed in Bisect_ppx 2.1.0, expected around July 2020.
</p>

<p>
Happy testing!
</p>

<p>
<a href="https://github.com/aantron/bisect_ppx">https://github.com/aantron/bisect_ppx</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org01280b5" class="outline-2">
<h2 id="4">OCaml 4.09.1 released</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-09-1-released/5341/1">https://discuss.ocaml.org/t/ocaml-4-09-1-released/5341/1</a>
</p>
</div>

<div id="outline-container-orgb03ed9a" class="outline-3">
<h3 id="orgb03ed9a">octachron announced</h3>
<div class="outline-text-3" id="text-orgb03ed9a">
<p>
We have the pleasure of celebrating the anniversary of the first spacewalk,
conducted by Alexei Leonov, by announcing the release of OCaml version 4.09.1.
This is mainly a bug-fix release, with a handful of configuration fixes and
a GC fix backported from 4.10.0 . See the list of changes below for more details.
</p>

<p>
It is (or soon will be) available as a set of OPAM switches,
and as a source download here:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/archive/4.09.1.tar.gz">https://github.com/ocaml/ocaml/archive/4.09.1.tar.gz</a>
</p>
</div>

<div id="outline-container-org7a37dc8" class="outline-4">
<h4 id="org7a37dc8">Changes in 4.09.1:</h4>
<div class="outline-text-4" id="text-org7a37dc8">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9073">#9073</a>, <a href="https://github.com/ocaml/ocaml/issues/9120">#9120</a>: fix incorrect GC ratio multiplier when allocating custom blocks with caml_alloc_custom_mem in runtime/custom.c (Markus Mottl, review by Gabriel Scherer and Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8855">#8855</a>, <a href="https://github.com/ocaml/ocaml/issues/8858">#8858</a>: Links for tools not created when installing with &#x2013;disable-installing-byecode-programs (e.g. ocamldep.opt installed, but ocamldep link not created) (David Allsopp, report by Thomas Leonard)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8947">#8947</a>, <a href="https://github.com/ocaml/ocaml/issues/9134">#9134</a>, <a href="https://github.com/ocaml/ocaml/issues/9302">#9302</a>: fix/improve support for the BFD library (Sébastien Hinderer, review by Damien Doligez and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8953">#8953</a>, <a href="https://github.com/ocaml/ocaml/issues/8954">#8954</a>: Fix error submessages in the toplevel: do not display dummy locations (Armaël Guéneau, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8965">#8965</a>, <a href="https://github.com/ocaml/ocaml/issues/8979">#8979</a>: Alpine build failure caused by check-parser-uptodate-or-warn.sh (Gabriel Scherer and David Allsopp, report by Anton Kochkov)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8985">#8985</a>, <a href="https://github.com/ocaml/ocaml/issues/8986">#8986</a>: fix generation of the primitives when the locale collation is incompatible with C. (David Allsopp, review by Nicolás Ojeda Bär, report by Sebastian Rasmussen)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9050">#9050</a>, <a href="https://github.com/ocaml/ocaml/issues/9076">#9076</a>: install missing compilerlibs/ocamlmiddleend archives (Gabriel Scherer, review by Florian Angeletti, report by Olaf Hering)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9144">#9144</a>, <a href="https://github.com/ocaml/ocaml/issues/9180">#9180</a>: multiple definitions of global variables in the C runtime, causing problems with GCC 10.0 and possibly with other C compilers (Xavier Leroy, report by Jürgen Reuter, review by Mark Shinwell)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9180">#9180</a>: pass -fno-common option to C compiler when available, so as to detect problematic multiple definitions of global variables in the C runtime (Xavier Leroy, review by Mark Shinwell)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9128">#9128</a>: Fix a bug in bytecode mode which could lead to a segmentation fault. The bug was caused by the fact that the atom table shared a page with some bytecode. The fix makes sure both the atom table and the minor heap have their own pages. (Jacques-Henri Jourdan, review by Stephen Dolan, Xavier Leroy and Gabriel Scherer)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-orgf40b837" class="outline-2">
<h2 id="5">Cookie 0.1.6</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-cookie-0-1-6/5346/1">https://discuss.ocaml.org/t/ann-cookie-0-1-6/5346/1</a>
</p>
</div>

<div id="outline-container-org895353c" class="outline-3">
<h3 id="org895353c">Ulrik Strid announced</h3>
<div class="outline-text-3" id="text-org895353c">
<p>
I recently released a cookie library. It can parse and create cookie headers (<code>list((string, string)</code> which both
Cohttp and Httpaf uses), both <code>Set-Cookie</code> and <code>Cookie</code> so it works on both client and server. It should be compliant with <a href="https://tools.ietf.org/html/rfc6265">https://tools.ietf.org/html/rfc6265</a> and I have a pretty good test suite for the parsing of cookies at least.
</p>

<p>
I couldn’t find a standalone library before this so I decided to create one since I need it for my web framework, <code>Morph</code>.
</p>

<p>
The next step is to create and publish integrations with <a href="https://github.com/inhabitedtype/ocaml-session"><code>ocaml-session</code></a> which I have started.
</p>

<ul class="org-ul">
<li>Repo: <a href="https://github.com/ulrikstrid/ocaml-cookie">https://github.com/ulrikstrid/ocaml-cookie</a></li>
<li>Docs: <a href="https://ulrikstrid.github.io/ocaml-cookie">https://ulrikstrid.github.io/ocaml-cookie</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org3798ddb" class="outline-2">
<h2 id="6">First release of lwt-pipeline</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-lwt-pipeline/4220/2">https://discuss.ocaml.org/t/ann-first-release-of-lwt-pipeline/4220/2</a>
</p>
</div>

<div id="outline-container-orgaf5e973" class="outline-3">
<h3 id="orgaf5e973">Raphaël Proust announced</h3>
<div class="outline-text-3" id="text-orgaf5e973">
<p>
A second release of <code>lwt-pipeline</code> (v0.2) is available through <code>opam</code>. This new release makes no change to the code and only affects the following:
</p>

<ul class="org-ul">
<li>looser constraints on versions of <code>dune</code> dependency,</li>
<li>tests,</li>
<li>tests are executed in CI,</li>
<li>minor documentation improvements.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org8b63ef5" class="outline-2">
<h2 id="7">Using Ocaml as scripting language - piping sh commands</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/using-ocaml-as-scripting-language-piping-sh-commands/5366/1">https://discuss.ocaml.org/t/using-ocaml-as-scripting-language-piping-sh-commands/5366/1</a>
</p>
</div>

<div id="outline-container-org0f210de" class="outline-3">
<h3 id="org0f210de">Nicolas Tollenaere announced</h3>
<div class="outline-text-3" id="text-org0f210de">
<p>
I am trying to use ocaml to pipe the result of a command to another (I would also be interested in feeding a string
or a io stream into a sh command). For example, I would like to do the equivalent of cat foo.txt | grep thing, or
pipe the result of one of my ocaml function into grep.
</p>

<p>
Quite surprinsingly, neither the Stdlib or Batteries Sys modules expose any way to handle the output of Sys.command
directly (I would have thought there would be optional input and output arguments defaulting to stdin and stdout, or
something along that). Batteries IO module does expose a pipe function but it's not clear for me how it would
interact with the Sys module. Any ideas or other modules/package I could use ?
</p>
</div>
</div>


<div id="outline-container-org214a6d5" class="outline-3">
<h3 id="org214a6d5">Nicolás Ojeda Bär suggested</h3>
<div class="outline-text-3" id="text-org214a6d5">
<p>
I think you may be interested by <a href="https://github.com/janestreet/shexp">https://github.com/janestreet/shexp</a>.
</p>
</div>
</div>


<div id="outline-container-orgde0ea5d" class="outline-3">
<h3 id="orgde0ea5d">Nicolas Tollenaere then said</h3>
<div class="outline-text-3" id="text-orgde0ea5d">
<p>
@grayswandyr @nojb Thanks for the suggestion. I just found shcaml <a href="http://tov.github.io/shcaml/doc/">http://tov.github.io/shcaml/doc/</a> and I was going to
give it a try, do you know how it compares to shexp ?
</p>
</div>
</div>


<div id="outline-container-orgad0044f" class="outline-3">
<h3 id="orgad0044f">David Chemouil replied</h3>
<div class="outline-text-3" id="text-orgad0044f">
<p>
AFAIK shcaml is unmaintained, but the approach is very nice indeed.
</p>
</div>
</div>
</div>




<div id="outline-container-org9859b89" class="outline-2">
<h2 id="org9859b89">Old CWN</h2>
<div class="outline-text-2" id="text-org9859b89">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
