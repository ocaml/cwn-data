<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-03-19 Tue 08:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2019.03.12.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2019.03.26.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of March 12 to 19, 2019.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">IMPORTANT: Switching from Mantis to GitHub issues on March 14th</a></li>
<li><a href="#2">GSoC project on Coccinelle</a></li>
<li><a href="#3">v0.12 release of Jane Street packages</a></li>
<li><a href="#4">Logical: logic programming framework inspired by microKanren (0.1.0)</a></li>
<li><a href="#5">Other OCaml News</a></li>
<li><a href="#org6017d53">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org4a2aa2f" class="outline-2">
<h2 id="1">IMPORTANT: Switching from Mantis to GitHub issues on March 14th</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2019-03/msg00045.html">https://sympa.inria.fr/sympa/arc/caml-list/2019-03/msg00045.html</a>
</p>
</div>

<div id="outline-container-org9f27b70" class="outline-3">
<h3 id="org9f27b70">Continuing this thread from last week, Nicolás Ojeda Bär announced</h3>
<div class="outline-text-3" id="text-org9f27b70">
<p>
Thank you for your patience. The migration of the OCaml bug tracker is
now complete.
If you need to report a bug, please do so at
</p>

<p>
<a href="https://github.com/ocaml/ocaml/issues">https://github.com/ocaml/ocaml/issues</a>
</p>

<p>
Note that some of the oldest Mantis issues had to be renumbered. You
can see the full list of renumbered issues here:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/blob/trunk/tools/mantis2gh_stripped.csv">https://github.com/ocaml/ocaml/blob/trunk/tools/mantis2gh_stripped.csv</a>
</p>

<p>
In the coming days, redirections will be put in place so that the old
Mantis URLs will point to the new GitHub ones.
</p>

<p>
Happy bug reporting!
</p>
</div>
</div>
</div>




<div id="outline-container-org3219e4f" class="outline-2">
<h2 id="2">GSoC project on Coccinelle</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2019-03/msg00048.html">https://sympa.inria.fr/sympa/arc/caml-list/2019-03/msg00048.html</a>
</p>
</div>

<div id="outline-container-org1e2c6af" class="outline-3">
<h3 id="org1e2c6af">Julia Lawall announced</h3>
<div class="outline-text-3" id="text-org1e2c6af">
<p>
Coccinelle is a C code matching and transformation tool written in OCaml.
A GSoC project is available on improving the implementation of Coccinelle,
under the umbrella of the Linux Foundation:
</p>

<p>
<a href="https://wiki.linuxfoundation.org/gsoc/2019-gsoc-safety-critical-linux">https://wiki.linuxfoundation.org/gsoc/2019-gsoc-safety-critical-linux</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgc0fa6d8" class="outline-2">
<h2 id="3">v0.12 release of Jane Street packages</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-v0-12-release-of-jane-street-packages/3499/1">https://discuss.ocaml.org/t/ann-v0-12-release-of-jane-street-packages/3499/1</a>
</p>
</div>

<div id="outline-container-orgcd492bb" class="outline-3">
<h3 id="orgcd492bb">Xavier Clerc announced</h3>
<div class="outline-text-3" id="text-orgcd492bb">
<p>
We are happy to announce the v0.12 release of Jane Street packages!
</p>

<p>
This release comes with a lot of changes, as we ship 19 new
packages, and have enhanced and refactored a number of existing
ones. The documentation for this release is available on our
website:
</p>

<p>
<a href="https://ocaml.janestreet.com/ocaml-core/v0.12/doc/">https://ocaml.janestreet.com/ocaml-core/v0.12/doc/</a>
</p>

<p>
The remainder of this mail highlights the main changes since the v0.11
release; we hope it will be useful to developers in the process of
migrating to the new version. A comprehensive change log is available
at the end.
</p>
</div>

<div id="outline-container-org358453b" class="outline-4">
<h4 id="org358453b">Comparison and Equality</h4>
<div class="outline-text-4" id="text-org358453b">
<ul class="org-ul">
<li>The <code>~cmp</code> argument used to pass a comparison function has been renamed to <code>~compare</code>.</li>
<li>The <code>~equal</code> label of functions <code>List.equal</code> and <code>Array.equal</code> has been removed.</li>
</ul>
</div>
</div>

<div id="outline-container-org2746299" class="outline-4">
<h4 id="org2746299">New packages</h4>
<div class="outline-text-4" id="text-org2746299">
<ul class="org-ul">
<li>base_bigstring (<a href="https://github.com/janestreet/base_bigstring">https://github.com/janestreet/base_bigstring</a>): String type based on Bigarray, for use in I/O and C-bindings.</li>
<li>base_quickcheck (<a href="https://github.com/janestreet/base_quickcheck">https://github.com/janestreet/base_quickcheck</a>): Randomized testing framework, designed for compatibility with Base.</li>
<li>hardcaml (<a href="https://github.com/janestreet/hardcaml">https://github.com/janestreet/hardcaml</a>): Hardcaml is an OCaml library for designing hardware.</li>
<li>hardcaml_waveterm (<a href="https://github.com/janestreet/hardcaml_waveterm">https://github.com/janestreet/hardcaml_waveterm</a>): A terminal based digital waveform viewer for Hardcaml.</li>
<li>incr_dom_keyboard (<a href="https://github.com/janestreet/incr_dom_keyboard">https://github.com/janestreet/incr_dom_keyboard</a>): A terminal based digital waveform viewer for Hardcaml.</li>
<li>incr_dom_partial_render (<a href="https://github.com/janestreet/incr_dom_partial_render">https://github.com/janestreet/incr_dom_partial_render</a>): A library for simplifying rendering of large amounts of data.</li>
<li>jst-config (<a href="https://github.com/janestreet/jst-config">https://github.com/janestreet/jst-config</a>): Compile-time configuration for Jane Street libraries.</li>
<li>netsnmp (<a href="https://github.com/janestreet/netsnmp">https://github.com/janestreet/netsnmp</a>): An interface to the Net-SNMP client library.</li>
<li>notty_async (<a href="https://github.com/janestreet/notty_async">https://github.com/janestreet/notty_async</a>): An interface to the Net-SNMP client library.</li>
<li>pam (<a href="https://github.com/janestreet/pam">https://github.com/janestreet/pam</a>): OCaml bindings for the Linux-PAM library.</li>
<li>ppx_deriving_hardcaml (<a href="https://github.com/janestreet/ppx_deriving_hardcaml">https://github.com/janestreet/ppx_deriving_hardcaml</a>): A plugin for the ppx_deriving rewriter that supports the Hardcaml syntax.</li>
<li>ppx_module_timer (<a href="https://github.com/janestreet/ppx_module_timer">https://github.com/janestreet/ppx_module_timer</a>): Ppx rewriter that records top-level module startup times.</li>
<li>ppx_stable (<a href="https://github.com/janestreet/ppx_stable">https://github.com/janestreet/ppx_stable</a>): Stable types conversions generator.</li>
<li>sexp (<a href="https://github.com/janestreet/sexp">https://github.com/janestreet/sexp</a>): S-expression swiss knife.</li>
<li>sexp_diff_kernel (<a href="https://github.com/janestreet/sexp_diff_kernel">https://github.com/janestreet/sexp_diff_kernel</a>): Code for computing the diff of two sexps.</li>
<li>sexp_macro (<a href="https://github.com/janestreet/sexp_macro">https://github.com/janestreet/sexp_macro</a>): Sexp macros.</li>
<li>shell (<a href="https://github.com/janestreet/shell">https://github.com/janestreet/shell</a>): Yet another implementation of fork&amp;amp;exec and related functionality.</li>
<li>time_now (<a href="https://github.com/janestreet/time_now">https://github.com/janestreet/time_now</a>): Reports the current time.</li>
<li>zstandard (<a href="https://github.com/janestreet/zstandard">https://github.com/janestreet/zstandard</a>): OCaml bindings to Zstandard.</li>
</ul>
</div>
</div>

<div id="outline-container-orga93cd76" class="outline-4">
<h4 id="orga93cd76">Deprecations</h4>
<div class="outline-text-4" id="text-orga93cd76">
<p>
<code>Async</code>:
</p>

<ul class="org-ul">
<li>Deprecated <code>Scheduler.add_busy_poller</code>.</li>
</ul>

<p>
<code>Base</code>:
</p>

<ul class="org-ul">
<li>Deprecated <code>Applicative</code>'s <code>Args*</code> module types and <code>Make_args*</code> functors, which have been superseded by the <code>let%map</code> syntax.</li>
<li>Deprecated <code>Array.replace</code>.</li>
</ul>

<p>
<code>Core_kernel</code>:
</p>

<ul class="org-ul">
<li>Deprecated <code>Obj_array</code>, replacing uses with <code>Uniform_array</code>.</li>
<li>Deprecated the <code>Timing_wheel_ns.Priority_queue</code> module, with no intended replacement.</li>
</ul>

<p>
No longer released:
</p>

<ul class="org-ul">
<li><code>async_extended</code>.</li>
<li><code>async_parallel</code>.</li>
<li><code>configurator</code>.</li>
<li><code>findlib_top</code>.</li>
<li><code>incremental_kernel</code>.</li>
<li><code>jane-street-tests</code>.</li>
<li><code>jenga</code>.</li>
<li><code>ppx_ast</code>.</li>
<li><code>ppx_core</code>.</li>
<li><code>ppx_driver</code>.</li>
<li><code>ppx_metaquot</code>.</li>
<li><code>ppx_traverse</code>.</li>
<li><code>ppx_traverse_builtins</code>.</li>
<li><code>ppx_type_conv</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf93abb6" class="outline-4">
<h4 id="orgf93abb6">Moves</h4>
<div class="outline-text-4" id="text-orgf93abb6">
<p>
<code>Async</code>:
</p>

<ul class="org-ul">
<li>Moved <code>Weak_hashtbl</code> module out of <code>Async</code> to its own library.</li>
<li>Moved <code>Lock_file</code> to a single-module library, <code>Lock_file_async</code>.</li>
<li>Moved <code>Async_extra.Udp</code> to a standalone library, <code>Async_udp</code>.</li>
</ul>

<p>
<code>Async_extended</code>:
</p>

<ul class="org-ul">
<li>Moved modules out of <code>Async_extended</code> into their own libraries, aimed at deleting <code>Async_extended</code>.</li>
</ul>

<p>
<code>Async_kernel</code>:
</p>

<ul class="org-ul">
<li>Moved the <code>Limiter</code> module to a single-module library, <code>Limiter_async</code>.</li>
<li>Moved <code>Eager_deferred</code> to a standalone library.</li>
</ul>

<p>
<code>Async_unix</code>:
</p>

<ul class="org-ul">
<li>Moved modules to standalone libraries: <code>Thread_pool</code>, <code>Thread_safe_ivar</code>, <code>Thread_safe_pipe</code>.</li>
</ul>

<p>
<code>Base</code>:
</p>

<ul class="org-ul">
<li>Moved the <code>Heap_block</code> module to <code>Core_kernel</code>.</li>
<li>Added top-level module <code>Base.Sign_or_nan</code>, moved out of <code>Float</code></li>
<li>Added <code>Stack</code> module, moved in from <code>Core_kernel</code>.</li>
<li>Added <code>Base.Bigstring</code> module, moving in most of  <code>Core_kernel.Bigstring</code>.</li>
<li>Added the <code>Base_bigstring</code> library, splitting out the <code>Bigstring</code> module from <code>Base</code>.</li>
</ul>

<p>
<code>Core</code>:
</p>

<ul class="org-ul">
<li>Moved some modules out of <code>Core</code> to their own library: <code>Crc</code>,  <code>Piecewise_linear</code>, <code>Syslog</code>, <code>Timing_wheel_float</code>, <code>Weak_hashtbl</code>.</li>
<li>Moved modules <code>Schedule_v4_deprecated</code> and <code>Schedule_v5</code> out of <code>Core</code> and to their own libraries.</li>
<li>Moved the <code>Daemon</code> module, to a single-module library.</li>
<li>Moved the <code>Uuid</code> module out of <code>Core</code>, to a single-module library.</li>
<li>Moved <code>Lock_file</code> to a single-module library, <code>Lock_file_blocking</code>.</li>
<li>Moved the <code>Mac_address</code> module out of <code>Core</code>, to a single-module library.</li>
<li>Moved modules out to standalone libraries: <code>Nano_mutex</code>, <code>Squeue</code>.</li>
</ul>

<p>
<code>Core_kernel</code>:
</p>

<ul class="org-ul">
<li>Added <code>Time_ns.Ofday</code> submodule, moved from <code>Core</code>.</li>
<li>Moved module <code>Unpack_buffer</code> out of <code>Core_kernel</code> and into its own library.</li>
<li>Moved the implementation of <code>Quickcheck</code> into its own library, <code>Base_quickcheck</code>.</li>
<li>Moved the <code>Limiter</code> module to a single-module library.</li>
<li>Moved the <code>Bucket</code> module out to a single-module library.</li>
<li>Split out a <code>Config_h</code> library for generating the <code>config.h</code> file that many libraries (including <code>Core_kernel</code>) use.</li>
<li>Moved the <code>Weak_pointer</code> module to a standalone library.</li>
<li>Moved modules out to standalone libraries: <code>Force_once</code>, <code>Hash_heap</code>, <code>Int_set</code>, <code>Rope</code>, <code>Thread_safe_queue</code>, <code>Total_map</code>, <code>Weak_array</code>.</li>
</ul>

<p>
<code>Incremental</code>:
</p>

<ul class="org-ul">
<li>Made <code>Incremental</code> be the library name rather than <code>Incremental_lib</code>, and moved all modules from <code>Incremental_lib</code> to submodules of <code>Incremental</code>.</li>
<li>Merged the <code>Incremental</code> and <code>Incremental_kernel</code> libraries into a single library, <code>Incremental</code>.</li>
<li>Moved the <code>Balanced_reducer</code> module out of <code>Incremental</code>, to a single-module library.</li>
</ul>

<p>
<code>Sexplib</code>:
</p>

<ul class="org-ul">
<li>Moved <code>Sexplib.Macro</code> to its own library <code>Sexp_macro</code>.</li>
</ul>

<p>
<code>ppx</code>:
</p>

<ul class="org-ul">
<li><code>ppx_ast</code>, <code>ppx_core</code>, <code>ppx_driver</code>, <code>ppx_metaquot</code>, <code>ppx_traverse</code>,  <code>ppx_traverse_builtins</code>, and  <code>ppx_type_conv</code> have been merged into ppxlib (<a href="https://github.com/ocaml-ppx/ppxlib">https://github.com/ocaml-ppx/ppxlib</a>).</li>
</ul>
</div>
</div>

<div id="outline-container-orgb6aef86" class="outline-4">
<h4 id="orgb6aef86">Changelog</h4>
<div class="outline-text-4" id="text-orgb6aef86">
<p>
<code>Async</code>:
</p>

<ul class="org-ul">
<li>Improved Async scheduler fairness by calling <code>Thread.yield</code> every cycle, which releases the OCaml lock if any other OCaml threads are waiting to acquire it.</li>
<li>Renamed <code>Pipe.merge</code>'s <code>~cmp</code> argument as <code>~compare</code>.</li>
<li>In <code>Async_rpc</code>, fixed a couple places that had assumed that bin-prot writers raise <code>Buffer_short</code> when out of space, which isn't always the case; instead used a wildcard match.</li>
<li>Increased <code>Unix.listen</code>'s default <code>backlog</code> from 10 to 64, to reduce occurrences of TCP clients getting <code>Unexpected EOF</code> errors when the listening server is busy.</li>
<li>Added an optional argument to <code>Pipe</code> functions <code>fold</code> and <code>iter</code> so they can consider a value flushed when it is processed by the supplied <code>~f</code> rather than when it is read out of the pipe.</li>
<li>Added function <code>Tcp.Server.close_finished_and_handlers_determined</code>.</li>
<li>Moved <code>Weak_hashtbl</code> module out of <code>Async</code> to its own library.</li>
<li>Changed <code>Time_source</code> so that it fires alarms that were added at the same time in the order they were added.</li>
<li>Added <code>Writer</code> submodule <code>Backing_out_channel</code>, which can be used to redirect and collect a writer's output.</li>
<li>Optimized a comparison in the Async scheduler's time-stamp-counter calibration to use an immediate comparison rather than <code>caml_int_compare</code>.</li>
<li>Moved <code>Async_unix</code> tests from the <code>src</code> directory to the <code>test</code> directory.</li>
<li>Added to <code>Log.Output.stdout</code> and <code>stderr</code> functions an optional argument, <code>?format:Format.t</code>.</li>
<li>Added function <code>Log.Output.filter_to_level</code>, which gives a new log output that filters out messages more verbose than the specified level.</li>
<li>Optimized some code in the Async scheduler to make better use of the instruction cache.</li>
<li>Added to <code>Monitor.protect</code> an optional argument, <code>?extract_exn : bool</code>.</li>
<li>Removed from the <code>Async_unix</code> library a top-level effect that set <code>Async_kernel_config.task_id</code>; instead set <code>task_id</code> when the Async scheduler is started.</li>
<li>Removed <code>Writer.write_marshal</code>, moving it to the one place where it was used, <code>Async_parallel_deprecated</code>.</li>
<li>Added to <code>Synchronous_time_source.Event</code> the ability to create unscheduled events and to re-use of unscheduled events or events that have happened or been aborted.</li>
<li>Added function <code>Writer.use_synchronous_stdout_and_stderr</code>, which causes all subsequent writes to stdout and stderr to occur synchronously.</li>
<li>Moved <code>Lock_file</code> to a single-module library, <code>Lock_file_async</code>.</li>
<li>Added function <code>Synchronous_time_source.Event.schedule_at_intervals</code>.</li>
<li>Opted in to <code>ocamlformat</code>.</li>
<li>Added support for configuring the cpu affinity of Async's thread pool.</li>
<li>Refactored <code>Unix.wait</code>'s implementation so that one can call <code>wait</code> but have it <b>not</b> install a <code>SIGCHLD</code> handler.</li>
<li>Added <code>Rpc</code> client function that exposes the <code>Socket.Address.t</code> of the RPC server connected to.</li>
<li>In <code>Reader.load_sexp*</code> functions, removed the <code>?expand_macros:bool</code> argument, moving that functionality to the <code>Sexp_macro</code> library.</li>
<li>Fixed a bug in <code>Tcp</code> that was causing <code>SO_REUSEADDR</code> to always be set.</li>
<li>Changed <code>Unix.Passwd</code> functions to stop using <code>In_thread.run</code>, which was pointless because the underlying C code doesn't release the OCaml lock.</li>
<li>Added function <code>Scheduler.total_cycle_time : unit -&gt; Time_ns.Span.t</code>, which returns the total wall-clock time spent running Async cycles.</li>
<li>Added to <code>Time_source.advance_by_alarms</code> an optional argument, <code>?wait_for:(unit -&gt; unit Deferred.t)</code>, which allows the caller to control when <code>advance_by_alarms</code> proceeds to the next alarm time.</li>
<li>Fixed a potential segfault in <code>Unix.Group.getby{gid,name}</code> functions by changing them to not us <code>In_thread.run</code>, which avoids a bug in the OCaml stdlib's <code>getgrgid</code> C wrapper.</li>
<li>Added <code>Reader</code> functions that operate on whatever is in the reader's buffer already, without performing I/O: <code>bytes_available</code>, <code>peek_available</code>, <code>read_available</code>.</li>
<li>Deprecated <code>Scheduler.add_busy_poller</code>.</li>
<li>Improved the implementation of <code>Reader.read_one_iobuf_at_a_time</code> to use <code>Iobuf.Expert.reinitialize_of_bigstring</code>.</li>
<li>Added module <code>Deferred.Or_error.Expect_test_config</code>.</li>
<li>Removed some noise from <code>Rpc_transport_low_latency</code> error messages.</li>
<li>Added to the <code>Log</code> module convenience functions for logging sexps: <code>raw_s</code>, <code>info_s</code>, <code>error_s</code>, <code>debug_s</code>.</li>
<li>Moved <code>Async_extra.Udp</code> to a standalone library, <code>Async_udp</code>.</li>
<li>Improved error handling in the <code>Rpc_transport_low_latency</code> module.</li>
</ul>

<p>
<code>Async_extended</code>:
</p>

<ul class="org-ul">
<li>Moved modules out of <code>Async_extended</code> into their own libraries, aimed at deleting <code>Async_extended</code>.</li>
</ul>

<p>
<code>Async_inotify</code>:
</p>

<ul class="org-ul">
<li>Fixed race conditions that caused <code>Events for an unknown watch</code>.</li>
</ul>

<p>
<code>Async_kernel</code>:
</p>

<ul class="org-ul">
<li>Extended the allowed range of the Async scheduler's <code>max_inter_cycle_timeout</code> to include zero, which can improve latency because it causes the scheduler's call to <code>epoll</code> to not give up the OCaml lock.</li>
<li>Moved <code>Async_kernel</code> tests from <code>src</code> directory to the <code>test</code> directory, which reduces code size.</li>
<li>Exposed <code>Eager_deferred_or_error.List</code> submodule.</li>
<li>Added function <code>Pipe.fork</code>, which takes a <code>Pipe.Reader.t</code> and returns a pair of readers, transferring each of the values from the input to both of the output readers.</li>
<li>Removed some <code>Obj.magic</code> from the implementation of <code>Ivar</code> that is no longer necessary now that constructors can have inline records.</li>
<li>Moved the <code>Limiter</code> module to a single-module library, <code>Limiter_async</code>.</li>
<li>Added function <code>Synchronous_time_source.alarm_upper_bound</code>.</li>
<li>In <code>Synchronous_time_source</code>, disallowed rescheduling of a previously aborted event while it is waiting to run.  This fixes a bug that would cause an infinite loop.</li>
<li>Changed <code>Deferred.Memo</code> to use <code>Staged.t</code> to make staging explicit.</li>
<li>Improved <code>Deferred.Memo.general</code> to not require its key to support <code>t_of_sexp</code>.</li>
<li>Added function <code>Deferred.Or_error.repeat_until_finished</code>.</li>
<li>Added <code>Deferred.Result</code> functions <code>fail</code> and <code>failf</code>.</li>
<li>Moved <code>Eager_deferred</code> to a standalone library.</li>
<li>Fixed a memory leak in <code>Pipe.values_available</code>, by having repeated calls share the same deferred.</li>
<li>Added to <code>Monitor.protect</code> an optional argument, <code>~?run:[~Now | ~Schedule]~</code>, like <code>Monitor.try_with</code>.</li>
<li>Restricted the type of <code>Deferred.any_unit</code>, changing it from <code>_ t list -&gt; unit t</code> to <code>unit t list -&gt; unit t</code>.</li>
</ul>

<p>
<code>Async_rpc_kernel</code>:
</p>

<ul class="org-ul">
<li>Added submodule <code>Versioned_rpc.Both_convert.State_rpc</code>, the only conversion-kind and rpc-kind combination missing from versioned rpcs.</li>
</ul>

<p>
<code>Async_unix</code>:
</p>

<ul class="org-ul">
<li>Made Async raise if the creation of the first thread-pool thread fails.</li>
<li>Improved Async's thread-pool-stuck message.</li>
<li>Changed the Async scheduler's implementation of the set of file descriptors that need to be updated in the file-descr watcher from a list to a <code>Stack.t</code>.</li>
<li>Changed <code>Unix.Group</code> and <code>Unix.Passwd</code> functions' implementation to use <code>In_thread.run</code>, since the underlying <code>Core.Unix</code> functions have been changed to be thread safe and to release the OCaml lock.</li>
<li>Moved modules to standalone libraries: <code>Thread_pool</code>, <code>Thread_safe_ivar</code>, <code>Thread_safe_pipe</code>.</li>
</ul>

<p>
<code>Base</code>:
</p>

<ul class="org-ul">
<li>Removed the <code>Or_error.Ok</code> module, which matched the <code>Container</code> interface.</li>
<li>Removed the <code>Ref</code> module's support for the <code>Container</code> interface.</li>
<li>In the <code>Sequence</code> module, renamed the labeled argument <code>cmp</code> to <code>compare</code>, following the rest of <code>Base</code>.</li>
<li>Deprecated the <code>String.copy</code> function, now that we use safestring. <code>String.copy</code> is already deprecated in stdlib.</li>
<li>Optimized <code>String</code> functions (<code>concat</code>, <code>sub</code>, and <code>tr</code>) to eliminate unnecessary allocation of the result string.</li>
<li>Added <code>Blit.Make_to_string</code> functor and <code>Buffer.To_string</code> submodule, for blitting to a string.</li>
<li>Added to the <code>Applicative.S</code> interface a map operator, <code>&gt;&gt;|</code>.</li>
<li>Added functor <code>Applicative.Make_let_syntax</code>, which generates the <code>Let_syntax</code> module for use with <code>let%map</code>.</li>
<li>Added function <code>List.partition_result : ('ok, 'error) Result.t t -&gt; 'ok t * 'error t</code>.</li>
<li>Changed <code>Base.raise</code> to use the <code>%raise</code> primitive, so that the compiler can automatically rewrite <code>%raise</code> by <code>%reraise</code> when appropriate.</li>
<li>Added <code>Array</code> functions <code>of_list_mapi</code>, <code>of_rev_list_mapi</code>.</li>
<li>Optimized <code>Array</code> looping functions to remove allocation: <code>exists</code>, <code>find_map</code>, <code>foldi</code>, <code>for_all</code>, etc.</li>
<li>Added <code>*_pow2</code> and <code>*_log2</code> functions to <code>Int_intf.S</code> and implemented them for all integer modules: <code>floor_pow2</code>, <code>ceil_pow2</code>, <code>is_pow2</code>, <code>floor_log2</code>, <code>ceil_log2</code>.</li>
<li>Moved the <code>Heap_block</code> module to <code>Core_kernel</code>.</li>
<li>Made <code>List.drop</code> and <code>List.drop_while</code> tail recursive.</li>
<li>Optimized <code>Hash_set.to_array</code>, removing an intermediate list.</li>
<li>Optimized <code>Sign</code> comparison functions to be the type-specific versions, rather than the polymorphic ones.</li>
<li>Added top-level module <code>Base.Sign_or_nan</code>, moved out of <code>Float</code></li>
<li>Made <code>Bool</code> implement the <code>Identifiable.S</code> interface.</li>
<li>For <code>Container</code>'s <code>sum</code> function, added the <code>Container.Summable</code> interface, replacing <code>Commutative_group</code>.</li>
<li>Improved <code>Type_equal.Id.sexp_of_t</code>, reducing noise, especially in tests.</li>
<li>Changed <code>List.equal</code> and <code>Array.equal</code>, removing the <code>~equal</code> label from their argument.  This makes them like <code>compare</code> functions, and is in preparation for changing <code>[@@deriving compare]</code> to also derive equality functions.</li>
<li>Changed the type of <code>List.sort</code> from <code>compare:('a -&gt; 'a -&gt; int) -&gt; 'a t -&gt; 'a t</code> to <code>'a t -&gt; compare:('a -&gt; 'a -&gt; int) -&gt; 'a t</code>.</li>
<li>Added <code>Stack</code> module, moved in from <code>Core_kernel</code>.</li>
<li>Deleted the <code>Applicative.Const</code> functor.</li>
<li>Optimized <code>Lazy.compare</code> to immediately return <code>true</code> if its arguments are <code>phys_equal</code>.</li>
<li>Deprecated <code>Applicative</code>'s <code>Args*</code> module types and <code>Make_args*</code> functors, which have been superseded by the <code>let%map</code> syntax.</li>
<li>Added <code>Field</code> functions <code>map</code> and <code>update</code>.</li>
<li>Reworked the type of <code>Ordered_collection_common.get_pos_len{,_exn}</code>.</li>
<li>Optimized <code>String.contains</code>, eliminating unnecessary allocation and bounds checks.</li>
<li>Deprecated <code>Array.replace</code>.</li>
<li>Added <code>String.Search_pattern</code> function <code>val matches : t -&gt; string -&gt; bool</code>.</li>
<li>Optimized <code>Hashtbl.mapi_inplace</code>, making it up to 4 to 8 times faster.</li>
<li>Implemented <code>Queue.of_array</code> in terms of <code>Queue.init</code>.</li>
<li>Added <code>swap</code> function to <code>Obj_array</code>, <code>Option_array</code>, and <code>Uniform_array</code>.</li>
<li>For JavaScript, added a <code>const</code> annotation to the appropriate JavaScript primitives.</li>
<li>Fixed <code>Int.Hex.of_string</code> and related functions to not silently ignore a suffix of non-hexadecimal garbage.</li>
<li>Optimized <code>Obj_array.set</code> functions, removing an unnecessary check that the array is a float array.</li>
<li>Changed <code>Option_array.value_exn</code> to generate smaller code.</li>
<li>Change <code>List.zip</code>'s return type from <code>('a * 'b) list option</code> to <code>('a * 'b) list List.Or_unequal_lengths.t</code>.</li>
<li>Added to <code>Or_error.of_exn_result</code> an optional <code>?backtrace</code> argument.</li>
<li>Stopped exporting the <code>Popcount</code> module, in favor of functions in <code>Int*</code> modules.</li>
<li>Reimplemented <code>List.take</code> and <code>take_while</code> to avoid allocating an extra tuple.</li>
<li>Reworked <code>String</code>'s implementation to not use <code>Set</code>.</li>
<li>Optimized <code>Stack.to_array</code> to not create an intermediate list.</li>
<li>Extended the <code>Container.Make</code> functor to allow one to supply a custom <code>length</code> function that supersedes the definition in terms of <code>fold</code>.</li>
<li>Added <code>Base.Bigstring</code> module, moving in most of <code>Core_kernel.Bigstring</code>.</li>
<li>Added <code>[@@deriving equal]</code> for primitive types (<code>bool</code>, <code>char</code>, <code>int</code>, etc.).</li>
<li>Optimized <code>Array.sort</code>, removing some unnecessary allocation,</li>
<li>Made <code>am_testing</code> be <code>true</code> in <code>.mlt</code> files.</li>
</ul>

<p>
<code>Base_bigstring</code>:
</p>

<ul class="org-ul">
<li>Added the <code>Base_bigstring</code> library, splitting out the <code>Bigstring</code> module from <code>Base</code>.</li>
</ul>

<p>
<code>Bin_prot</code>:
</p>

<ul class="org-ul">
<li>Improved the error message for integer-deserialization overflow on 32-bit platforms.</li>
<li>Switched <code>bin_shape.ml</code> to using <code>Base</code> rather than reimplementing a small fragment of it.</li>
</ul>

<p>
<code>Core</code>:
</p>

<ul class="org-ul">
<li>Changed <code>Time.Zone.local</code> to call <code>Sys.getenv "TZ"</code> eagerly so that modifications to the environment (e.g. modifying <code>TZ</code> to change the behavior of <code>strftime</code>) cannot change which time zone is considered "local".</li>
<li>Added function <code>Unix.map_file</code>, for memory mapping a file as a big array.</li>
<li>Added new stable versions for <code>Time_ns.Span</code> and <code>Time.Span</code>, that round trip precisely.  Changed the unstable string and sexp format; new code can read the old format but old code can <b>not</b> read the new format.</li>
<li>Added <code>Md5.digest_bigstring</code> and used it to implement a more efficient version of <code>Md5.digest_bin_prot</code>.</li>
<li>Changed <code>Command.Spec.Arg_type.comma_separated</code> to take a required argument, <code>[allow_empty:bool]</code>.</li>
<li>Optimized <code>Time_stamp_counter.Calibrator.calibrate</code> to not allocate.</li>
<li>Moved some modules out of <code>Core</code> to their own library: <code>Crc</code>, <code>Piecewise_linear</code>, <code>Syslog</code>, <code>Timing_wheel_float</code>, <code>Weak_hashtbl</code>.</li>
<li>Changed <code>Unix.symlink</code>'s argument labels from <code>~src</code> <code>~dst</code> to <code>target</code> and <code>link_name</code>, matching <code>Unix.link</code>.</li>
<li>Moved modules <code>Schedule_v4_deprecated</code> and <code>Schedule_v5</code> out of <code>Core</code> and to their own libraries.</li>
<li>Moved <code>Core</code> tests from <code>src</code> directory to <code>test</code> directory.</li>
<li>Extended <code>Time_stamp_counter</code>'s interface to match <code>Comparisons.S</code>, with implementation as <code>Int63</code> comparisons.</li>
<li>Made the <code>Command</code> module satisfy the <code>Applicative.Let_syntax</code> interface.</li>
<li>Changed <code>Lock_file</code>'s lock-file format to include the process start time, to avoid collisions.  New code can read old lock files but old code can not read new lock files, and will report <code>unknown lock file format</code> if it encounters a stale lock file.</li>
<li>Added <code>Unix.sysconf</code> value <code>CLK_TCK</code>.</li>
<li>Added to <code>Time_ns.Ofday</code> a <code>Zoned</code> submodule, similar to <code>Time.Ofday.Zoned</code>.</li>
<li>Added function <code>Linux_ext.sched_getaffinity</code>.</li>
<li>Added function <code>Sys.unsafe_getenv</code>, intended for use in setuid and setgid executables.</li>
<li>Changed <code>Command.Arg_type.comma_separated</code>'s <code>allow_empty</code> argument to be optional, with default <code>false</code>.</li>
<li>Moved the <code>Daemon</code> module, to a single-module library.</li>
<li>Renamed some <code>Iobuf</code> functions to clarify which ones truncate integers.</li>
<li>Removed <code>Core.Std</code>, which has been deprecated for over a year.</li>
<li>Added <code>Core_stable</code> modules <code>Bool</code>, <code>List</code>, <code>Option</code>, and <code>Sexp</code>.</li>
<li>Added to <code>Unix.create_process_env</code> an optional argument <code>?argv0 : string</code>.</li>
<li>Moved the <code>Uuid</code> module out of <code>Core</code>, to a single-module library.</li>
<li>Moved <code>Lock_file</code> to a single-module library, <code>Lock_file_blocking</code>.</li>
<li>Moved the <code>Mac_address</code> module out of <code>Core</code>, to a single-module library.</li>
<li>Added <code>Command.Arg_type</code> values for <code>Time_ns</code> analogous to existing <code>Time</code> ones.</li>
<li>Removed some code from <code>Bigstring</code> that was duplicative of <code>Core_kernel.Bigstring</code>.</li>
<li>Moved values out of <code>Command.Arg_type</code> and into their respective modules.  E.g. <code>Arg_type.file</code> became <code>Filename.arg_type</code>.</li>
<li>Added <code>Iobuf</code> function <code>protect_window_and_bounds_1</code>.</li>
<li>Added Thread functions <code>getaffinity_self_exn</code> and <code>setaffinity_self_exn</code>.</li>
<li>Added to <code>Command.run</code> an optional argument, <code>?verbose_on_parse_error : bool</code>, that controls whether to print a line suggesting the user try the <code>-help</code> flag when an exception is raised while parsing the arguments.</li>
<li>Fixed <code>Command</code> autocompletion to work for setuid programs; executables were failing to notice that completion was being requested, and were thus reporting a <code>missing subcommand</code> error.</li>
<li>Fixed <code>Time_stamp_counter.Calibrator</code> to work when time goes backwards.</li>
<li>Added to <code>Unix.exec</code> and <code>fork_exec</code> the ability to remove environment variables for the new process.</li>
<li>Optimized <code>Iobuf.Peek.char</code>, by adding <code>[@inline]</code> annotations.</li>
<li>Extended <code>Command</code> so that a <code>help-for-review.org</code> file can be computed with a single call to the executable, rather than a call for every subcommand.</li>
<li>Changed <code>Linux_ext.bind_to_interface</code>'s second argument to be an ordinary variant type, <code>Bound_to_interface.t</code>.</li>
<li>Added a test to help us keep <code>Core</code>'s exports in sync with <code>Core_kernel</code>'s exports.</li>
<li>Added to <code>Unix.create_process_env</code> an optional parameter, <code>prog_search_path</code>, to control the search path for the program to be executed.</li>
<li>Eliminated 3ms of program startup time by making <code>Time_stamp_counter</code> calibration lazy.</li>
<li>Added <code>Linux_ext.Extended_file_attributes</code> submodule, with wrappers for the <code>getxattr</code> and <code>setxattr</code> syscalls.</li>
<li>Made <code>Time_stamp_counter</code> functions' calibrator argument required instead of optional.</li>
<li>Added <code>Version_util.Version.parse</code> function, for parsing a single <code>version</code> line.</li>
<li>Moved modules out to standalone libraries: <code>Nano_mutex</code>, <code>Squeue</code>.</li>
</ul>

<p>
<code>Core_kernel</code>:
</p>

<ul class="org-ul">
<li>Added function <code>List.zip_with_remainder</code>, which returns both the zipped and unzipped elements.</li>
<li>Exposed <code>Map.comparator_s</code> function, which was previously added to <code>Base.Map</code>.</li>
<li>Added <code>Time_ns.Ofday</code> submodule, moved from <code>Core</code>.</li>
<li>Made <code>Time_ns.Span</code> be stringable and sexpable, and added a <code>Stable.V2</code> submodule, all moved from <code>Core</code>.  Deprecated the <code>Alternate_sexp</code> module.</li>
<li>Added <code>Univ_map.of_alist_exn</code> function.</li>
<li>Optimized <code>Int63.Replace_polymorphic_compare</code> to use the <code>Int63</code> comparisons directly, rather than defined via a functor.</li>
<li>Removed from <code>Time.Ofday</code>'s and <code>Time_ns.Ofday</code>'s interface <code>Comparable.With_zero</code>; one shouldn't think of <code>Ofday</code> values as signed.</li>
<li>Renamed <code>Time.Ofday.to_millisec_string</code> to <code>to_millisecond_string</code>, for consistency with <code>Time_ns</code>.</li>
<li>Renamed <code>Time.Ofday.of_span_since_start_of_day</code> to <code>of_span_since_start_of_day_exn</code>, for consistency with <code>Time_ns</code>.</li>
<li>Generalized <code>Time.Span.randomize</code> so that <code>Time_ns</code> can share its implementation.</li>
<li>Updated <code>Time.Span.to_short_string</code> to render "24h" as "1d", and to go down to nanosecond granularity.</li>
<li>Fixed a couple of incorrect deprecations in <code>Substring</code>, on <code>of_string</code> and <code>of_bigstring</code>.</li>
<li>Updated <code>Time_ns.Ofday</code> to provide <code>Ofday_intf.S</code>.</li>
<li>Made polymorphic <code>Hash_set</code> support <code>[@@deriving sexp_of]</code>.</li>
<li>Exported <code>Buffer</code> module, from <code>Base</code>.</li>
<li>Moved module <code>Unpack_buffer</code> out of <code>Core_kernel</code> and into its own library.</li>
<li>Updated <code>Quickcheck</code> generators and observers to have named state arguments (PRNG and hash state).</li>
<li>Extended <code>Hashtbl</code>, <code>Map</code>, and <code>Set</code> to support the <code>Base</code> style of <code>[@@deriving hash]</code>, e.g. <code>type t = float Map.M(Int).t [@@deriving hash]</code>.</li>
<li>Moved the implementation of <code>Quickcheck</code> into its own library, <code>Base_quickcheck</code>.</li>
<li>Added function <code>Bigstring.memcmp</code>.</li>
<li>Fixed issues in <code>Bigstring.unsafe_destroy_and_resize</code> that could lead to segfaults.</li>
<li>Made <code>Sequence.t</code> and <code>Sequence.Step.t</code> support <code>[@@deriving bin_io]</code>.</li>
<li>Moved some <code>Time_ns</code> functions from Core to Core_kernel: <code>of_time</code>, <code>to_time</code>, <code>Span.of_span</code>, <code>Span.to_span</code>.</li>
<li>Added function <code>Memo.of_comparable</code>, which uses a module matching <code>Comparable.S_plain</code> to memoize a function.</li>
<li>Changed <code>Sexp_maybe</code> to use <code>Error</code>'s comparison functions rather than polymorphic ones.</li>
<li>Exported in <code>Core_kernel</code> quickcheck bindings for built-in types.</li>
<li>Moved the <code>Limiter</code> module to a single-module library.</li>
<li>Moved the <code>Bucket</code> module out to a single-module library.</li>
<li>Merged <code>Core.Md5</code> into <code>Core_kernel.Md5</code>.</li>
<li>Added submodule <code>Unit.Stable.V1</code>.</li>
<li>Added function <code>Byte_units.to_string_short</code>.</li>
<li>Split out a <code>Config_h</code> library for generating the <code>config.h</code> file that many libraries (including <code>Core_kernel</code>) use.</li>
<li>Added function <code>Char.gen_uniform_inclusive : t -&gt; t -&gt; t Quickcheck.Generator.t</code>.</li>
<li>Added <code>Filename</code> module, moving in most of the code from <code>Core.Filename</code>.</li>
<li>Added <code>Hash_queue</code> functions <code>enqueue_front</code>, <code>enqueue_back</code>, <code>lookup_and_move_to_front</code>.</li>
<li>Added <code>Command</code> module, moving in most of <code>Core.Command</code>.</li>
<li>Removed the <code>Pooled_hashtbl</code> module, moving it to a single-module library.</li>
<li>Improved <code>Command.choose_one</code>'s error message.</li>
<li>Changed module type <code>Hash_heap.Key</code> from <code>Hashtbl.Key</code> to <code>Hashtbl.Key_plain</code>.</li>
<li>Deprecated <code>Obj_array</code>, replacing uses with <code>Uniform_array</code>.</li>
<li>Renamed <code>Time</code> submodule <code>Relative_to_unspecified_zone</code> as <code>Date_and_ofday</code>.</li>
<li>Deprecated <code>Timing_wheel_ns</code> function <code>alarm_upper_bound</code>, in favor of <code>max_allowed_alarm_time</code>, which is clear about the inclusiveness of its bound.</li>
<li>Deprecated the <code>Timing_wheel_ns.Priority_queue</code> module, with no intended replacement.</li>
<li>Added <code>Tuple.Comparable_plain</code> functor.</li>
<li>Added <code>Command.Param</code> functions <code>map_anons</code> and <code>map_flag</code>, analogs of the corresponding <code>Spec</code> functions.</li>
<li>Deprecated <code>Command.Spec.flags_of_args_exn</code>, which isn't used.</li>
<li>Deprecated <code>Command.Spec</code> functions <code>const</code> and <code>pair</code>, which have <code>Param</code> counterparts.</li>
<li>Added submodule <code>Map.Stable.Symmetric_diff_element.V1</code>.</li>
<li>Added to <code>Timing_wheel_ns.create</code> an optional argument, <code>?capacity : int</code>, for preallocating the underlying pool.</li>
<li>Added <code>Bigstring.memset</code> function.</li>
<li>Made <code>Date.t</code> have <code>[@@deriving typerep]</code>.</li>
<li>Changed the precision of <code>Time_ns</code> strings and sexps from 6 digits to 9 digits.</li>
<li>Removed <code>Timing_wheel_ns.Priority_queue</code>.</li>
<li>Optimized <code>Memo</code>, removing a closure allocation that had occurred on each call to the memoized function.</li>
<li>Added <code>Time_ns</code> functions <code>next</code> and <code>prev</code>.</li>
<li>Opted in to ocamlformat.</li>
<li>Refactored <code>Command.Path</code> and renamed some of its functions.</li>
<li>Changed <code>Command.Path</code> to retain the dirname of executables.</li>
<li>Extended <code>Hash_queue</code> to support the use of an alternate hash-table implementation.</li>
<li>Added <code>Rope</code> functions <code>is_prefix</code> and <code>to_char_sequence</code>.</li>
<li>Made <code>String.Stable</code> match <code>Stable_containers.Hashable.V1.S</code>.</li>
<li>Added function <code>Date.week_number_and_year</code>, for the ISO 8601 week number and week-numbering year.</li>
<li>Extended <code>String_id.Stable.V1</code> to match <code>Stable_containers.Hashable.V1.S</code>.</li>
<li>Added a test to help us keep <code>Core_kernel</code>'s exports in sync with <code>Base</code>'s exports.</li>
<li>Added to <code>Doubly_linked</code> a number of utility functions: <code>map</code>, <code>filter_map</code>, <code>filter_inplace</code>, <code>map_inplace</code>, etc.</li>
<li>Added function <code>Set_once.set_if_none</code>.</li>
<li>Changed <code>Hash_queue.dequeue*</code> functions to match then <code>enqueue*</code> functions, making it clear whether the element is being removed from the front or the back.</li>
<li>Added <code>Hash_queue.drop*</code> functions.</li>
<li>Added to <code>Flags</code> unstable <code>bin_io</code>.</li>
<li>Added <code>[@@deriving equal]</code> for primitive types (<code>bool</code>, <code>char</code>, <code>int</code>, etc.).</li>
<li>Added type <code>Filename.t = string</code>.</li>
<li>Added <code>Bigstring.Stable</code> and <code>Unstable</code> submodules, removing serialization from <code>Bigstring.t</code>.</li>
<li>Exposed type equality <code>Flags.Unstable.t = Flags.t</code>.</li>
<li>Moved <code>Time_ns.now</code> functionality to a standalone library, <code>Time_now</code>.</li>
<li>Added <code>Hexdump.Pretty</code> submodule, which renders strings directly, only using hexdump format if necessary.</li>
<li>Moved the <code>Weak_pointer</code> module to a standalone library.</li>
<li>Reworked the <code>Byte_units</code> module.</li>
<li>Abstracted the heap from <code>Sequence.merge_all</code>, so it can be used with multiple heap implementations.</li>
<li>Added to <code>String_id.S</code> <code>[@@deriving equal]</code>.</li>
<li>Made conversions between <code>Time</code> and <code>Time_ns</code> round as precisely as possible rather than to the nearest microsecond.</li>
<li>Moved modules out to standalone libraries: <code>Force_once</code>, <code>Hash_heap</code>, <code>Int_set</code>, <code>Rope</code>, <code>Thread_safe_queue</code>, <code>Total_map</code>, <code>Weak_array</code>.</li>
</ul>

<p>
<code>Expect_test_helpers</code>:
</p>

<ul class="org-ul">
<li>Added <code>val sexp_style : Sexp_style.t ref</code>, to configure the style <code>print_s</code> uses to format sexps.</li>
<li>Added to <code>Expect_test_helpers.run</code> optional arguments <code>?postprocess : (string -&gt; string)</code>, <code>?print_stdout : bool</code>, and <code>?print_stderr : bool</code>.</li>
<li>Added new library <code>Expect_test_helpers_base</code>, pulling out code from <code>Expect_test_helpers_kernel</code> that only needs <code>Base</code>.</li>
<li>Extended <code>within_temp_dir</code> to work when links cross devices, by copying the file.</li>
</ul>

<p>
<code>Incremental</code>:
</p>

<ul class="org-ul">
<li>Switched Incremental's API from using <code>Time</code> to using <code>Time_ns</code>.</li>
<li>Made <code>Incremental</code> be the library name rather than <code>Incremental_lib</code>, and moved all modules from <code>Incremental_lib</code> to submodules of <code>Incremental</code>.</li>
<li>Merged the <code>Incremental</code> and <code>Incremental_kernel</code> libraries into a single library, <code>Incremental</code>.</li>
<li>Moved the <code>Balanced_reducer</code> module out of <code>Incremental</code>, to a single-module library.</li>
<li>Reduced the use of <code>Obj.magic</code>.</li>
<li>Made the Incremental library's clock handling explicit rather than implicit.</li>
<li>Added <code>Incr_result</code> library, for dealing with values of type <code>('a, 'b) Result.t Incr.t</code>.</li>
<li>Deleted the <code>Implicit_clock</code> module type and <code>Make_with_implicit_clock</code> functor, all code having been converted to the explicit clock.</li>
</ul>

<p>
<code>Re2</code>:
</p>

<ul class="org-ul">
<li>Fixed a segfault bug in <code>Re2</code> functions <code>find_all</code>, <code>find_all_exn</code>, <code>find_first</code>, <code>find_first_exn</code>.</li>
<li>Changed <code>Re2.Options</code> to be a record of all the options, and creation functions to take a single <code>Options.t</code>.</li>
</ul>

<p>
<code>Rpc_parallel</code>:
</p>

<ul class="org-ul">
<li>Add support for inline tests to use <code>Rpc_parallel</code>.</li>
</ul>

<p>
<code>Sexplib</code>:
</p>

<ul class="org-ul">
<li>Added to macro templates the ability to refer to other templates and variables.</li>
<li>Improved error messages when unable to convert a sexp to a value.</li>
<li>Moved <code>Sexplib.Macro</code> to its own library <code>Sexp_macro</code>.</li>
<li>Removed a closure allocation from <code>Sexp.must_escape</code>.</li>
</ul>

<p>
<code>Stdio</code>:
</p>

<ul class="org-ul">
<li>Added function <code>Stdio.print_s</code>, moved in from <code>Core_kernel</code>.</li>
<li>Added <code>print_string</code> function.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orge472183" class="outline-3">
<h3 id="orge472183">Anton Kochkov then said</h3>
<div class="outline-text-3" id="text-orge472183">
<p>
Since you mentioned Hardcaml here, there is an issue/initiative to improve the integration between different chip design tools and frameworks:
</p>
<ul class="org-ul">
<li><a href="https://github.com/janestreet/hardcaml/issues/3">https://github.com/janestreet/hardcaml/issues/3</a></li>
<li><a href="https://github.com/SymbiFlow/ideas/issues/19">https://github.com/SymbiFlow/ideas/issues/19</a></li>
<li><a href="https://github.com/HardwareIR/netlistDB">https://github.com/HardwareIR/netlistDB</a></li>
<li><a href="https://github.com/freechipsproject/firrtl">https://github.com/freechipsproject/firrtl</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgf0bf4be" class="outline-2">
<h2 id="4">Logical: logic programming framework inspired by microKanren (0.1.0)</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-logical-logic-programming-framework-inspired-by-microkanren-0-1-0/3503/1">https://discuss.ocaml.org/t/ann-logical-logic-programming-framework-inspired-by-microkanren-0-1-0/3503/1</a>
</p>
</div>

<div id="outline-container-org03c2514" class="outline-3">
<h3 id="org03c2514">Tóth Róbert announced</h3>
<div class="outline-text-3" id="text-org03c2514">
<p>
&gt; It's only logical. - Spock
</p>

<p>
Logical is a minimalistic logic programming, which is
</p>
<ul class="org-ul">
<li>Simple implementation with only a few building blocks</li>
<li>Easy to understand and use</li>
<li>Supports negation free constraint logic programming by using Sets</li>
</ul>

<p>
It has a pretty decent readme, so if you are interested you should visit the <a href="https://github.com/StrykerKKD/Logical">repository</a>.
</p>

<p>
The only future improvement, I'm thinking about now is also supporting (lazy) sequences in Logical, so negation free constraint system has a workable solution for infinit domains with a custom search strategy thanks to sequence generation.
</p>

<p>
I created this package mainly, because I couldn't find any published microkanren based package, evethough there are some unpublished implementations. The other reason was that I want to experiment with how well can logic programming be used for business logic implementation.
</p>

<p>
It was my first time using <a href="https://esy.sh/">Esy</a> for a personal project and it was really easy to work with. I can only recommend it for others, because it makes the barrier to entry for others really low.
</p>

<p>
Links in readable form:
</p>
<ul class="org-ul">
<li><a href="https://github.com/StrykerKKD/Logical">https://github.com/StrykerKKD/Logical</a></li>
<li><a href="http://minikanren.org/">http://minikanren.org/</a></li>
<li><a href="https://esy.sh/">https://esy.sh/</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgb4cbb0f" class="outline-3">
<h3 id="orgb4cbb0f">gasche then said</h3>
<div class="outline-text-3" id="text-orgb4cbb0f">
<p>
You may be interested in <a href="https://github.com/dboulytchev/OCanren">OCanren</a> which also ports Kanren ideas into an OCaml EDSL (Embedded Domain-Specific Language).
</p>
</div>
</div>


<div id="outline-container-org55644e9" class="outline-3">
<h3 id="org55644e9">Tóth Róbert replied</h3>
<div class="outline-text-3" id="text-org55644e9">
<p>
I looked at Ocanren, but I didn't really try it out, because
</p>
<ul class="org-ul">
<li>it's not published on opam</li>
<li>seemed a little bit heavy weight compared to what I wanted</li>
<li>I also found the examples a little bit too complex for my taste</li>
</ul>

<p>
I also looked at the other implementation <a href="https://github.com/lightyang/minikanren-ocaml">minikanren-ocaml</a>, which is also unfortunately not published on opam.
</p>
</div>
</div>
</div>




<div id="outline-container-orgd84d3bd" class="outline-2">
<h2 id="5">Other OCaml News</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orge48871f" class="outline-3">
<h3 id="orge48871f">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-orge48871f">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="https://opam.ocaml.org/blog/opam-20-tips/">opam 2.0 tips</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org6017d53" class="outline-2">
<h2 id="org6017d53">Old CWN</h2>
<div class="outline-text-2" id="text-org6017d53">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
