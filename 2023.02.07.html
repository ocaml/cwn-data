<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-07 Tue 09:15 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2023.01.31.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2023.02.14.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of January 31 to February 07, 2023.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">Tezt 3.0.0, now JS-compatible and in its own repository</a></li>
<li><a href="#2">Shuttle 0.9.1 released</a></li>
<li><a href="#3">Outreachy Summer 2023</a></li>
<li><a href="#4">Usability improvements in the OCaml compiler codebase</a></li>
<li><a href="#5">Learning to write PPX extenders: some links</a></li>
<li><a href="#6">Stramon 0.3.0 - Process behavior monitoring utility based on strace</a></li>
<li><a href="#org12c9efa">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Tezt 3.0.0, now JS-compatible and in its own repository</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-tezt-3-0-0-now-js-compatible-and-in-its-own-repository/11283/1">https://discuss.ocaml.org/t/ann-tezt-3-0-0-now-js-compatible-and-in-its-own-repository/11283/1</a>
</p>
</div>

<div id="outline-container-org215069f" class="outline-3">
<h3 id="org215069f">rbardou announced</h3>
<div class="outline-text-3" id="text-org215069f">
<p>
It is my pleasure to announce the release of version 3.0.0 of Tezt, a test framework for OCaml which is well suited for unit,
integration and regression tests in particular.
</p>

<p>
Tezt now lives in <a href="https://gitlab.com/nomadic-labs/tezt">its own repository</a> (it used to be part of
<a href="https://gitlab.com/tezos/tezos/">Octez</a>). This should make documentation easier to find, bugs easier to report and features easier
to suggest. It also makes it faster to download and install.
</p>

<p>
The main highlights of this major release are:
</p>
<ul class="org-ul">
<li>JavaScript compatibility: the library has been split into a Unix-only part (<code>tezt</code>), a new JavaScript-only part (<code>tezt.js</code>), and a common part (<code>tezt.core</code>);</li>
<li>output files for regression tests are now located next to their test by default, in an <code>expected</code> subdirectory, which in particular makes it easier to split tests across a codebase;</li>
<li>one can now resume from a previous run to avoid running tests that had succeeded.</li>
</ul>

<p>
See the <a href="https://gitlab.com/nomadic-labs/tezt/-/blob/master/CHANGES.md#version-300">changelog</a> for the full list of changes, and the
<a href="https://nomadic-labs.gitlab.io/tezt/dev/tezt/Tezt/index.html">API Documentation</a> for more details.
</p>

<p>
You can install Tezt with opam:
</p>
<pre class="example" id="org4bfe350">
opam install tezt
</pre>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Shuttle 0.9.1 released</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-shuttle-0-9-1-released/11292/1">https://discuss.ocaml.org/t/ann-shuttle-0-9-1-released/11292/1</a>
</p>
</div>

<div id="outline-container-org8c091ba" class="outline-3">
<h3 id="org8c091ba">Anurag Soni announced</h3>
<div class="outline-text-3" id="text-org8c091ba">
<p>
I&rsquo;d like to announce a new point release (0.9.1) for <code>shuttle</code> and its companion libraries. They are available to install via opam:
</p>

<pre class="example" id="org866d970">
opam install shuttle shuttle_ssl shuttle_http
</pre>

<p>
The code is hosted on <a href="https://github.com/anuragsoni/shuttle">github</a>, and the documentation can be seen online on <a href="https://ocaml.org/p/shuttle_http/0.9.1/doc/index.html">ocaml&rsquo;s package
registry</a>.
</p>

<p>
<b>Shuttle</b> is a small library that is a wrapper around file descriptors that provides an API for buffered channels using
<a href="https://opensource.janestreet.com/async/">async</a>.
</p>

<p>
<b>Shuttle_ssl</b> provides ssl support for <code>shuttle</code> and is built on top of <code>async_ssl</code> (async bindings for OpenSSL).
</p>

<p>
<b>Shuttle_http</b> is a library that implements to help write HTTP/1.1 servers and clients.
</p>

<p>
Shuttle_http is the library that has seen the most changes in this release:
</p>

<ul class="org-ul">
<li>Improved streaming response body handling. The library will reliably schedule a cleanup action that will run if the underlying socket is closed before the entire response body was consumed.</li>
<li>Support for one-shot HTTP/1.1 clients.  These don&rsquo;t support keep-alives and the underlying socket will be closed after one request -&gt; response cycle.</li>
<li>Support for HTTP/1.1 clients that support keep-alives. Client connection will be kept open if both client and server indicate that the connection supports keep-alive. This allows the same connection to be re-used for multiple request -&gt; response cycles. The connection object ensures that outgoing requests are serialized to respect that HTTP/1.1 doesn&rsquo;t support multiplexing.</li>
<li>Support for persistent HTTP clients. Not to be confused with <code>HTTP persistent connection</code>. Persistent in this case refers to durable clients that will always hand the user an open connection, and attempts to reconnect if the underlying connection is lost. This leverages Async&rsquo;s persistent module to provide an HTTP flavored persistent connection.</li>
</ul>
</div>

<div id="outline-container-org04f447c" class="outline-4">
<h4 id="org04f447c">Uses and examples</h4>
<div class="outline-text-4" id="text-org04f447c">
<p>
<b>A hello world http server</b>
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open! </span><span style="color: #444fcf;">Core</span>
<span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Async</span>
<span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Shuttle_http</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">hello_world</span> (<span style="color: #007a9f;">address</span> :<span style="color: #444fcf;"> Socket.Address.Inet.t</span>) (<span style="color: #007a9f;">request</span> :<span style="color: #444fcf;"> Request.t</span>) =
  <span style="color: #444fcf;">Log.Global.</span>info <span style="color: #a52a2a;">!</span><span style="color: #ca3400;">"%{sexp: Socket.Address.Inet.t} - %s"</span> address (<span style="color: #444fcf;">Request.</span>path request);
  return (<span style="color: #444fcf;">Response.</span>create <span style="color: #00824f;">~body</span>:(<span style="color: #444fcf;">Body.</span>string <span style="color: #ca3400;">"Hello World"</span>) <span style="color: #242521; background-color: #fcf7ef;">`Ok</span>)
<span style="color: #ff4500;">;;</span>
</pre>
</div>

<p>
<b>An example of a http handler that responds with a streaming body</b>
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open! </span><span style="color: #444fcf;">Core</span>
<span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Async</span>
<span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Shuttle_http</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">my_service</span> (<span style="color: #007a9f;">address</span> :<span style="color: #444fcf;"> Socket.Address.Inet.t</span>) (<span style="color: #007a9f;">request</span> :<span style="color: #444fcf;"> Request.t</span>) =
  <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">%map</span> <span style="color: #007a9f;">reader</span> =
    <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">This an example to show a stream that works with an external resource.</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
    <span style="color: #444fcf;">Reader.</span>open_file <span style="color: #ca3400;">"&lt;some file path&gt;"</span>
  <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">Create a pipe from the reader that we will use as a streaming response body.</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">reader_pipe</span> = <span style="color: #444fcf;">Reader.</span>pipe reader <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">Create a response from the reader's pipe. If the server is closed before the full</span>
<span style="color: #8f6f4a; font-style: italic;">     response was served, the pipe will be closed which in-turn will close the reader and</span>
<span style="color: #8f6f4a; font-style: italic;">     the underlying file descriptor.</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
  <span style="color: #444fcf;">Response.</span>create <span style="color: #00824f;">~body</span>:(<span style="color: #444fcf;">Body.</span>of_pipe <span style="color: #242521; background-color: #fcf7ef;">`Chunked</span> reader_pipe) <span style="color: #242521; background-color: #fcf7ef;">`Ok</span>
<span style="color: #ff4500;">;;</span>
</pre>
</div>

<p>
<b>A one-shot http client</b>
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">run</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">address</span> =
    <span style="color: #444fcf;">Client.Address.</span>of_host_and_port (<span style="color: #444fcf;">Host_and_port.</span>create <span style="color: #00824f;">~host</span>:<span style="color: #ca3400;">"httpbin.org"</span> <span style="color: #00824f;">~port</span>:<span style="color: #00824f;">443</span>)
  <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #444fcf;">Client.Oneshot.</span>call <span style="color: #00824f;">~ssl</span>:(<span style="color: #444fcf;">Client.Ssl.</span>create ()) address (<span style="color: #444fcf;">Request.</span>create <span style="color: #242521; background-color: #fcf7ef;">`GET</span> <span style="color: #ca3400;">"/get"</span>)
<span style="color: #ff4500;">;;</span>
</pre>
</div>

<p>
<b>Client supporting keep-alive</b>
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">run</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">stdout</span> = <span style="color: #444fcf;">Lazy.</span>force <span style="color: #444fcf;">Writer.</span>stdout <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">%bind</span> <span style="color: #007a9f;">httpbin</span> =
    <span style="color: #444fcf;">Deferred.Or_error.</span>ok_exn
      (<span style="color: #444fcf;">Client.</span>create
         <span style="color: #00824f;">~ssl</span>:(<span style="color: #444fcf;">Client.Ssl.</span>create ())
         (<span style="color: #444fcf;">Client.Address.</span>of_host_and_port
            (<span style="color: #444fcf;">Host_and_port.</span>create <span style="color: #00824f;">~host</span>:<span style="color: #ca3400;">"httpbin.org"</span> <span style="color: #00824f;">~port</span>:<span style="color: #00824f;">443</span>)))
  <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #444fcf;">Monitor.</span>protect
    <span style="color: #00824f;">~finally</span>:(<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt; <span style="color: #444fcf;">Client.</span>close httpbin)
    (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt;
      <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">%bind</span> <span style="color: #007a9f;">response</span> = <span style="color: #444fcf;">Client.</span>call httpbin (<span style="color: #444fcf;">Request.</span>create <span style="color: #242521; background-color: #fcf7ef;">`GET</span> <span style="color: #ca3400;">"/stream/20"</span>) <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #444fcf;">Log.Global.</span>info <span style="color: #a52a2a;">!</span><span style="color: #ca3400;">"Headers: %{sexp: Headers.t}"</span> (<span style="color: #444fcf;">Response.</span>headers response);
      <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">log_body</span> <span style="color: #007a9f;">response</span> =
        <span style="color: #444fcf;">Body.Stream.</span>iter
          (<span style="color: #444fcf;">Body.</span>to_stream (<span style="color: #444fcf;">Response.</span>body response))
          <span style="color: #00824f;">~f</span>:(<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">chunk</span> -&gt;
            <span style="color: #444fcf;">Writer.</span>write stdout chunk;
            <span style="color: #444fcf;">Writer.</span>flushed stdout)
      <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">%bind</span> () = log_body response <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #000000; font-weight: bold;">let</span><span style="color: #a2604f;">%bind</span> <span style="color: #007a9f;">response</span> = <span style="color: #444fcf;">Client.</span>call httpbin (<span style="color: #444fcf;">Request.</span>create <span style="color: #242521; background-color: #fcf7ef;">`GET</span> <span style="color: #ca3400;">"/get"</span>) <span style="color: #000000; font-weight: bold;">in</span>
      <span style="color: #444fcf;">Log.Global.</span>info <span style="color: #a52a2a;">!</span><span style="color: #ca3400;">"Headers: %{sexp: Headers.t}"</span> (<span style="color: #444fcf;">Response.</span>headers response);
      log_body response)
<span style="color: #ff4500;">;;</span>
</pre>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Outreachy Summer 2023</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/outreachy-summer-2023/11159/4">https://discuss.ocaml.org/t/outreachy-summer-2023/11159/4</a>
</p>
</div>

<div id="outline-container-org95477bf" class="outline-3">
<h3 id="org95477bf">Reynir Björnsson announced</h3>
<div class="outline-text-3" id="text-org95477bf">
<p>
Hello! Me, @rand and @pitag intend to co-mentor on two projects related to <a href="https://mirage.io/">Mirage</a>. We have not set in stone
what the projects will be, but we have some ideas. Suggestions and feedback is very welcome.
</p>

<p>
One idea is to work on the story of persistent storage in OCaml. Specifically,
</p>
<ul class="org-ul">
<li>write tests and example unikernels for existing libraries (MBR, tar, ..),</li>
<li>work on a gpt implementation (an old non-functional implementation exists),</li>
<li>a scratch space / swap-like library for keeping track in memory of temporary allocations on a block device. This can be used in conjunction with MBR or GPT and the tar filesystem. The tar filesystem is append-only, and for that reason the scratch space can be useful for temporarily storing files downloaded over http before committing them to the filesystem once the final size is known or the checksum matches an expected hash.</li>
</ul>

<p>
We have as well a few ideas about (better) support for MirageOS on micro controllers and Raspberry Pi. We are investigating the
possibility of shipping hardware to interns and what micro controllers could be relevant.
</p>

<p>
Other ideas is picking up an old ntp-client project or working on conntest: <a href="https://github.com/rand00/conntest/">https://github.com/rand00/conntest/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">Usability improvements in the OCaml compiler codebase</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/usability-improvements-in-the-ocaml-compiler-codebase/11312/1">https://discuss.ocaml.org/t/usability-improvements-in-the-ocaml-compiler-codebase/11312/1</a>
</p>
</div>

<div id="outline-container-org82dc6e6" class="outline-3">
<h3 id="org82dc6e6">gasche said</h3>
<div class="outline-text-3" id="text-org82dc6e6">
<p>
In the monster thread <a href="https://discuss.ocaml.org/t/what-are-the-biggest-reasons-newcomers-give-up-on-ocaml/10958/241">What are the biggest reasons newcomers give up on
OCaml?</a>, @patricoferris <a href="https://gist.github.com/patricoferris/58ac1247ad17d435e952ccb9a339450b">posted a
structured summary</a> and then said the following:
</p>

<blockquote>
<p>
Firstly, there’s actually a tremendous amount of excellent work happening (and that has happened) to improve the situation for
newcomers coming to OCaml, which is great and should be celebrated! However, it probably hasn’t been communicated effectively with
the broader community. [&#x2026;] Working out better ways to communicate that sustainably might be good.
</p>
</blockquote>

<p>
I can&rsquo;t speak for the whole tooling ecosystem for OCaml, but with my compiler contributor hat, I decided to play along and
communicate on the fact that, yes, people are constantly working to improve the usability of the language implementation.
</p>

<p>
Many changes to the language and standard library participate to usability, but if we restrict to the usability of the compiler
itself and its documentation, one way to see the action is to look at the <a href="https://github.com/ocaml/ocaml/blob/trunk/Changes">compiler
changelog</a>, in particular sections &ldquo;Manual and documentation&rdquo; and &ldquo;Compiler
user-interface and warnings&rdquo;.
</p>

<p>
Below are those two sections in the last two years of OCaml releases. (I trimmed some entries which I believe are less immediately
related to usability.)
</p>

<p>
<i>Editor’s note: please follow the archive link above to read the huge list that Gabriel collected.</i>
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Learning to write PPX extenders: some links</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/learning-to-write-ppx-extenders-some-links/11334/1">https://discuss.ocaml.org/t/learning-to-write-ppx-extenders-some-links/11334/1</a>
</p>
</div>

<div id="outline-container-orgda74feb" class="outline-3">
<h3 id="orgda74feb">Lukasz Stafiniak said</h3>
<div class="outline-text-3" id="text-orgda74feb">
<p>
Hi! This is just to signal boost a couple of PPX extension examples, for extenders specifically, that I found useful in my learning.
Sorry for not selecting others, I stumbled upon these.
</p>

<ul class="org-ul">
<li><a href="https://tarides.com/blog/2019-05-09-an-introduction-to-ocaml-ppx-ecosystem">Blog post by Nathan from Tarides</a> is to go-to tutorial that I only discovered today.</li>
<li><a href="https://github.com/bobatkey/ppx-monoid/blob/master/src/ppx_monoid.ml">ppx-monoid</a> is recursively translating the expression parts of interest while keeping others unchanged.</li>
<li><a href="https://github.com/Octachron/tensority/blob/master/ppx/ppx_tensority.ml">tensority</a> is reinterpreting operators globally.</li>
<li><a href="https://github.com/craff/pacomb/blob/master/ppx/ppx_pacomb.ml">pacomb</a> is an example of &ldquo;mappers&rdquo;, applying matching changes anywhere in the expression.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Stramon 0.3.0 - Process behavior monitoring utility based on strace</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-stramon-0-3-0-process-behavior-monitoring-utility-based-on-strace/11335/1">https://discuss.ocaml.org/t/ann-stramon-0-3-0-process-behavior-monitoring-utility-based-on-strace/11335/1</a>
</p>
</div>

<div id="outline-container-org2c2790d" class="outline-3">
<h3 id="org2c2790d">Darren announced</h3>
<div class="outline-text-3" id="text-org2c2790d">
<p>
I am happy to announce <a href="https://github.com/darrenldl/stramon">Stramon</a> 0.3.0, which now has pid and command tracking.
</p>

<p>
Stramon invokes strace underneath, analyzes the output and summarize the findings into a JSON file when the command finishes.
</p>

<p>
An example JSON created by running Firefox via Stramon can be seen
<a href="https://github.com/darrenldl/stramon/blob/main/examples/firefox.json">here</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-org12c9efa" class="outline-2">
<h2 id="org12c9efa">Old CWN</h2>
<div class="outline-text-2" id="text-org12c9efa">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org58cb050">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>