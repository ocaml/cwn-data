<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-09-24 Tue 14:33 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2019.09.17.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2019.10.01.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of September 17 to 24, 2019.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Interesting OCaml Articles</a></li>
<li><a href="#2">How does one print any type?</a></li>
<li><a href="#3">OCamlPro cheat-sheets updates</a></li>
<li><a href="#4">OCaml 4.09.0 released</a></li>
<li><a href="#5">OCaml Training 5-6 and 7-8 November 2019 at OCamlPro</a></li>
<li><a href="#6">Arch Linux installer written in OCaml</a></li>
<li><a href="#7">Online programming playground</a></li>
<li><a href="#8">A look back on OCaml 4.*</a></li>
<li><a href="#9">Multicore prerequisite patches appearing in released OCaml compilers now</a></li>
<li><a href="#org490c22d">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgb243e35" class="outline-2">
<h2 id="1">Interesting OCaml Articles</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/interesting-ocaml-articles/1867/54">https://discuss.ocaml.org/t/interesting-ocaml-articles/1867/54</a>
</p>
</div>

<div id="outline-container-org11f15e7" class="outline-3">
<h3 id="org11f15e7">Ryan Slade announced</h3>
<div class="outline-text-3" id="text-org11f15e7">
<p>
I thought this might be of interest since AFAIK the backend is implemented in OCaml:
<a href="https://darklang.com/">https://darklang.com/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org3b35302" class="outline-2">
<h2 id="2">How does one print any type?</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/how-does-one-print-any-type/4362/7">https://discuss.ocaml.org/t/how-does-one-print-any-type/4362/7</a>
</p>
</div>

<div id="outline-container-org7b0c53d" class="outline-3">
<h3 id="org7b0c53d">Continuing this thread, rixed said</h3>
<div class="outline-text-3" id="text-org7b0c53d">
<p>
As an additional piece of information, Batteries has to be mentioned.
Batteries is a superset of the standard library which, amongst other things, offers composable printers for every types, so that it is often not necessary to devise custom printers for your own types.
</p>

<p>
For instance, if you had this type:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">t</span> = (string, (float * int) list) <span style="color: #228b22;">Hashtbl.</span>t
</pre>
</div>

<p>
then a printer for this would be:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">print</span> <span style="color: #a0522d;">output_chan</span> <span style="color: #a0522d;">value</span> =
  <span style="color: #228b22;">Hashtbl.</span>print <span style="color: #228b22;">String.</span>print (<span style="color: #228b22;">List.</span>print (<span style="color: #000000; background-color: #ffffff;">Tuple2</span> <span style="color: #228b22;">Float.</span>print <span style="color: #228b22;">Int.</span>print)) output_chan value
</pre>
</div>

<p>
Basically the kind of code that the ppx_deriving extension would generate, with the advantage that you can more easily substitute part of it with some custom printers of your own.
</p>
</div>
</div>


<div id="outline-container-org110b5cf" class="outline-3">
<h3 id="org110b5cf">Marek Kubica also said</h3>
<div class="outline-text-3" id="text-org110b5cf">
<p>
If you just want composable printers, there is the <code>Fmt</code> library by @dbuenzli.
</p>
</div>
</div>
</div>




<div id="outline-container-org71455a8" class="outline-2">
<h2 id="3">OCamlPro cheat-sheets updates</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2019-09/msg00014.html">https://sympa.inria.fr/sympa/arc/caml-list/2019-09/msg00014.html</a>
</p>
</div>

<div id="outline-container-org019a7db" class="outline-3">
<h3 id="org019a7db">Thomas Blanc announced</h3>
<div class="outline-text-3" id="text-org019a7db">
<p>
It is our pleasure to announce the release of our up-to-date
cheat-sheets for the OCaml language and standard library. Our original
cheat-sheets were published in 2011, and as you know there has been
quite a few changes in the language, library and ecosystem overall. See
<a href="http://www.ocamlpro.com/2019/09/13/updated-cheat-sheets-ocaml-language-and-ocaml-standard-library/">http://www.ocamlpro.com/2019/09/13/updated-cheat-sheets-ocaml-language-and-ocaml-standard-library/</a>
for details.
</p>


<p>
Links:
</p>
<ul class="org-ul">
<li>OCaml language (pdf, 1 page): <a href="http://www.ocamlpro.com/wp-content/uploads/2019/09/ocaml-lang.pdf">http://www.ocamlpro.com/wp-content/uploads/2019/09/ocaml-lang.pdf</a></li>
<li>OCaml stdlib (pdf, 2 pages): <a href="http://www.ocamlpro.com/wp-content/uploads/2019/09/ocaml-stdlib.pdf">http://www.ocamlpro.com/wp-content/uploads/2019/09/ocaml-stdlib.pdf</a></li>
<li>Sources: <a href="https://github.com/OCamlPro/ocaml-cheat-sheets">https://github.com/OCamlPro/ocaml-cheat-sheets</a></li>
</ul>


<p>
Comments and contributions on Github are welcome. Special thanks to
Hannes Mehnert for his lightning fast bug-reporting and Fourchaux for
his keen spelling eye.
</p>


<p>
As you can see, our Github repository contains not-yet-updated
cheat-sheets. Stay tuned for coming updates! Obviously, our opam
cheat-sheet is already in writing by the greatest opam experts you can
find. We also wish to make sheets for Lwt, Core, Dune, ppx - any
suggestions are welcome.
</p>


<p>
Happy hacking!
</p>

<p>
Thomas Blanc <br />
OCamlPRO SAS <br />
PS: if you're curious about what we've been doing lately, check out our blogpotst: <br />
<a href="http://www.ocamlpro.com/2019/08/30/ocamlpros-compiler-team-work-update/">http://www.ocamlpro.com/2019/08/30/ocamlpros-compiler-team-work-update/</a> <br />
<a href="http://www.ocamlpro.com/2019/07/11/opam-2-0-5-release/">http://www.ocamlpro.com/2019/07/11/opam-2-0-5-release/</a> <br />
<a href="http://www.ocamlpro.com/2019/07/09/alt-ergo-participation-to-the-smt-comp-2019/">http://www.ocamlpro.com/2019/07/09/alt-ergo-participation-to-the-smt-comp-2019/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org7f0c901" class="outline-2">
<h2 id="4">OCaml 4.09.0 released</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-09-0-released/4384/1">https://discuss.ocaml.org/t/ocaml-4-09-0-released/4384/1</a>
</p>
</div>

<div id="outline-container-org9bf3899" class="outline-3">
<h3 id="org9bf3899">octachron announced</h3>
<div class="outline-text-3" id="text-org9bf3899">
<p>
The OCaml team have the pleasure of celebrating the birth of James Waddell Alexander II
by announcing the release of OCaml version 4.09.0 .
</p>

<p>
Some of the highlights of this new 4.09 release are:
</p>

<ul class="org-ul">
<li><p>
New optimisations, in particular for affine functions in matches, for instance
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">t</span> = <span style="color: #000000; background-color: #ffffff;">A</span> | <span style="color: #000000; background-color: #ffffff;">B</span> | <span style="color: #000000; background-color: #ffffff;">C</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">affine</span> = <span style="color: #a020f0;">function</span>
  | <span style="color: #000000; background-color: #ffffff;">A</span> -&gt; 4
  | <span style="color: #000000; background-color: #ffffff;">B</span> -&gt; 3
  | <span style="color: #000000; background-color: #ffffff;">C</span> -&gt; 2
</pre>
</div></li>
<li>The <code>graphics</code> library was moved out of the compiler distribution.</li>
<li>The <code>vmthread</code> library was removed.</li>
<li>Support for compiler plugins was removed.</li>
<li>Many bug fixes.</li>
</ul>

<p>
The full list of change can be found in the changelog below.
</p>


<p>
It is  available as a set of OPAM switches, and as a source download here:
</p>

<p>
<a href="https://caml.inria.fr/pub/distrib/ocaml-4.09/">https://caml.inria.fr/pub/distrib/ocaml-4.09/</a>
</p>

<p>
Happy hacking.
</p>
</div>

<div id="outline-container-orgc1b4212" class="outline-4">
<h4 id="orgc1b4212">Changes</h4>
<div class="outline-text-4" id="text-orgc1b4212">
<p>
This is the <a href="http://caml.inria.fr/pub/distrib/ocaml-4.09/notes/Changes">changelog</a>.
</p>
</div>


<ul class="org-ul">
<li><a id="org5899bf5"></a>Runtime system:<br />
<div class="outline-text-5" id="text-org5899bf5">
<ul class="org-ul">
<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/1725">#1725</a>, <a href="https://github.com/ocaml/ocaml/issues/2279">#2279</a>: Deprecate Obj.set_tag and Obj.truncate
(Stephen Dolan, review by Gabriel Scherer, Damien Doligez and Xavier Leroy)</li>

<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2240">#2240</a>: Constify "identifier" in struct custom_operations
(Cedric Cellier, review by Xavier Leroy)</li>

<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2293">#2293</a>: Constify "caml_named_value"
(Stephen Dolan, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8787">#8787</a>, <a href="https://github.com/ocaml/ocaml/issues/8788">#8788</a>: avoid integer overflow in caml_output_value_to_bytes
(Jeremy Yallop, report by Marcello Seri)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2075">#2075</a>, <a href="https://github.com/ocaml/ocaml/issues/7729">#7729</a>: rename _T macro used to support Unicode in the (Windows) runtime
in order to avoid compiler warning
(Nicolás Ojeda Bär, review by Gabriel Scherer and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2250">#2250</a>: Remove extra integer sign-extension in compare functions
(Stefan Muenzel, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8607">#8607</a>: Remove obsolete macros for pre-2002 MSVC support
(Stephen Dolan, review by Nicolás Ojeda Bär and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8656">#8656</a>: Fix a bug in [caml_modify_generational_global_root]
(Jacques-Henri Jourdan, review by Gabriel Scherer)</li>
</ul>
</div>
</li>

<li><a id="org6a16282"></a>Standard library:<br />
<div class="outline-text-5" id="text-org6a16282">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/2262">#2262</a>: take precision (.&lt;n&gt;) and flags ('+' and ' ') into account
in printf %F
(Pierre Roux, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/6148">#6148</a>, <a href="https://github.com/ocaml/ocaml/issues/8596">#8596</a>: optimize some buffer operations
(Damien Doligez, reports by John Whitington and Alain Frisch,
 review by Jeremy Yallop and Gabriel Scherer)</li>
</ul>
</div>
</li>

<li><a id="org623802a"></a>Other libraries:<br />
<div class="outline-text-5" id="text-org623802a">
<ul class="org-ul">
<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2318">#2318</a>: Delete the graphics library. This library is now available
as a separate "graphics" package in opam. Its new home is:
<a href="https://github.com/ocaml/graphics">https://github.com/ocaml/graphics</a>
(Jérémie Dimino, review by Nicolas Ojeda Bar, Xavier Leroy and
 Sébastien Hinderer)</li>

<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2289">#2289</a>: Delete the vmthreads library. This library was deprecated in 4.08.0.
(Jérémie Dimino)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2112">#2112</a>: Fix Thread.yield unfairness with busy threads yielding to each
other.
(Andrew Hunter, review by Jacques-Henri Jourdan, Spiros Eliopoulos, Stephen
Weeks, &amp; Mark Shinwell)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7903">#7903</a>, <a href="https://github.com/ocaml/ocaml/issues/2306">#2306</a>: Make Thread.delay interruptible by signals again
(Xavier Leroy, review by Jacques-Henri Jourdan and Edwin Török)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2248">#2248</a>: Unix alloc_sockaddr: Fix read of uninitialized memory for an
unbound Unix socket. Add support for receiving abstract (Linux) socket paths.
(Tim Cuthbertson, review by Sébastien Hinderer and Jérémie Dimino)</li>
</ul>
</div>
</li>

<li><a id="orgf3910bf"></a>Compiler user-interface and warnings:<br />
<div class="outline-text-5" id="text-orgf3910bf">
<ul class="org-ul">
<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2276">#2276</a>: Remove support for compiler plugins and hooks (also adds
[Dynlink.unsafe_get_global_value])
(Mark Shinwell, Xavier Clerc, review by Nicolás Ojeda Bär,
Florian Angeletti, David Allsopp and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2301">#2301</a>: Hint on type error on int literal
(Jules Aguillon, review by Nicolás Ojeda Bär , Florian Angeletti,
Gabriel Scherer and Armaël Guéneau)</li>

<li>(<b>breaking change</b>) <a href="https://github.com/ocaml/ocaml/issues/2314">#2314</a>: Remove support for gprof profiling.
(Mark Shinwell, review by Xavier Clerc and Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2190">#2190</a>: fix pretty printing (using Pprintast) of "lazy &#x2026;" patterns and
"fun (type t) -&gt; &#x2026;" expressions.
(Nicolás Ojeda Bär, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2277">#2277</a>: Use newtype names as type variable names
The inferred type of (fun (type t) (x : t) -&gt; x)
is now printed as ('t -&gt; 't) rather than ('a -&gt; 'a).
(Matthew Ryan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2309">#2309</a>: New options -with-runtime and -without-runtime in ocamlopt/ocamlc
that control the inclusion of the runtime system in the generated program.
(Lucas Pluvinage, review by Daniel Bünzli, Damien Doligez, David Allsopp
 and Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/3819">#3819</a>, <a href="https://github.com/ocaml/ocaml/issues/8546">#8546</a> more explanations and tests for illegal permutation
(Florian Angeletti, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8537">#8537</a>: fix the -runtime-variant option for bytecode
(Damien Doligez, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8541">#8541</a>: Correctly print multi-lines locations
(Louis Roché, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8579">#8579</a>: Better error message for private constructors
of an extensible variant type
(Guillaume Bury, review by many fine eyes)</li>
</ul>
</div>
</li>

<li><a id="org9a494a1"></a>Code generation and optimizations:<br />
<div class="outline-text-5" id="text-org9a494a1">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/2278">#2278</a>: Remove native code generation support for 32-bit Intel macOS,
iOS and other Darwin targets.
(Mark Shinwell, review by Nicolas Ojeda Bar and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8547">#8547</a>: Optimize matches that are an affine function of the input.
(Stefan Muenzel, review by Alain Frisch, Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/1904">#1904</a>, <a href="https://github.com/ocaml/ocaml/issues/7931">#7931</a>: Add FreeBSD/aarch64 support
(Greg V, review by Sébastien Hinderer, Stephen Dolan, Damien Doligez
 and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8507">#8507</a>: Shorten symbol names of anonymous functions in Flambda mode
(the directory portions are now hidden)
(Mark Shinwell, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8681">#8681</a>, <a href="https://github.com/ocaml/ocaml/issues/8699">#8699</a>, <a href="https://github.com/ocaml/ocaml/issues/8712">#8712</a>: Fix code generation with nested let rec of functions.
(Stephen Dolan, Leo White, Gabriel Scherer and Pierre Chambart,
 review by Gabriel Scherer, reports by Alexey Solovyev and Jonathan French)</li>
</ul>
</div>
</li>

<li><a id="org23e50d3"></a>Manual and documentation:<br />
<div class="outline-text-5" id="text-org23e50d3">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/7584">#7584</a>, <a href="https://github.com/ocaml/ocaml/issues/8538">#8538</a>: Document .cmt* files in the "overview" of ocaml{c,opt}
(Oxana Kostikova, rewiew by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8757">#8757</a>: Rename Pervasives to Stdlib in core library documentation.
(Ian Zimmerman, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8515">#8515</a>: manual, precise constraints on reexported types
(Florian Angeletti, review by Gabriel Scherer)</li>
</ul>
</div>
</li>

<li><a id="org4616378"></a>Tools:<br />
<div class="outline-text-5" id="text-org4616378">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/2221">#2221</a>: ocamldep will now correctly allow a .ml file in an include directory
that appears first in the search order to shadow a .mli appearing in a later
include directory.
(Nicolás Ojeda Bär, review by Florian Angeletti)</li>
</ul>
</div>
</li>

<li><a id="org7030c44"></a>Internal/compiler-libs changes:<br />
<div class="outline-text-5" id="text-org7030c44">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/1579">#1579</a>: Add a separate types for clambda primitives
(Pierre Chambart, review by Vincent Laviron and Mark Shinwell)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/1965">#1965</a>: remove loop constructors in Cmm and Mach
(Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/1973">#1973</a>: fix compilation of catches with multiple handlers
(Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2228">#2228</a>, <a href="https://github.com/ocaml/ocaml/issues/8545">#8545</a>: refactoring the handling of .cmi files
by moving the logic from Env to a new module Persistent_env
(Gabriel Scherer, review by Jérémie Dimino and Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2229">#2229</a>: Env: remove prefix_idents cache
(Thomas Refis, review by Frédéric Bour and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2237">#2237</a>, <a href="https://github.com/ocaml/ocaml/issues/8582">#8582</a>: Reorder linearisation of Trywith to avoid a call instruction
(Vincent Laviron and Greta Yorsh, additional review by Mark Shinwell;
fix in <a href="https://github.com/ocaml/ocaml/issues/8582">#8582</a> by Mark Shinwell, Xavier Leroy and Anil Madhavapeddy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2265">#2265</a>: Add bytecomp/opcodes.mli
(Mark Shinwell, review by Nicolas Ojeda Bar)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2268">#2268</a>: Improve packing mechanism used for building compilerlibs modules
into the Dynlink libraries
(Mark Shinwell, Stephen Dolan, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2280">#2280</a>: Don't make more Clambda constants after starting Cmmgen
(Mark Shinwell, review by Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2281">#2281</a>: Move some middle-end files around
(Mark Shinwell, review by Pierre Chambart and Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2283">#2283</a>: Add [is_prefix] and [find_and_chop_longest_common_prefix] to
[Misc.Stdlib.List]
(Mark Shinwell, review by Alain Frisch and Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2284">#2284</a>: Add various utility functions to [Misc] and remove functions
from [Misc.Stdlib.Option] that are now in [Stdlib.Option]
(Mark Shinwell, review by Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2286">#2286</a>: Functorise [Consistbl]
(Mark Shinwell, review by Gabriel Radanne)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2291">#2291</a>: Add [Compute_ranges] pass
(Mark Shinwell, review by Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2292">#2292</a>: Add [Proc.frame_required] and [Proc.prologue_required].
Move tail recursion label creation to [Linearize].  Correctly position
[Lprologue] relative to [Iname_for_debugger] operations.
(Mark Shinwell, review by Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2308">#2308</a>: More debugging information on [Cmm] terms
(Mark Shinwell, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7878">#7878</a>, <a href="https://github.com/ocaml/ocaml/issues/8542">#8542</a>: Replaced TypedtreeIter with tast_iterator
(Isaac "Izzy" Avram, review by Gabriel Scherer and Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8598">#8598</a>: Replace "not is_nonexpansive" by "maybe_expansive".
(Thomas Refis, review by David Allsopp, Florian Angeletti, Gabriel Radanne,
 Gabriel Scherer and Xavier Leroy)</li>
</ul>
</div>
</li>

<li><a id="org1dc1925"></a>Compiler distribution build system:<br />
<div class="outline-text-5" id="text-org1dc1925">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/2267">#2267</a>: merge generation of header programs, also fixing parallel build on
Cygwin.
(David Allsopp, review by Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8514">#8514</a>: Use boot/ocamlc.opt for building, if available.
(Stephen Dolan, review by Gabriel Scherer)</li>
</ul>
</div>
</li>

<li><a id="orgc2c134d"></a>Bug fixes:<br />
<div class="outline-text-5" id="text-orgc2c134d">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/8864">#8864</a>, <a href="https://github.com/ocaml/ocaml/issues/8865">#8865</a>: Fix native compilation of left shift by (word_size - 1)
(Vincent Laviron, report by Murilo Giacometti Rocha, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2296">#2296</a>: Fix parsing of hexadecimal floats with underscores in the exponent.
(Hugo Heuzard and Xavier Leroy, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8800">#8800</a>: Fix soundness bug in extension constructor inclusion
(Leo White, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8848">#8848</a>: Fix x86 stack probe CFI information in caml_c_call and
caml_call_gc
(Tom Kelly, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7156">#7156</a>, <a href="https://github.com/ocaml/ocaml/issues/8594">#8594</a>: make top level use custom printers if they are available
(Andrew Litteken, report by Martin Jambon, review by Nicolás Ojeda Bär,
 Thomas Refis, Armaël Guéneau, Gabriel Scherer, David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/3249">#3249</a>: ocamlmklib should reject .cmxa files
(Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7937">#7937</a>, <a href="https://github.com/ocaml/ocaml/issues/2287">#2287</a>: fix uncaught Unify exception when looking for type
declaration
(Florian Angeletti, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8610">#8610</a>, <a href="https://github.com/ocaml/ocaml/issues/8613">#8613</a>: toplevel printing, consistent deduplicated name for types
(Florian Angeletti, review by Thomas Refis and Gabriel Scherer,
 reported by Xavier Clerc)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8635">#8635</a>, <a href="https://github.com/ocaml/ocaml/issues/8636">#8636</a>: Fix a bad side-effect of the -allow-approx option of
ocamldep. It used to turn some errors into successes
(Jérémie Dimino)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8701">#8701</a>, <a href="https://github.com/ocaml/ocaml/issues/8725">#8725</a>: Variance of constrained parameters causes principality issues
(Jacques Garrigue, report by Leo White, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8777">#8777</a>(partial): fix position information in some polymorphic variant
error messages about missing tags
(Florian Angeletti, review by Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8779">#8779</a>, more cautious variance computation to avoid missing cmis
(Florian Angeletti, report by Antonio Nuno Monteiro, review by Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8810">#8810</a>: Env.lookup_module: don't allow creating loops
(Thomas Refis, report by Leo White, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8862">#8862</a>, <a href="https://github.com/ocaml/ocaml/issues/8871">#8871</a>: subst: preserve scopes
(Thomas Refis, report by Leo White, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8921">#8921</a>, <a href="https://github.com/ocaml/ocaml/issues/8924">#8924</a>: Fix stack overflow with Flambda
(Vincent Laviron, review by Pierre Chambart and Leo White,
 report by Aleksandr Kuzmenko)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8944">#8944</a>: Fix "open struct .. end" on clambda backend
(Thomas Refis, review by Leo White, report by Damon Wang and Mark Shinwell)</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgfacfab2" class="outline-2">
<h2 id="5">OCaml Training 5-6 and 7-8 November 2019 at OCamlPro</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2019-09/msg00020.html">https://sympa.inria.fr/sympa/arc/caml-list/2019-09/msg00020.html</a>
</p>
</div>

<div id="outline-container-org340962c" class="outline-3">
<h3 id="org340962c">Muriel SHAN SEI FAN announced</h3>
<div class="outline-text-3" id="text-org340962c">
<p>
In our endeavour to encourage professional programmers to understand and
use OCaml, OCamlPro will be giving 2 training sessions, in French, in
our Paris offices:
</p>
<ol class="org-ol">
<li>OCaml Beginner course for professional programmers (5-6 Nov)</li>
<li>OCaml Expertise (7-8 Nov).</li>
</ol>

<p>
The "Expert" OCaml course is for already experienced OCaml programmers
to better understand advanced type system possibilities (objects,
GADTs), discover GC internals, write "compiler-optimizable" code.
These sessions are also an opportunity to come discuss with our OPAM &amp;
Flambda lead developers and core contributors in Paris.
Training in English can also be organized, on-demand.
Do not hesitate pass the word.
</p>

<p>
Links:
</p>
<ul class="org-ul">
<li><a href="http://www.ocamlpro.com/training-ocamlpro/">http://www.ocamlpro.com/training-ocamlpro/</a></li>
<li><a href="http://www.ocamlpro.com/course-ocaml-development/">http://www.ocamlpro.com/course-ocaml-development/</a></li>
<li><a href="http://www.ocamlpro.com/course-ocaml-expert/">http://www.ocamlpro.com/course-ocaml-expert/</a></li>
<li>Register link: <a href="http://www.ocamlpro.com/forms/preinscriptions-formation-ocaml/">http://www.ocamlpro.com/forms/preinscriptions-formation-ocaml/</a></li>
</ul>

<p>
Cheers,
Muriel<br />
PS: Note that this complements the excellent OCaml MOOC from Université
Paris-Diderot and the learn-OCaml platform of the OCaml Software Foundation.
</p>
</div>
</div>
</div>




<div id="outline-container-org46dc837" class="outline-2">
<h2 id="6">Arch Linux installer written in OCaml</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/arch-linux-installer-written-in-ocaml/4388/1">https://discuss.ocaml.org/t/arch-linux-installer-written-in-ocaml/4388/1</a>
</p>
</div>

<div id="outline-container-orgb4117e7" class="outline-3">
<h3 id="orgb4117e7">Darren announced</h3>
<div class="outline-text-3" id="text-orgb4117e7">
<p>
I'm sharing the WIP <a href="https://github.com/darrenldl/linux-laptop-salt-hard">project</a> on the off chance it's interesting/useful to someone.
</p>
</div>

<div id="outline-container-orgadac8ae" class="outline-4">
<h4 id="orgadac8ae">What</h4>
<div class="outline-text-4" id="text-orgadac8ae">
<p>
This installer written in OCaml allows installing Arch Linux with optional disk encryption (where all key files placements, boot parameters adjustment etc are adjusted for you). The installer aims to be somewhat smart and hassle free to use.
</p>

<p>
Right now
</p>
<ul class="org-ul">
<li>It recognises whehter your Arch Linux live CD is running in BIOS or EFI mode, and adjusts prompts/partitioning accordingly (not technically difficult at all, but just so you know it does that)</li>
<li>Handles optional disk encryption, with encrypted boot (haven't added code for toggling boot partition encryption yet)</li>
<li>Allows two disk layout schemes atm
<ol class="org-ol">
<li>use a single disk, installer does partitioning for you</li>
<li>you tell installer partitions for <code>/</code>, <code>/boot</code> and <code>/efi</code> if in EFO mode, and installer use those info instead</li>
</ol></li>
</ul>

<p>
WIP
</p>
<ul class="org-ul">
<li>Installation of SaltStack files (for package management) and other helper scripts
<ul class="org-ul">
<li>Section below gives more context on these things</li>
</ul></li>
</ul>

<p>
TODO
</p>
<ul class="org-ul">
<li>Resumable installation (add logging etc)</li>
<li>Static config file support (so installation is fully automated)</li>
<li>Add disk layout scheme where it's system partition + USB key</li>
<li>Whatever is missing from the original script</li>
</ul>
</div>
</div>

<div id="outline-container-orgbdf1b4e" class="outline-4">
<h4 id="orgbdf1b4e">Context</h4>
<div class="outline-text-4" id="text-orgbdf1b4e">
<p>
This installer is essentially a rewrite of the install script I've been using for a while.
</p>

<p>
I especially needed an semi-automated solution to installing Arch Linux as I was using a encrypted USB key + encrypted system partition setup, where manual installation is error prone and time consuming.
</p>

<p>
The install script was thus born, written in bash, accompanied by salt files for package management, and various helper scripts for easier handling of the USB key in day-to-day operations.
</p>

<p>
This is all fine and dandy until I wanted to have different disk layout, and pick whether I want encryption or not. Bash script is not terribly good for these somewhat decision/logic heavy tasks for obvious reasons.
</p>

<p>
And so rewrite in OCaml began, and stuck with OCaml even after considering various other choices (e.g. elvish, xonsh, fish, python, racket).
</p>
</div>
</div>

<div id="outline-container-orgf6cbd23" class="outline-4">
<h4 id="orgf6cbd23">Intention</h4>
<div class="outline-text-4" id="text-orgf6cbd23">
<p>
The code aims to facilitate customisation (make a copy and adjust things your way) by providing a sane starting point, but does not aim to provide a proper "library" type of code base due to the somewhat volatile nature of Arch, and assumptions made may not be directly portable to other distros.
</p>
</div>
</div>

<div id="outline-container-org619bfb2" class="outline-4">
<h4 id="org619bfb2">Navigation</h4>
<div class="outline-text-4" id="text-org619bfb2">
<ul class="org-ul">
<li><code>scripts/</code>
<ul class="org-ul">
<li><a href="https://raw.githubusercontent.com/darrenldl/linux-laptop-salt-hard/master/scripts/setup.sh"><code>setup.sh</code></a> is the original bash installer script, which this installer is based on</li>
<li>remaining files are helpers, and misc scripts</li>
</ul></li>
<li><code>saltstack/</code>
<ul class="org-ul">
<li>SaltStack files for package management</li>
</ul></li>
<li><code>installer_ml/</code> contains the OCaml installer code
<ul class="org-ul">
<li><code>src/</code>
<ul class="org-ul">
<li><a href="https://raw.githubusercontent.com/darrenldl/linux-laptop-salt-hard/master/installer_ml/src/installer.ml"><code>installer.ml</code></a> somewhat show cases the intended high level use, the install workflow is specified here</li>
<li><a href="https://raw.githubusercontent.com/darrenldl/linux-laptop-salt-hard/master/installer_ml/src/disk_layout.ml"><code>disk_layout.ml</code></a> handles formatting, LUKS setup, mounting, unmounting of partitions etc</li>
<li><a href="https://raw.githubusercontent.com/darrenldl/linux-laptop-salt-hard/master/installer_ml/src/task_book.ml"><code>task_book.ml</code></a> facilitates high level task registration, used in <code>installer.ml</code></li>
<li>remainders are helper code largely</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf057961" class="outline-4">
<h4 id="orgf057961">TL;DR</h4>
<div class="outline-text-4" id="text-orgf057961">
<p>
I wrote a Arch installer in OCaml, thought it's pretty neat.
</p>
</div>
</div>
</div>


<div id="outline-container-orgf233203" class="outline-3">
<h3 id="orgf233203">gasche asked and Darren replied</h3>
<div class="outline-text-3" id="text-orgf233203">
<p>
&gt; Sounds very cool!
</p>

<p>
Thanks!
</p>

<p>
&gt; Do you think there is potential for adoption within the Arch community?
</p>

<p>
Yes, but definitely not widespread, there are two main reasons.
</p>
</div>

<div id="outline-container-orgd1b022f" class="outline-4">
<h4 id="orgd1b022f">For people who like to build their system programmatically</h4>
<div class="outline-text-4" id="text-orgd1b022f">
<p>
The language choice is very niche to begin with -  OCaml is definitely not a popular choice (if is one to begin with) for system administration.
</p>

<p>
For initial bootstrapping, most other langs are better choices: rich stdlib is desirable for the initial phase, good handling of interprocess communication, easy access to regex (maybe not as efficient efficient), easy text file manipulation (a lot of formats supported in stdlib or ecosystem etc).
</p>

<p>
So overall Python, Ruby, Racket are better for this phase. Especially since there are system administration frameworks in Python (e.g. <a href="https://www.fabfile.org/">Fabric</a>) and in Ruby (the name escaped me). I stuck with OCaml since my brain can't process more than a hundred lines of code in dynamically typed languages.
</p>

<p>
So the targeted audience is quite limited - one that knows OCaml, the distro's native installer doesn't work well enough and thus interested in building their own installer, and does not already have their favourite installer.
</p>
</div>
</div>

<div id="outline-container-orgf6994bd" class="outline-4">
<h4 id="orgf6994bd">Arch overall promotes customisation</h4>
<div class="outline-text-4" id="text-orgf6994bd">
<p>
So most people have their own installers. This is especially true when Arch deprecated the official installer some years ago.
</p>

<p>
So sticking to mine as is probably doesn't make too much sense to most people. The intention was definitely allowing other people to use it as a template for making their own OCaml installer to begin with anyway.
</p>

<p>
&gt; What are other people using, and could you convince them to migrate to your installer (and help maintain it)?
</p>

<p>
Some of the reasons mentioned in above section carry over.
</p>

<p>
Due to Arch's philosophy on customisation, actively convincing others to use my installer would be close to convincing someone to use your favourite editor and abandon theirs.
</p>

<p>
In any case, I am the primary beneficiary I had in mind, so lack of adoption would not prevent me from maintaining it. Being able to reinstall your Linux willy-nilly with full disk encryption, and giving you a fresh but essentially identical copy of your current install (via package management + dotfiles management), that's gold.
</p>

<p>
<b>EDIT</b>: One extra reason is maybe just to demonstrate writing one in OCaml is feasible, as it wasn't quite obvious what the scope of work was when I first started writing.
</p>
</div>
</div>
</div>


<div id="outline-container-orgc2bee5d" class="outline-3">
<h3 id="orgc2bee5d">Anton Kochkov said</h3>
<div class="outline-text-3" id="text-orgc2bee5d">
<p>
You might want to check also the <a href="https://0install.net/">0install</a> which is also was ported to OCaml from Python, see <a href="https://github.com/0install/0install">their GitHub repository</a>. Though judging by their repositories activity, they seem abandoned OCaml version and thrown all resources to the C#/.NET version in <a href="https://github.com/0install/0install-dotnet">0install-dotnet</a>.
</p>
</div>
</div>


<div id="outline-container-org3ea998a" class="outline-3">
<h3 id="org3ea998a">Thomas Leonard replied</h3>
<div class="outline-text-3" id="text-org3ea998a">
<p>
&gt; Though judging by their repositories activity, they seem abandoned OCaml version and thrown all resources to the C#/.NET version
</p>

<p>
Well, this is the problem with OCaml. When 0install was written in Python, I did frequent bug-fix releases. Now it's in OCaml, there's no need to do that. e.g. there were 8 Python releases in 2012 vs 1 OCaml release last year. I prefer it that way, but it's bad for the project's metrics.
</p>

<p>
There is no directing of resources. Bastian Eicher did the C# version before and is still doing it now (though more of it is now hosted in the main github org and we just merged the two sets of documentation to make <a href="http://docs.0install.net/">http://docs.0install.net/</a>).
</p>
</div>
</div>
</div>




<div id="outline-container-org9eeef23" class="outline-2">
<h2 id="7">Online programming playground</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/online-programming-playground/4391/1">https://discuss.ocaml.org/t/online-programming-playground/4391/1</a>
</p>
</div>

<div id="outline-container-org4a204fa" class="outline-3">
<h3 id="org4a204fa">Vishal Rana announced</h3>
<div class="outline-text-3" id="text-org4a204fa">
<p>
I wanted to shared <a href="https://code.labstack.com/ocaml">https://code.labstack.com/ocaml</a>, an online OCaml programming playground. I hope you will find it useful.
</p>
</div>
</div>
</div>




<div id="outline-container-org0311fbc" class="outline-2">
<h2 id="8">A look back on OCaml 4.*</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/a-look-back-on-ocaml-4/4397/1">https://discuss.ocaml.org/t/a-look-back-on-ocaml-4/4397/1</a>
</p>
</div>

<div id="outline-container-org92a9ca8" class="outline-3">
<h3 id="org92a9ca8">Thomas Blanc announced</h3>
<div class="outline-text-3" id="text-org92a9ca8">
<p>
To celebrate the 0th anniversary of the 4.09.0 release, OCamlPro decided to look back at how far the language and standard library got since 3.12.
</p>

<p>
If you want to feel old and nostalgic, or if you want see what your elders had to put up with before, feel free to check out <a href="http://www.ocamlpro.com/2019/09/20/a-look-back-on-ocaml/">our blog</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-orgcc8703b" class="outline-2">
<h2 id="9">Multicore prerequisite patches appearing in released OCaml compilers now</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/multicore-prerequisite-patches-appearing-in-released-ocaml-compilers-now/4408/1">https://discuss.ocaml.org/t/multicore-prerequisite-patches-appearing-in-released-ocaml-compilers-now/4408/1</a>
</p>
</div>

<div id="outline-container-orgf0a9e7e" class="outline-3">
<h3 id="orgf0a9e7e">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-orgf0a9e7e">
<p>
The release of OCaml 4.09.0 is particularly significant for us at OCaml Labs, as it represents a phase shift in our development efforts towards integrating multicore parallelism into the language.  For the past few years, we have been <a href="https://github.com/ocaml-multicore/ocaml-multicore/wiki">implementing multicore as a branch</a> based off released versions of the compiler.  We finished rebasing it to <a href="https://twitter.com/kc_srk/status/982165248206491648">OCaml 4.06.1</a> in April and since then have been working on upstreaming a series of incremental changes to OCaml itself.
</p>

<p>
OCaml 4.09.0 is the first such release in which multicore patches are appearing in released versions of the compiler.  This is <span class="underline">not</span> the full multicore feature set, but rather the prerequisites to introducing changes required towards introducing parallelism into the runtime. You can now expect to see a regular set of incremental changes towards multicore in every release of OCaml as we ramp up our upstreaming efforts.
</p>

<p>
One decision we have taken recently is to spend our time on upstreaming changes in favour of further rebases to more recently versions of the compiler.  If someone does have a pressing need for a rebase to OCaml 4.08 or 4.09, then please get in touch with me &#x2013; but bear in mind that it's a significant amount of work and so will need to be justified with a usecase.
</p>

<p>
In the meanwhile, here's a summary of what some of those patches are, and what to expect in future releases:
</p>
</div>

<div id="outline-container-org8b53edb" class="outline-4">
<h4 id="org8b53edb">4.09.0</h4>
<div class="outline-text-4" id="text-org8b53edb">
<ul class="org-ul">
<li>In the upcoming multicore GC, object headers (tags and lengths) are immutable due to multiple threads scanning the heap simultaneously; any mutations could violate heap invariants in another thread and cause corruption.  Therefore, <code>Obj.truncate</code> (<a href="https://github.com/ocaml/ocaml/pull/2279">#2279</a>) and <code>Obj.set_tag</code> (<a href="https://github.com/ocaml/ocaml/pull/1725">#1725</a>) have now been deprecated, and all uses removed from the standard library.</li>

<li>Values can be passed from OCaml to C by registering them under a known name using the <code>Callback.register</code> function.  They can later be retrieved from C using <code>caml_named_value</code>, which returns a <code>value*</code> that can then later be dereferenced.  OCaml 4.09.0 modifies the C return type to <code>const value*</code> to indicate that the C code cannot use the pointer that is returned to mutate the value that is registered (<a href="https://github.com/ocaml/ocaml/pull/2293">#2293</a>).  The ability to mutate a value using the raw pointer returned by <code>caml_named_value</code> is incompatible with the upcoming multicore GC, and rarely (never?) used in existing single-core OCaml code.</li>
</ul>
</div>
</div>


<div id="outline-container-orgddeecea" class="outline-4">
<h4 id="orgddeecea">Ongoing for 4.10.0~dev</h4>
<div class="outline-text-4" id="text-orgddeecea">
<p>
This is the subsequent release that is branching imminently now that OCaml <a href="https://discuss.ocaml.org/t/ocaml-4-09-0-released/4384">4.09.0 has been released</a>.
</p>

<ul class="org-ul">
<li>Variables that are global in the OCaml runtime need to be duplicated per-domain in multicore, since each parallel thread of execution maintains its own table of domain local variables. OCaml 4.09.0 moves all such global C variables into a "domain state" table (<a href="https://github.com/ocaml/ocaml/pull/8713">#8713</a>).  While the change does not introduce any API changes, it significantly alters code generation by reserving a register that was previously used as the exception pointer in every CPU backend for quickly accessing the domain state table.  It is therefore a syntactically heavy change, but shouldn't modify the semantics of your code.  If you do notice any oddnesses when testing OCaml 4.10~dev when it is released as a beta, please do report a reproduction case upstream.</li>

<li>(bonus change) While emerging from deep in a rabbit hole from fixing thread stack overflow detection and reentrant marshalling by ensuring that allocation functions do not trigger OCaml callbacks when invoked from C, it was discovered that major GC hooks could also interact with the GC heap.  This is now forbidden (<a href="https://github.com/ocaml/ocaml/pull/8711">#8711</a>) in OCaml 4.09.0.  There was no code found in the wild that did not already conform to this restriction, and it is generally safer this way for the multicore GC as well.</li>
</ul>
</div>
</div>

<div id="outline-container-org94761ac" class="outline-4">
<h4 id="org94761ac">Ongoing for 4.11.0~dev</h4>
<div class="outline-text-4" id="text-org94761ac">
<p>
As 4.10 is about to be branched, we are working away on the following next set of features to push upstream into OCaml 4.11:
</p>

<ul class="org-ul">
<li>Better safe points (<a href="https://github.com/ocaml-multicore/ocaml-multicore/issues/187">#187</a>)</li>
<li>Tracing and deprecating the instrumented runtime</li>
<li>Converging on the representation of closures in bytecode and native code.</li>
<li>Modifying GC colors to suit multicore.</li>
</ul>

<p>
As always, these chunks of ongoing work are subject to change as the technical design process is quite iterative and dependent on benchmarking results, but are hopefully useful for you to know!
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org490c22d" class="outline-2">
<h2 id="org490c22d">Old CWN</h2>
<div class="outline-text-2" id="text-org490c22d">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
