<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>OCaml Weekly News</title>
  </head>
  <body>
    <a href="2016.10.18.html">Previous week</a> <a href="index.html">Up</a> <a href="2016.11.08.html">Next week</a><p>Hello</p><p>Here is the latest OCaml Weekly News, for the week of October 18 to November 01, 2016.</p><p>Sorry for the hiatus, I was away for a week with no internet access.</p><ol><li><a href="#1">Docker is hiring in Paris</a></li><li><a href="#2">ocamlbuild 0.9.3</a></li><li><a href="#3">Functor signature "inheritance"</a></li><li><a href="#4">Lwt 2.6.0 – monadic concurrency library</a></li><li><a href="#5">omake-0.10.1</a></li><li><a href="#6">batteries 2.5.3 -- compatible with OCaml 4.04</a></li><li><a href="#7">Mandelbrot fractal</a></li><li><a href="#8">Other OCaml News</a></li></ol><a name="1" /><hr /><h3>Docker is hiring in Paris</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00090.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00090.html</a></p><i>Thomas Gazagnaire announced:</i><br /><pre>
Docker is the world's leading software containerization platform, and lets
developers package up their applications into a standardized unit for software
development. The code behind Docker is open-source, and consists of code written
in Go and Python (for the server side), and Go, Swift, C#, C and OCaml (for the
desktop side). Docker for Mac and Windows [1] ship some heavy use of OCaml in
the networking, storage and virtualization subsystems, primarily from the
MirageOS project. Much of this OCaml code is open-source under an ISC/MIT
license and available via OPAM and directly on GitHub [2,3]

Docker is currently hiring for our Paris office [4], primarily for a Core
Software Engineer to work on the UI components of Docker for Mac and Windows
(which has seen very rapid uptake among the Docker community). We are searching
for developers who have a good knowledge of Swift, Objective-C and C#, and a
desire to interface with low-level components written in OCaml and C (the
hypervisor, networking and storage components). We particularly encourage
applications from under-represented groups in technology -- please feel free to
contact me and/or Anil Madhapeddy directly if you have any queries.

[1] <a href="http://www.slideshare.net/AnilMadhavapeddy/unikernels-rise-of-the-library-hypervisor">http://www.slideshare.net/AnilMadhavapeddy/unikernels-rise-of-the-library-hypervisor</a>
[2] <a href="https://github.com/docker/datakit">https://github.com/docker/datakit</a>
[3] <a href="https://github.com/docker/vpnkit">https://github.com/docker/vpnkit</a>
[4]: <a href="https://www.docker.com/careers/engineering?job-id=274352">https://www.docker.com/careers/engineering?job-id=274352</a>
      </pre><a name="2" /><hr /><h3>ocamlbuild 0.9.3</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00109.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00109.html</a></p><i>Gabriel Scherer announced:</i><br /><pre>
## ocamlbuild 0.9.3

ocamlbuild 0.9.3 is a minor release that introduces several features
contributed or requested by users.

- #39: new ".o -&gt; .clib" rule to build libraries out of single C stubs
  (Gabriel Scherer, request by whitequark)

- #78: Integrate the in-progress OCamlbuild manual, previously located at
    <a href="https://github.com/gasche/manual-ocamlbuild">https://github.com/gasche/manual-ocamlbuild</a>
  into the ocamlbuild repository, in the manual/ subdirectory.
  The most current version of the manual can thus be accessed at
    <a href="https://github.com/ocaml/ocamlbuild/tree/master/manual/manual.adoc">https://github.com/ocaml/ocamlbuild/tree/master/manual/manual.adoc</a>
  (Gabriel Scherer)

- #93: added "noassert" and "unsafe" flag for corresponding ocaml{c,opt} options
  (François Pottier)

- #94: added "cc", "cclib", and "ccopt" flags which correspond to the
  respective ocaml{c,opt} options
  (Rudi Grinberg)

- PR#7295: add infer_interface support for various type-checking-time flags:
    color, keep_docs, no_alias_deps, nolabels, nopervasives, open,
    strict_formats, strict_sequence, warn, warn_error
  (Gabriel Scherer, report by Knuth Posern)


## Development and stuff

I haven't been able to devote a lot of personal time to ocamlbuild
hacking in the last year, which means that there has been no new
ambitious features in sight (not that there are any very specific
plans on that front) and that some bugs that have been reported are
still open for kind external contributors to propose a fix for (feel
free to have a look at the bugtracker at
<a href="https://github.com/ocaml/ocamlbuild/issues">https://github.com/ocaml/ocamlbuild/issues</a> ). On the other hand,
quick-to-fix issues and clean external patches get merged rather
quickly.

They have been several interesting ocamlbuild-related active projects
lately, which you may be interested in, in no particular order:

- Namespaces, from Anton Bachin, is an Ocamlbuild plugin that turns
directories in your source tree into scoped OCaml modules.
  <a href="https://github.com/aantron/namespaces">https://github.com/aantron/namespaces</a>
  ("Namespaces" is a very overladed word, this work is about turning
filesystem directory structure into logical module path structure; if
you are looking for other kinds of namespace work within the OCaml
community, you may enjoy some old defunct proposal at
<a href="http://gallium.inria.fr/blog/namespace-archeology/">http://gallium.inria.fr/blog/namespace-archeology/</a> )

- Sylvain Le Gall recently added omake support to OASIS. If the only
reason you put up with ocamlbuild is because you are an OASIS user,
you may want to have a look at omake, a project that used to be
sleeping but is now maintained by Gerd Stolpmann
  <a href="https://github.com/ocaml-omake/omake">https://github.com/ocaml-omake/omake</a>
  <a href="http://projects.camlcity.org/projects/omake.html">http://projects.camlcity.org/projects/omake.html</a>

- Solvuu-build, from Ashish Agarwal, is a build system, currently
implemented on top of ocamlbuild, that innovates on two separate
front. First, it allows you to describe your build-system logic
entirely within a single ocaml file (ocamlbuild's information tends to
be more spread out with _tags, myocamlbuild.ml, foo.mllib files etc.).
Second, it is not only a build system as it also does project
scaffolding by generating a .merlin file, and a foo.install file for
OPAM. I would be very happy to have the "pure OCaml-level API" part at
least merged into ocamlbuild proper, giving an alternative way for
users to specify their build, but that requires some non-trivial
changes to the ocamlbuild codebase that nobody volunteered to
implement yet.

- The (over-)consonantly named ocb-stubblr plugin from David Kaloper
brings more advanced logic to build C stubs, for example using
pkg-config. (It claims to be only 10 lines of code, but it's actually
more than 200). It is not the first ruleset to provide in this space (
one may remember ocamlbuild-ctools from
<a href="http://dvide.com/labs/ocamlbuild-ctools/">http://dvide.com/labs/ocamlbuild-ctools/</a> ), but to my knowledge it is
the first to be distributed as a reusable ocamlbuild plugin library
(plugin library support was only introduced in OCaml 4.01 in 2013).
  <a href="https://github.com/pqwy/ocb-stubblr">https://github.com/pqwy/ocb-stubblr</a>

There is a fair amount of experimentation around ocamlbuild plugins,
but so far relatively few of their authors have tried to contribute
reusable bits and pieces upstream. Contributions, from plugin authors
or interested bystanders, are warmly welcome.
      </pre><a name="3" /><hr /><h3>Functor signature "inheritance"</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00115.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00115.html</a></p><i>Shayne Fletcher asked:</i><br /><pre>
If one wants to include a functor signature in another...

module type EQ = sig
type t
val eq : t * t -&gt; bool
end

module type EQ_PROD = functor (X : EQ) (Y : EQ) -&gt;
sig
type t = X.t * Y.t
val eq : t * t -&gt; bool
end

module type ORD = sig
include EQ
val lt : t * t -&gt; bool
end

module type LT_PROD = functor (X : EQ) (Y : EQ) -&gt;
sig
include EQ_PROD (*What do I say here?*)
end

​... How does one do that? Is there a syntax for this sort of thing?​
      </pre><i>Nicolas Ojeda Bar suggested:</i><br /><pre>
One approach is to name the *output* signature of the functors:

module type EQ_PROD_S = sig
module X : EQ
module Y : EQ
type t = X.t * Y.t
val eq: t * t -&gt; bool
end

module type EQ_PROD = functor (X : EQ) (Y : EQ) -&gt;
EQ_PROD_S with module X := X and module Y := Y

module type ORD_PROD_S = sig
include EQ_PROD_S
val lt : t * t -&gt; bool
end

module type LT_PROD = functor (X : EQ) (Y : EQ) -&gt;
LT_PROD_S with module X := X and module Y := Y

etc.
      </pre><i>Shayne Fletcher then asked:</i><br /><pre>
​Sorry to be a bother. Got another one for you Nicolas​!

How do I achieve the intent of this:

module type EQ = sig
type t
val eq : t * t -&gt; bool
end

module type NUM = sig
type t
val from_int : int -&gt; t
val ( + ) : t -&gt; t -&gt; t
end

module type MUL_S = sig
module N : NUM
module E : EQ with type t := N.t

type t = N.t
val mul : t -&gt; t -&gt; t
end

module type MUL = functor (E : EQ) (N : NUM) -&gt; MUL_S with module N := N and module E := E

The idea is that the modules satisfying EQ and NUM must agree in their type t
and MUL brings them together and adds a 'mul' function.
      </pre><i>Nicolas Ojeda Bar then replied:</i><br /><pre>
You can add a constrain to your functor arguments :

module type MUL = functor (E : EQ) (N : NUM with type t = E.t) -&gt;
MUL_S with module N := N and module E := E
      </pre><i>Shayne Fletcher finally said:</i><br /><pre>
​Thanks again for all your help, rixed, Gabriel, Nicolas! I wrote up all that I
learned in this exercise, here
<a href="http://blog.shaynefletcher.org/2016/10/implementing-type-classes-as-ocaml.html">http://blog.shaynefletcher.org/2016/10/implementing-type-classes-as-ocaml.html</a>.
      </pre><a name="4" /><hr /><h3>Lwt 2.6.0 – monadic concurrency library</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00132.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00132.html</a></p><i>Anton Bachin announced:</i><br /><pre>
I am pleased to announce the 2.6.0 release of Lwt.

 <a href="https://github.com/ocsigen/lwt">https://github.com/ocsigen/lwt</a>

This release fixes several serious longstanding bugs (see changelog
[1]). The primary work, however, is towards making Lwt easier to
contribute to and maintain. To this end:

- Lwt is now automatically tested on OS X, Cygwin, and Windows, in
 addition to Linux, with more platforms planned,
- there are documentation improvements,
- more test cases are being written,
- there is an initial plan/roadmap page, to be updated with your input
 [2].
- a Gitter chat has been added [3],
- the issue backlog has been drained somewhat.

The next minor release, 2.7.0, will drop support for OCaml 4.01, and
begin a process of deprecating and very gradually removing obsolete
functions and modules, such as the Camlp4 syntax. This will yield a
smaller Lwt that is easier to understand. [ocaml.deprecated] attributes
will also make it safer to make desirable API changes.

A major near-term goal is to write more thorough documentation for Lwt,
and make Lwt easier to get started with. Please comment on omissions,
misleading parts, etc. (see contact [4]).

After addressing that, ordinary work will focus on quality of the
internals and API, especially with regard to performance.

Comments, issues, and contributions on any subject are welcome :)

Regards from new maintainer,
Anton


[1]: <a href="https://github.com/ocsigen/lwt/releases/tag/2.6.0">https://github.com/ocsigen/lwt/releases/tag/2.6.0</a>
[2]: <a href="https://github.com/ocsigen/lwt/wiki/Plan">https://github.com/ocsigen/lwt/wiki/Plan</a>
[3]: <a href="https://gitter.im/ocaml-lwt/Lobby">https://gitter.im/ocaml-lwt/Lobby</a>
[4]: <a href="https://github.com/ocsigen/lwt#contact">https://github.com/ocsigen/lwt#contact</a>
      </pre><a name="5" /><hr /><h3>omake-0.10.1</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00140.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00140.html</a></p><i>Gerd Stolpmann announced:</i><br /><pre>
it is my pleasure to announce the another release of omake which is the
first one for six years. It mainly includes performance improvements
for large projects, and a number of bug fixes:

- omake got faster for large projects (this part of the work was
  funded by Lexifi)
- there is a new bootstrap system that unifies Unix and Windows
- it now also works with the MinGW port
- private variables in foreach loops work now as expected
- fixed "rm -rf" so that it never follows symlinks
  (2nd attempt of a fix)
- The "equal" function works also for arrays. This fixes
  a couple of unit tests using this feature.

The new homepage is now <a href="http://projects.camlcity.org/projects/omake.html">http://projects.camlcity.org/projects/omake.html</a>.
See there for all the other links.

The old homepage omake.metaprl.org is no longer updated (I don't have 
access, and don't know how to take it down).
      </pre><a name="6" /><hr /><h3>batteries 2.5.3 -- compatible with OCaml 4.04</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00142.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00142.html</a></p><i>Gabriel Scherer announced:</i><br /><pre>
Batteries Included is a community-maintained standard library
extension, with a focus on stability and compatibility. Bug reports,
pull requests and other contributions are warmly welcome, see the
project page at
  <a href="https://github.com/ocaml-batteries-team/batteries-included/">https://github.com/ocaml-batteries-team/batteries-included/</a>

The library's API documentation at:
  <a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/">http://ocaml-batteries-team.github.io/batteries-included/hdoc2/</a>

Batteries 2.5.3 is now available. This minor release brings
compatibility with OCaml 4.04+beta2, and should be compatible with the
upcoming 4.04 release.
      </pre><a name="7" /><hr /><h3>Mandelbrot fractal</h3><p>Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00143.html">https://sympa.inria.fr/sympa/arc/caml-list/2016-10/msg00143.html</a></p><i>Daniel de Rauglaudre announced:</i><br /><pre>
I just updated the program MLbrot to display the Mandelbrot set, I
made some years ago. Written in OCaml.

Together with the sources, there is an executable compiled for Linux
Ubuntu. May work on your computer without having to be recompiled from
the sources. Not sure because I don't know anything about OSes.
Version is 1.02. Enjoy!

  <a href="http://pauillac.inria.fr/~ddr/mlbrot/">http://pauillac.inria.fr/~ddr/mlbrot/</a>
      </pre><a name="8" /><hr /><h3>Other OCaml News</h3><i>From the ocamlcore planet blog:</i><br /><pre>
Here are links from many OCaml blogs aggregated at OCaml Planet,
<a href="http://ocaml.org/community/planet/">http://ocaml.org/community/planet/</a>.

ICFP Roundup: Talk Summaries and OCaml Workshop
 <a href="https://ocaml.io/w/Blog:News/ICFP_Roundup:_Talk_Summaries_and_OCaml_Workshop">https://ocaml.io/w/Blog:News/ICFP_Roundup:_Talk_Summaries_and_OCaml_Workshop</a>
      </pre><hr /><h3>Old cwn</h3><p>If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.</p><p>If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.</p><hr /><p align="right"><i><a href="http://alan.petitepomme.net/">Alan Schmitt</a></i></p><p align="right"><script type="text/javascript">var sc_project=1252199; 
                 var sc_invisible=0; 
                 var sc_partition=11; 
                 var sc_security="e7c40dd3"; 
                 var sc_text=3;</script><script type="text/javascript" src="http://www.statcounter.com/counter/counter_xhtml.js" /><script src="http://www.google-analytics.com/urchin.js" type="text/javascript" /><script type="text/javascript">_uacct = "UA-2289702-1";
								urchinTracker();</script></p></body>
</html>