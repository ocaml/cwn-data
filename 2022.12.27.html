<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-12-27 Tue 11:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.12.20.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2023.01.03.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of December 20 to 27, 2022.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">OCaml 4.14.1 released</a></li>
<li><a href="#2">Js_of_ocaml 5.0</a></li>
<li><a href="#3">CFP - JFLA 2023 - Journées Francophones des Langages Applicatifs</a></li>
<li><a href="#4">OCaml Job</a></li>
<li><a href="#5">Maintenance bottlenecks in the compiler distribution</a></li>
<li><a href="#6">Results of the OCaml User Survey 2022</a></li>
<li><a href="#org7d376ac">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">OCaml 4.14.1 released</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-14-1-released/11007/1">https://discuss.ocaml.org/t/ocaml-4-14-1-released/11007/1</a>
</p>
</div>

<div id="outline-container-orgf40fb7c" class="outline-3">
<h3 id="orgf40fb7c">octachron announced</h3>
<div class="outline-text-3" id="text-orgf40fb7c">
<p>
We have the pleasure of celebrating the birthday of Oronce Finé by announcing the release of OCaml version 4.14.1.
</p>

<p>
This release is a collection of safe bug fixes, cherry-picked from the OCaml 5.0.0 release. If you were using OCaml 4.14.0 and
cannot yet upgrade to OCaml 5, this release is for you.
</p>

<p>
The 4.14 branch is expected to receive more backported fixes during the maturation of OCaml 5. Thus don&rsquo;t hesitate to report any
bugs on the <a href="https://github.com/ocaml/ocaml/issues">OCaml issue tracker</a>.
</p>

<p>
See the list of changes below for more details.
</p>
</div>

<div id="outline-container-org6d4891d" class="outline-4">
<h4 id="org6d4891d">Installation Instructions</h4>
<div class="outline-text-4" id="text-org6d4891d">
<p>
The base compiler can be installed as an opam switch with the following commands:
</p>

<div class="org-src-container">
<pre class="src src-shell">opam update
opam switch create 4.14.1
</pre>
</div>

<p>
The source code for the release candidate is also directly available on:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/4.14.1.tar.gz">GitHub</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.1.tar.gz">Inria archive</a></li>
</ul>
</div>
</div>

<div id="outline-container-org98d479d" class="outline-4">
<h4 id="org98d479d">Changes in OCaml 4.14.1 (20 December 2022)</h4>
<div class="outline-text-4" id="text-org98d479d">
</div>
<ul class="org-ul">
<li><a id="orgad1c7d3"></a>Compiler User-Interface and Warnings:<br />
<div class="outline-text-5" id="text-orgad1c7d3">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/11184">#11184</a>, <a href="https://github.com/ocaml/ocaml/issues/11670">#11670</a>: Stop calling ranlib on created / installed libraries (Sébastien Hinderer and Xavier Leroy, review by the same)</li>
</ul>
</div>
</li>

<li><a id="org797fa7b"></a>Build System:<br />
<div class="outline-text-5" id="text-org797fa7b">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/11370">#11370</a>, <a href="https://github.com/ocaml/ocaml/issues/11373">#11373</a>: Don&rsquo;t pass CFLAGS to flexlink during configure. (David Allsopp, report by William Hu, review by Xavier Leroy and Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11487">#11487</a>: Thwart FMA test optimization during configure
(William Hu, review by David Allsopp and Sébastien Hinderer)</li>
</ul>
</div>
</li>

<li><a id="org1117fd2"></a>Bug Fixes:<br />
<div class="outline-text-5" id="text-org1117fd2">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10768">#10768</a>, <a href="https://github.com/ocaml/ocaml/issues/11340">#11340</a>: Fix typechecking regression when combining first class modules and GADTs. (Jacques Garrigue, report by François Thiré, review by Matthew Ryan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11204">#11204</a>: Fix regression introduced in 4.14.0 that would trigger Warning 17 when calling virtual methods introduced by constraining the self type from within the class definition. (Nicolás Ojeda Bär, review by Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11263">#11263</a>, <a href="https://github.com/ocaml/ocaml/issues/11267">#11267</a>: caml/{memory,misc}.h: check whether <code>_MSC_VER</code> is defined before using it to ensure that the headers can always be used in code which turns on -Wundef (or equivalent). (David Allsopp and Nicolás Ojeda Bär, review by Nicolás Ojeda Bär and Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11314">#11314</a>, <a href="https://github.com/ocaml/ocaml/issues/11416">#11416</a>: fix non-informative error message for module inclusion (Florian Angeletti, report by Thierry Martinez, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11358">#11358</a>, <a href="https://github.com/ocaml/ocaml/issues/11379">#11379</a>: Refactor the initialization of bytecode threading, This avoids a &ldquo;dangling pointer&rdquo; warning of GCC 12.1. (Xavier Leroy, report by Armaël Guéneau, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11387">#11387</a>, module type with constraints no longer crash the compiler in presence of both shadowing warnings and the <code>-bin-annot</code> compiler flag. (Florian Angeletti, report by Christophe Raffalli, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11392">#11392</a>, <a href="https://github.com/ocaml/ocaml/issues/11392">#11392</a>: assertion failure with -rectypes and external definitions (Gabriel Scherer, review by Florian Angeletti, report by Dmitrii Kosarev)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11417">#11417</a>: Fix regression allowing virtual methods in non-virtual classes.
(Leo White, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11468">#11468</a>: Fix regression from <a href="https://github.com/ocaml/ocaml/issues/10186">#10186</a> (OCaml 4.13) detecting IPv6 on Windows for mingw-w64 i686 port. (David Allsopp, review by Xavier Leroy and Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11489">#11489</a>, <a href="https://github.com/ocaml/ocaml/issues/11496">#11496</a>: More prudent deallocation of alternate signal stack (Xavier Leroy, report by @rajdakin, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11516">#11516</a>, <a href="https://github.com/ocaml/ocaml/issues/11524">#11524</a>: Fix the <code>deprecated_mutable</code> attribute. (Chris Casinghino, review by Nicolás Ojeda Bär and Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11194">#11194</a>, <a href="https://github.com/ocaml/ocaml/issues/11609">#11609</a>: Fix inconsistent type variable names in &ldquo;unbound type var&rdquo; messages (Ulysse Gérard and Florian Angeletti, review Florian Angeletti and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11622">#11622</a>: Prevent stack overflow when printing a constructor or record mismatch error involving recursive types. (Florian Angeletti, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11732">#11732</a>: Ensure that types from packed modules are always generalised (Stephen Dolan and Leo White, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11737">#11737</a>: Fix segfault condition in Unix.stat under Windows in the presence of multiple threads. (Marc Lasson, Nicolás Ojeda Bär, review by Gabriel Scherer and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11776">#11776</a>: Extend environment with functor parameters in <code>strengthen_lazy</code>. (Chris Casinghino and Luke Maurer, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11533">#11533</a>, <a href="https://github.com/ocaml/ocaml/issues/11534">#11534</a>: follow synonyms again in #show_module_type (this had stopped working in 4.14.0) (Gabriel Scherer, review by Jacques Garrigue, report by Yaron Minsky)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11768">#11768</a>, <a href="https://github.com/ocaml/ocaml/issues/11788">#11788</a>: Fix crash at start-up of bytecode programs in no-naked-pointers mode caused by wrong initialization of caml_global_data (Xavier Leroy, report by Etienne Millon, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11803">#11803</a>, <a href="https://github.com/ocaml/ocaml/issues/11808">#11808</a>: on x86, the destination of an integer comparison must be a register, it cannot be a stack slot. (Vincent Laviron, review by Xavier Leroy, report by Emilio Jesús Gallego Arias)</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Js_of_ocaml 5.0</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-js-of-ocaml-5-0/11008/1">https://discuss.ocaml.org/t/ann-js-of-ocaml-5-0/11008/1</a>
</p>
</div>

<div id="outline-container-orgf00024f" class="outline-3">
<h3 id="orgf00024f">Hhugo announced</h3>
<div class="outline-text-3" id="text-orgf00024f">
<p>
I’m pleased to announce the release of js_of_ocaml 5.0. It should soon be able available in opam.
</p>

<p>
Js_of_ocaml is a compiler from OCaml bytecode to JavaScript. It makes it
possible to run pure OCaml programs in JavaScript environment like browsers and
Node.js.
</p>

<p>
This is the first release supporting OCaml 5 effects handlers. Thanks to Jérôme Vouillon
and Olivier Nicole for the contribution (based on previous work from Armaël Guéneau and Patrick Ferris).
</p>

<p>
Js_of_ocaml supports for effect handlers can be enabled by passing the <code>--enable=effects</code> flag. This is based on transformation of
the whole program to continuation-passing style. As a consequence, tail calls are also fully optimized. This is not the default for
now since the generated code is slower, larger and less readable. The
<a href="https://ocsigen.org/js_of_ocaml/latest/manual/performances">performance</a> impact is especially large for code that involves a lot of
function calls without allocation, since the transformation introduces many intermediate continuation functions. We hope to improve
on this by transforming the code only partially to continuation-passing style, and by trying alternative compilation strategies.
</p>

<p>
See <a href="https://ocsigen.org/js_of_ocaml/latest/manual/effects">https://ocsigen.org/js_of_ocaml/latest/manual/effects</a> to learn how to enable the support for effect handlers when using dune.
</p>

<p>
You can try it out in this <a href="https://ocsigen.org/js_of_ocaml/5.0.1/manual/files/toplevel/index.html">https://ocsigen.org/js_of_ocaml/5.0.1/manual/files/toplevel/index.html</a>  running in the browser.
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">CFP - JFLA 2023 - Journées Francophones des Langages Applicatifs</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/cfp-jfla-2023-journees-francophones-des-langages-applicatifs/10482/2">https://discuss.ocaml.org/t/cfp-jfla-2023-journees-francophones-des-langages-applicatifs/10482/2</a>
</p>
</div>

<div id="outline-container-orge484eb3" class="outline-3">
<h3 id="orge484eb3">Timothy Bourke announced</h3>
<div class="outline-text-3" id="text-orge484eb3">
<p>
<i>This message is intentionally written in French. It is a call for registrations to, and extra information for, the &ldquo;Francophone Days on Functional Languages&rdquo; to be held at the end of January. There are a number of <a href="http://jfla.inria.fr/jfla2023.html#articles-long">submissions</a> involving OCaml, some written in English. The PDFs will be available online in January.</i>
</p>

<p>
Les inscriptions pour les JFLA 2023 sont ouvertes : <a href="http://jfla.inria.fr/jfla2023.html#inscription">http://jfla.inria.fr/jfla2023.html#inscription</a>
</p>

<p>
Grâce aux nombreuses soumissions de qualité, et à nos orateurs invités — Sylvie Boldo, Cyril Cohen et Xavier Leroy —, le programme
construit avec le comité cette année s&rsquo;annonce particulièrement engageant et stimulant ! Les détails se trouvent sur le site web.
</p>

<p>
L&rsquo;inscription est un forfait qui comprend notamment l&rsquo;hébergement en pension complète sur le site des journées :
</p>

<ul class="org-ul">
<li>participant·e plein tarif : 700 euros</li>
<li>étudiant·e orateur·ice : 0 euro</li>
</ul>

<p>
Les inscriptions des étudiant·e·s orateur·ices sont financées par nos sponsors académiques et industriels. Ces inscriptions
(gratuites) sont néanmoins nécessaires pour la réservation de l&rsquo;hébergement.
</p>

<p>
Nous espérons que vous serez nombreux à participer à ces journées. La finalisation des inscriptions, notamment le paiement, reste
possible jusqu&rsquo;au 20 janvier, mais le nombre de places est limité : inscrivez-vous donc maintenant !
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">OCaml Job</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2022-12/msg00009.html">https://sympa.inria.fr/sympa/arc/caml-list/2022-12/msg00009.html</a>
</p>
</div>

<div id="outline-container-org7341a48" class="outline-3">
<h3 id="org7341a48">Christophe Raffalli announced</h3>
<div class="outline-text-3" id="text-org7341a48">
<p>
We have a project involving OCaml, React-Rescript, postgresql,
distributed data (a.k.a. &ldquo;cloud&rdquo;). We may hire some people in
February of Mars, but to answer a call, we would like declarations of
intent from people that may be interested.
</p>

<p>
Important: the job will be in French Polynesia.
</p>

<p>
We are using the most advanced OCaml&rsquo;s features (GADT, Effect, Domain,
&#x2026;). Thus, candidates should really be skilled OCaml programmers. Prior
knowledge of posgresql, distributed data starage of React/Rescript will
be appreciated.
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Maintenance bottlenecks in the compiler distribution</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/maintenance-bottlenecks-in-the-compiler-distribution/11045/1">https://discuss.ocaml.org/t/maintenance-bottlenecks-in-the-compiler-distribution/11045/1</a>
</p>
</div>

<div id="outline-container-org03c495b" class="outline-3">
<h3 id="org03c495b">gasche announced</h3>
<div class="outline-text-3" id="text-org03c495b">
<p>
This is a public announcement that we are experiencing a maintenance bottleneck with development of the OCaml compiler distribution
(the <a href="https://github.com/ocaml/ocaml">github/ocaml/ocaml</a> repository).
</p>

<p>
Our development process naturally generates a fair amount of maintenance work to, among other things, discuss and integrate proposed
patches, fix bugs, and react to feature requests. We don&rsquo;t have enough people doing this maintenance work; currently the vast
majority of this work is being done by about 5 people: David Allsopp, Florian Angeletti, Nicolás Ojeda Bär, Xavier Leroy, and
myself.
</p>

<p>
Despair not! Bug fixes tend to be prioritized and handled quickly; I believe that the OCaml releases remain of satisfying quality.
But other aspects are affected negatively, for example:
</p>

<ul class="org-ul">
<li>our ability to react to proposed changes in a timely manner,</li>
<li>the experience of people trying to contribute to the compiler codebase,</li>
<li>various potential improvements that get stalled by lack of manpower to work on them.</li>
</ul>
</div>

<div id="outline-container-org37a5bc3" class="outline-4">
<h4 id="org37a5bc3">Context</h4>
<div class="outline-text-4" id="text-org37a5bc3">
<p>
The OCaml compiler distribution moved to Github in January 2014. Since then, maintainers have been constantly complaining that there
are more people willing to submit changes/PRs than people willing to review them, creating a bottleneck on the reviewing side. (We
point this out in the <a href="https://github.com/ocaml/ocaml/blob/25d0fa9a70135288f45c403922e39e18c601777c/CONTRIBUTING.md#contribution">first
section</a> of our
<a href="https://github.com/ocaml/ocaml/blob/25d0fa9a70135288f45c403922e39e18c601777c/CONTRIBUTING.md">CONTRIBUTING.md</a> document.)
</p>

<p>
But the effort to upstream Multicore OCaml has unfortunately made the situation worse, for at least two reasons:
</p>

<ul class="org-ul">
<li>Integrating the completely new Multicore runtime required a lot of review, integration and documentation work. We onboarded experienced Multicore developers as upstream maintainers and this helped smooth out the process, but we have still been less available with other maintenance tasks that piled up in the meantime.</li>

<li>The <a href="https://discuss.ocaml.org/t/the-road-to-ocaml-5-0/8584#the-sequential-glaciation-3">sequential glaciation</a> indirectly reduced the maintenance workforce. In November 2021 we stopped merging non-multicore-related features in the development version; as a result, various maintainers and heavy contributors moved away from working on the main development branch, to do their experiments in separate repositories (which is completely fine), and also more or less stopped following issues and performing maintenance on the main branch (which aggravated the maintenance issue).</li>
</ul>

<p>
Now that OCaml 5 has been released, many contributors will be coming back with many exciting change proposals to upstream. At the
same time, our users are playing with Multicore features and will soon find countless bugs to fix, limitations to lift, etc. It&rsquo;s
not easy to play OCaml maintainer right now.
</p>
</div>
</div>

<div id="outline-container-orgc7052e3" class="outline-4">
<h4 id="orgc7052e3">What can people do to help?</h4>
<div class="outline-text-4" id="text-orgc7052e3">
</div>
<ul class="org-ul">
<li><a id="org33129c0"></a>Contribute to the maintenance effort<br />
<div class="outline-text-5" id="text-org33129c0">
<p>
Heavy contributors, in particular core developers but not only, should be expected to participate to this collective maintenance
effort. We are having discussions right now about our expectations.
</p>

<p>
In my personal opinion, anyone who dedicates a substantial portion of their time to working on code intended for eventual
upstreaming should dedicate a fraction of this time to collective maintenance of the development branch. This is the most healthy
way to ensure that the volume of maintenance work scales with the volume of submissions. (10%? 20%? Something like this.) (If you
are paid by someone to work on the compiler, please make sure that your pay cover this maintenance fraction.)
</p>

<p>
Occasional contributors who would like to help with OCaml development should also consider whether they can help with this. (No
pressure!)  We have several instances of people helping with code reviews, triaging, helping make decisions on design questions etc.
(I remember nice contributions in this direction from Daniel Bünzli, Gabriel Radanne, Nathanaëlle Courant, Favonia, Guillaume
Munch-Maccagnoni and Kate for example.)
</p>
</div>
</li>

<li><a id="org5b20901"></a>Generate less maintenance work<br />
<div class="outline-text-5" id="text-org5b20901">
<p>
If you interact with the compiler distribution as a software project, please be mindful of the maintenance load that you generate.
If you send a Pull Request, make sure that its purpose/justification is explained very clearly, that it is easy to review; that the
benefits of the change (explain those clearly) outweigh the long-term and also the short-term costs of integrating it.
Similarly for feature requests or enhancement proposals: now is the time to focus on the uncontroversial things that are clear
improvements, and to justify, explain them very clearly.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org0b2df70" class="outline-4">
<h4 id="org0b2df70">How?</h4>
<div class="outline-text-4" id="text-org0b2df70">
<p>
It may not be immediately clear to people what &ldquo;participate to the maintenance work&rdquo; means concretely. Right now I see three obvious
approaches.
</p>

<ol class="org-ol">
<li>Subscribe to <a href="https://github.com/ocaml/">github/ocaml/ocaml</a> notifications and jump in when you want.</li>

<li>Look at our <a href="https://github.com/ocaml/ocaml/issues">issues</a> (258 open as I write this) and see whether you think can help. Maybe some are out of date / irrelevant and could be closed &#x2013; say it. Maybe some bugs could be fixed, or some enhancement requests could be fulfilled. If you can, give it a try. It&rsquo;s best to start with issues where the desired outcome is clear a consensual (a clear bug to be fixed, with no immediate downside; a small interface improvement that does not introduce much complexity and is well-justified; etc.), rather than work on some weird syntax proposal that will in turn require ample discussion and may be turned down in the end. (If you find a wonky proposal that failed to gather consensus and probably never will, it&rsquo;s actually helpful to suggest closing the issue.)</li>

<li>Look at our <a href="https://github.com/ocaml/ocaml/pulls">pull requests</a> (246 open as I write this) and try to see whether you can help. Again, it&rsquo;s best to focus on PRs where there is a clear motivation/need. Look at the code, feel free to ask questions on things you don&rsquo;t understand or comment on aspects you don&rsquo;t like so much. If the PR is stale, maybe it should be rebased (would you like to give it a try?), or there isn&rsquo;t much that can be reused and it could be closed &#x2013; feel free to say so.</li>
</ol>

<p>
We have received the feedback that those three approaches are still confusing to some people. In the upcoming weeks (probably in
January) we will have more discussions about how to organize maintenance, to find more focused processes that encourage people to
contribute in this way. I don&rsquo;t think that there is a silver bullet, a magic process that will make it much easier, so I would
encourage anyone interested to first some of the three basic approaches above and see if it works for them.
</p>

<p>
In my experience people often self-censor and do not try to react to PRs or issues that are not in their area of expertise. But most
of the compiler codebase is in only a very few people&rsquo;s area of expertise, the rest of us (myself included) just make do with their
imperfect understanding and try to help anyway. Do not hesitate to walk into issues outside of your comfort zone, it is a great way
to learn about the compiler distribution codebase.
</p>

<p>
Happy maintaining!
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Results of the OCaml User Survey 2022</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-results-of-the-ocaml-user-survey-2022/11056/1">https://discuss.ocaml.org/t/ann-results-of-the-ocaml-user-survey-2022/11056/1</a>
</p>
</div>

<div id="outline-container-orgd2abbc1" class="outline-3">
<h3 id="orgd2abbc1">Kim Nguyễn announced</h3>
<div class="outline-text-3" id="text-orgd2abbc1">
<p>
on behalf of the OCSF, I&rsquo;m pleased to announce that the <a href="https://ocaml-sf.org/docs/2022/ocaml-user-survey-2022.pdf">report on the OCaml User Survey
2022</a> is now available. Unfortunately, the results are not as meaningful
as we would have hoped, since this instance of the survey attracted far less respondents than the previous one. On the upside, this
allowed us to discover that some members of the OCaml community are expert in the fields, we hope to use their expertise to improve
the whole process next time. It still allowed the OCSF to draw some preliminary conclusions, and highlight some pain points where
the OCSF can maybe help improve the OCaml ecosystem as a whole.
</p>

<p>
Last, I would like to apologies since it took me an inordinate amount of time to process the results and release the report. While I
have already gotten in touch with some people regarding next year&rsquo;s iteration, if anyone would like to help (from proof reading to
publishing in a more modern way than producing a PDF with latex), don&rsquo;t hesitate to message me.
</p>
</div>
</div>
</div>




<div id="outline-container-org7d376ac" class="outline-2">
<h2 id="org7d376ac">Old CWN</h2>
<div class="outline-text-2" id="text-org7d376ac">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="orgb31045f">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>