<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-01-18 Tue 14:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.01.11.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.01.25.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of January 11 to 18, 2022.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Blog post: Writing a Game Boy emulator in OCaml</a></li>
<li><a href="#2">Bogue, the OCaml GUI</a></li>
<li><a href="#3">V3.ocaml.org: getting ready to launch</a></li>
<li><a href="#4">New release of Windows DKML with system compiler and easy Opam switch creation</a></li>
<li><a href="#5">Cross-compiling OCaml with GitHub Actions</a></li>
<li><a href="#6">First announcement of Bechamel</a></li>
<li><a href="#7">An Update on the State of the PPX Ecosystem and ppxlib's Transition</a></li>
<li><a href="#8">Become an Outreachy Mentor: support the growth and diversity of the OCaml community</a></li>
<li><a href="#9">Cmon 0.1, a printer that shares</a></li>
<li><a href="#org8db50f9">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Blog post: Writing a Game Boy emulator in OCaml</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-post-writing-a-game-boy-emulator-in-ocaml/9131/1">https://discuss.ocaml.org/t/blog-post-writing-a-game-boy-emulator-in-ocaml/9131/1</a>
</p>
</div>

<div id="outline-container-org72d210a" class="outline-3">
<h3 id="org72d210a">Lin Oshitani announced</h3>
<div class="outline-text-3" id="text-org72d210a">
<p>
I have written a blog post to share my experience of writing a Game Boy emulator in OCaml.
</p>

<p>
I will cover things like:
</p>
<ul class="org-ul">
<li>Overview of the Game Boy architecture.</li>
<li>Using functors to implement testable modules.</li>
<li>Using GADTs to encode the Game Boy instruction set.</li>
<li>Using test ROMs and <code>ppx_expect</code> to implement the emulator in <a href="https://blog.janestreet.com/repeatable-exploratory-programming/"><span class="underline">exploratory programming</span></a> style.</li>
<li>Finding bottlenecks and improving performance.</li>
<li>General thoughts on OCaml.</li>
</ul>

<p>
Please take a look if you are interested and/or share with anyone who might be interested.
</p>

<p>
Also, let me know if you have any questions or comments.
</p>

<p>
Thanks!
</p>

<p>
<a href="https://linoscope.github.io/writing-a-game-boy-emulator-in-ocaml/">https://linoscope.github.io/writing-a-game-boy-emulator-in-ocaml/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Bogue, the OCaml GUI</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-bogue-the-ocaml-gui/9099/7">https://discuss.ocaml.org/t/ann-bogue-the-ocaml-gui/9099/7</a>
</p>
</div>

<div id="outline-container-orgab2f4b1" class="outline-3">
<h3 id="orgab2f4b1">Deep in this thread, octachron asked</h3>
<div class="outline-text-3" id="text-orgab2f4b1">
<p>
Looking at the dependencies, I noticed that you also wrote a binding to <code>SDL_ttf</code>.
I am wondering if it would be enough to provide a SDL-based reimplementation of the <code>Graphics</code> library (with exactly
the same interface)? It could be a nice way to have a pedagogical graphical API which is just a front-end for a full
graphical library.
</p>
</div>
</div>


<div id="outline-container-org3de1080" class="outline-3">
<h3 id="org3de1080">sanette replied</h3>
<div class="outline-text-3" id="text-org3de1080">
<p>
Yes, I think it would be fairly easy.
Looking at the <code>Graphics</code> API, the only things that are not included in <code>SDL~+~SDL_ttf~+~SDL_image</code>
are graphics primitives like (filled) ellipses and (filled) polygons. One could write bindings to <code>SDL_gfx</code> (*) for
these, but it's more fun to program them directly in <code>ocaml</code> ;)
</p>

<p>
(*) in fact they already exist, <a href="https://github.com/fccm/tsdl-gfx">https://github.com/fccm/tsdl-gfx</a>
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">V3.ocaml.org: getting ready to launch</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/v3-ocaml-org-getting-ready-to-launch/9146/1">https://discuss.ocaml.org/t/v3-ocaml-org-getting-ready-to-launch/9146/1</a>
</p>
</div>

<div id="outline-container-org162000f" class="outline-3">
<h3 id="org162000f">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-org162000f">
<p>
In my <a href="https://discuss.ocaml.org/t/v3-ocaml-org-a-roadmap-for-ocamls-online-presence/8368">previous post this summer</a>
about the upcoming revision of the website, I gave an overview of where we were headed and presented a roadmap for
OCaml's online presence.
</p>

<p>
Since August 2021, we've made considerable progress. We're on track to launch the website in February 2022 (only a
couple of months beyond my summer prediction!), and the roadmap after that is becoming clearer thanks to all your
feedback.
</p>

<p>
<b>You can see it live at <a href="https://v3.ocaml.org/">https://v3.ocaml.org/</a>, with the package search available at <a href="https://v3.ocaml.org/packages">v3.ocaml.org/packages</a></b>
</p>

<p>
Let's dive into it!
</p>
</div>

<div id="outline-container-org0eb82c9" class="outline-4">
<h4 id="org0eb82c9">Update</h4>
<div class="outline-text-4" id="text-org0eb82c9">
<p>
Until August 2021, we had been working on the foundations for v3: the user flows, sitemap, and the reusable
infrastructure for the data used in ocaml.org. With all the infrastructure and data ready, our efforts since have
been focused on completing the frontend.
</p>

<p>
One of the clearest priorities we had from community feedback was to ensure that the unified package documentation
gets to the live site as soon as possible. The build process for this is not trivial, as it involves combining the
outputs of 20,000+ opam packages with the rest of the website, while maintaining a reasonable developer experience
for the main site. We have therefore merged the various frontend and backend codebases into a single OCaml-based one.
We've merged the NextJS / ReScript / Tailwind codebase to the backend server that serves the package documentation.
This has allowed us to consolidate our technology stack and simplify our continuous deployment story, but also to
directly serve the website from a pure OCaml stack (using packages from our own community such as Dream and
ocaml-tls). We're deeply grateful to the ReScript team for the technology that let us prototype the new revision of
the website so quickly, and to implement the templates we're now using.
</p>

<p>
Here's an overview of the sitemap and all the pages we've implemented.
</p>

<ul class="org-ul">
<li><a href="https://v3.ocaml.org/">Homepage</a>
<ul class="org-ul">
<li><a href="https://v3.ocaml.org/about">About</a></li>
<li><a href="https://v3.ocaml.org/industrial-users">Industrial users</a></li>
<li><a href="https://v3.ocaml.org/academic-users">Academic users</a></li>
<li><a href="https://v3.ocaml.org/success-stories">Success stories</a></li>
<li><a href="https://v3.ocaml.org/success-stories/jane-street">Success story</a></li>
</ul></li>
<li><a href="https://v3.ocaml.org/learn">Learn</a>
<ul class="org-ul">
<li><a href="https://v3.ocaml.org/books">Books</a></li>
<li><a href="https://v3.ocaml.org/releases">Releases</a></li>
<li><a href="https://v3.ocaml.org/releases/4.12.0">Release</a></li>
<li><a href="https://v3.ocaml.org/papers">Papers</a></li>
<li><a href="https://v3.ocaml.org/learn/up-and-running-with-ocaml">Tutorial</a></li>
<li><a href="https://v3.ocaml.org/learn/best-practices">Best practices</a></li>
<li><a href="https://v3.ocaml.org/problems">Problems</a></li>
<li><a href="https://v3.ocaml.org/manual/index.html">Manual</a></li>
</ul></li>
<li><a href="https://v3.ocaml.org/packages">Packages</a>
<ul class="org-ul">
<li><a href="https://v3.ocaml.org/packages/search">Packages search</a></li>
<li><a href="https://v3.ocaml.org/p/dream">Package</a></li>
<li><a href="https://v3.ocaml.org/p/dream/1.0.0~alpha2/doc/index.html">Package documentation</a></li>
</ul></li>
<li><a href="https://v3.ocaml.org/community">Community</a>
<ul class="org-ul">
<li><a href="https://v3.ocaml.org/events">Events</a></li>
<li><a href="https://v3.ocaml.org/workshops/ocaml-workshop-2021">Workshop</a></li>
<li><a href="https://v3.ocaml.org/opportunities">Opportunities</a></li>
<li><a href="https://v3.ocaml.org/opportunities/1">Opportunity</a></li>
</ul></li>
<li><a href="https://v3.ocaml.org/blog">Blog</a></li>
<li>Legal
<ul class="org-ul">
<li><a href="https://v3.ocaml.org/carbon-footprint">Carbon footprint</a></li>
</ul></li>
</ul>

<p>
In addition to the frontend work, here are some backend highlights:
</p>

<ul class="org-ul">
<li>A global navigation bar on the package documentaion. You can now navigate through all package libraries from the navbar (by @TheLortex in <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/86">#86</a>)</li>
<li>A toplevel on the homepage (by @tmattio, @patricoferris and @jonludlam in <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/106">#106</a>, <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/135">#135</a> and <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/159">#159</a>)</li>
<li>Added redirections from current ocaml.org URLs</li>
<li>An internationalisation framework that serves pages in different languages. The framework exists, but the page translations will come later (by @tmattio in <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/84">#84</a>)</li>
<li>A code-highlighting library that adds code highlighting in the tutorials (by @patricofferis in <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/108">#108</a>)</li>
<li>Handled <i>Let's Encrypt</i> certificate renewals and HTTPS redirects (by @tmattio and @patricofferis in <a href="https://github.com/ocaml/v3.ocaml.org-server/pull/182">#182</a>)</li>
</ul>

<p>
See the full changelog here: <a href="https://github.com/ocaml/v3.ocaml.org-server/blob/main/CHANGES.md">https://github.com/ocaml/v3.ocaml.org-server/blob/main/CHANGES.md</a>.
</p>

<p>
As mentioned above, we are feature complete, so we will be reviewing the site to get final approval from @xavierleroy
and the core development team to launch the new site in a few weeks. We still have some work to do until then, but
we'll dedicate these next few weeks to receive community feedback and make any appropriate changes.
</p>

<p>
So now is the time to give us the feedback you have! You can do this by replying to this post or opening GitHub
issues on the repository <a href="https://github.com/ocaml/v3.ocaml.org-server">ocaml/v3.ocaml.org-server</a>. Mostly, we're
hoping to receive actionable feedback such as:
</p>

<ul class="org-ul">
<li>Are you able to find all the information you're expecting to find on the website?</li>
<li>Do you find the documentation (both the learn section and package documentation) usable?</li>
<li>Do you find some design elements make the website hard to use (e.g., for color blind folks)?</li>
</ul>

<p>
Also, please don't hesitate to open a <a href="https://github.com/ocaml/v3.ocaml.org-server">GitHub Issue</a> if you notice any
bugs.
</p>

<p>
As you know, the release of OCaml 5.00.0, including Multicore support, is coming in 2022, so the timing of the v3
website launch is not coincidental. When OCaml 5.00.0 is released, the website will serve as an entry point for
people new to OCaml, so we need to be ready with a usuable website, helpful documentation, clear package sites, etc.
All your feedback and insights on how we can do better is greatly appreciated.
</p>
</div>
</div>

<div id="outline-container-orgeae1fa4" class="outline-4">
<h4 id="orgeae1fa4">What's Next?</h4>
<div class="outline-text-4" id="text-orgeae1fa4">
<p>
Launching the website is the first step on our roadmap to improve OCaml's online presence.
</p>

<p>
As mentioned above, the immediate goal is to be ready for this OCaml 5.00.0 release. With this in mind, for the next
few months, we'll focus on improving the documentation and ensuring it includes good user pathways to learn about
Domains, Effects, and generally how to write concurrent programs in OCaml.
</p>

<p>
In addition to the documentation, some of the other projects on our roadmap are:
</p>

<ul class="org-ul">
<li>An online editor integrated in ocaml.org (aka a Playground)</li>
<li>Toplevels for all the packages that compile to JavaScript</li>
</ul>

<p>
This is an exciting time! Stay tuned!
</p>
</div>
</div>

<div id="outline-container-orga1bdf1e" class="outline-4">
<h4 id="orga1bdf1e">How Can You help?</h4>
<div class="outline-text-4" id="text-orga1bdf1e">
<p>
We need your help!
</p>

<p>
Until now, the development and design of the new site has been driven by a small team of people from Solvuu, OCaml
Labs, Tarides, the University of Cambridge and individual contributors from our community. This was useful to get the
momentum we needed to deliver on all the feedback from the community (package documentation, job board, new blog,
etc.), but OCaml.org is a community project and needs to be driven by all of us.
</p>

<p>
In particular, we built what we hope is a good framework to represent the community with pages like:
</p>

<ul class="org-ul">
<li>A job board</li>
<li>The OCaml blog</li>
<li>The meetings and workshops</li>
<li>The industrial users and academic users</li>
<li>The success stories</li>
</ul>

<p>
Now that the framework is there, we need your help to contribute to these pages, allowing us to serve great content
and make the pages useful.
</p>
</div>

<div id="outline-container-orgf396020" class="outline-5">
<h5 id="orgf396020">Job Board</h5>
<div class="outline-text-5" id="text-orgf396020">
<p>
The job board is an experiment. We're hoping that we'll get enough content on it so it's useful for people looking
for OCaml positions.
</p>

<p>
To do this, we need more job posts.
</p>

<p>
If you are hiring OCaml developers, you can add your job posts here:
<a href="https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/jobs.yml">https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/jobs.yml</a>
</p>
</div>
</div>

<div id="outline-container-org9984c4d" class="outline-5">
<h5 id="org9984c4d">Blog</h5>
<div class="outline-text-5" id="text-org9984c4d">
<p>
The previous blog contained a lot of articles that had nothing to do with OCaml, as it was an unmonitored RSS/Atom
aggregator.
</p>

<p>
A long term project is to build a decentralised RSS feed for the OCaml community to publish blog posts about OCaml.
In the interim, we can keep using those RSS feeds but also list the article IDs we want to display.
</p>

<p>
If you have a blog about OCaml, you can add your RSS feed and list of articles here:
<a href="https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/news-sources.yml">https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/news-sources.yml</a>
</p>

<p>
We would also like to integrate the <a href="https://alan.petitepomme.net/cwn/index.html">Caml Weekly News</a> (which recently
celebrated its <a href="https://discuss.ocaml.org/t/twenty-years-of-ocaml-weekly-news/8869">second decade!</a>) directly onto
the main ocaml.org website.
</p>
</div>
</div>

<div id="outline-container-org3408fce" class="outline-5">
<h5 id="org3408fce">Events</h5>
<div class="outline-text-5" id="text-org3408fce">
<p>
At the moment, the Events pages lists the OCaml workshops and the Meetups.
</p>

<p>
If you're organising events, don't hesitate to put them here:
<a href="https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/meetups.yml">https://github.com/ocaml/v3.ocaml.org-server/blob/main/data/meetups.yml</a>
</p>

<p>
Perhaps we can advertise new events from the website, if that helps organising your events.
</p>
</div>
</div>

<div id="outline-container-org7065f67" class="outline-5">
<h5 id="org7065f67">Success Stories</h5>
<div class="outline-text-5" id="text-org7065f67">
<p>
In the new website, we've revamped the success stories to contain detailed company descriptions and the way they use
OCaml, including which challenges their business faced and how OCaml helped overcome them.
</p>

<p>
If you're using OCaml, you can write a success story for your business here:
<a href="https://github.com/ocaml/v3.ocaml.org-server/tree/main/data/success_stories/en">https://github.com/ocaml/v3.ocaml.org-server/tree/main/data/success_stories/en</a>
</p>
</div>
</div>

<div id="outline-container-org9e8be29" class="outline-5">
<h5 id="org9e8be29">Tutorials and Manual</h5>
<div class="outline-text-5" id="text-org9e8be29">
<p>
As mentioned above, we'll be revamping the documentation in the next few months. This is a large project with a lot
of content to write, so we'll need the community's help. If you're interesting in contributing, don't hesitate to
reach out at &lt;thibaut.mattio@gmail.com&gt; to @tmattio.
</p>

<p>
The OCaml manual in particular is rendered using the old style, and we are planning to port it to odoc in order to
fit in with the new style and also to cross-reference into the API documentation. (this requires more discussions
with the core development team, and @octachron has begun looking at it).
</p>
</div>
</div>

<div id="outline-container-orgb121b87" class="outline-5">
<h5 id="orgb121b87">Package Documentation</h5>
<div class="outline-text-5" id="text-orgb121b87">
<p>
Now that we have a great package site with documentation, it's time to write great documentation for your packages!
</p>

<p>
The <code>odoc</code> maintainers worked on some guidelines on how to write <code>odoc</code> files:
<a href="https://ocaml.github.io/odoc/odoc_for_authors.html">https://ocaml.github.io/odoc/odoc_for_authors.html</a>
</p>

<p>
We'll also be integrating toplevels for the packages you publish on Opam. It will use js_of_ocaml, so if you've
published packages that should be compatible with js_of_ocaml, you can start making sure they are before we roll out
the toplevels in the package documentation.
</p>
</div>
</div>
</div>

<div id="outline-container-org418c66b" class="outline-4">
<h4 id="org418c66b">Acknowledgements</h4>
<div class="outline-text-4" id="text-org418c66b">
<p>
Thank you to everyone who contributed to the development of this new version of the website!
</p>

<p>
In particular:
</p>

<ul class="org-ul">
<li>Ashish Agarwal (Solvuu)</li>
<li>Kanishka Azimi (Solvuu)</li>
<li>Richard Davison (Solvuu)</li>
<li>Patrick Ferris (OCaml Labs)</li>
<li>Gemma Gordon (OCaml Labs)</li>
<li>Isabella Leandersson (OCaml Labs)</li>
<li>Thibaut Mattio (Tarides)</li>
<li>Anil Madhavapeddy (University of Cambridge)</li>
</ul>

<p>
For the groundwork on rethinking the sitemap, user flows, new content, design, and frontend and package docs!
</p>

<ul class="org-ul">
<li>Jon Ludlam (OCaml Labs)</li>
<li>Jules Aguillon (Tarides)</li>
<li>Lucas Pluvinage (Tarides)</li>
</ul>

<p>
For the work on the package site infrastructure and UI!
</p>

<ul class="org-ul">
<li>Paul-Elliot Anglès d'Auriac (Tarides)</li>
</ul>

<p>
For meticulously going through the website to find issues.
</p>

<ul class="org-ul">
<li>Isabella Leandersson (OCaml Labs)</li>
<li>Asaad Mahmood (Tarides)</li>
</ul>

<p>
For the work on the designs and bringing them to life on the frontend!
</p>

<ul class="org-ul">
<li>Christine Rose (OCaml Labs)</li>
<li>Isabella Leandersson (OCaml Labs)</li>
</ul>

<p>
For the work on the new content and reviewing the existing one!
</p>

<p>
We'd also like to thank the major funders who supported work on revamping the website: grants from the Tezos
Foundation and Jane Street facilitated the bulk of the work. Thank you, and if anyone else wishes to help support it
on an ongoing basis then donations to the OCaml Software Foundation and grants to the maintenance teams mentioned
above are always welcomed.
</p>

<p>
Moving forward, updates on the v3 website will be taken over by @tmattio, who has kindly volunteered to run a
community video chat "AMA" about how you can get involved and contribute, and to give your feedback directly. He will
post here with more details when timezones are all worked out.  We would, of course, be delighted to also use other
community channels / podcasts / Twitch / Discords / etc to reach out and get feedback and ideas.
</p>

<p>
On a personal note, it's incredible to see this stream of hard work combine with the recent multicore OCaml merge to
provide a modern, welcoming interface to the new users who will appear.  I'm most excited about the future of OCaml
we are embarking on with 5.0 &#x2013; thank you to all who have been involved for being such wonderful collaborators.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">New release of Windows DKML with system compiler and easy Opam switch creation</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-new-release-of-windows-dkml-with-system-compiler-and-easy-opam-switch-creation/8918/6">https://discuss.ocaml.org/t/ann-new-release-of-windows-dkml-with-system-compiler-and-easy-opam-switch-creation/8918/6</a>
</p>
</div>

<div id="outline-container-org0d96b9c" class="outline-3">
<h3 id="org0d96b9c">jbeckford announced</h3>
<div class="outline-text-3" id="text-org0d96b9c">
<p>
v0.3.3 has been released. There are no new features for Windows but it does restore the behavior that was present in
v0.3.0 (the ANN announcement) but was broken in unannounced versions 0.3.1 and 0.3.2. It also contains a couple bug
fixes which help the installation on older Windows machines.
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Cross-compiling OCaml with GitHub Actions</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/cross-compiling-ocaml-with-github-actions/9154/1">https://discuss.ocaml.org/t/cross-compiling-ocaml-with-github-actions/9154/1</a>
</p>
</div>

<div id="outline-container-orgb99290d" class="outline-3">
<h3 id="orgb99290d">jbeckford announced</h3>
<div class="outline-text-3" id="text-orgb99290d">
<p>
For those that are interested in cross-compiling, there is:
</p>
<ul class="org-ul">
<li>a <a href="https://gitlab.com/diskuv/diskuv-ocaml/-/blob/main/.github/workflows/cross-unix.yml">GitHub Actions workflow</a> with an <a href="https://github.com/diskuv/diskuv-ocaml-ghmirror/actions/runs/1703705845">example workflow run</a> that creates an OCaml cross-compiler from:
<ol class="org-ol">
<li>macOS x86_64 host into macOS arm64 target executables (to make universal binaries, for example, on non-Apple Silicon hardware)</li>
<li>Linux x86_64 host into Android arm64 (v8)</li>
<li>Linux x86_64 host into Android arm32 (v7a)</li>
<li>Linux x86_64 host into Android x86_64</li>
</ol></li>
<li>internally there are some patches to the OCaml 4.12.1 source code to create a cross-compiling OCaml compiler</li>
<li>a document I wrote to help me understand what was happening: <a href="https://diskuv.gitlab.io/diskuv-ocaml/doc/CompilingInDepth.html">https://diskuv.gitlab.io/diskuv-ocaml/doc/CompilingInDepth.html</a></li>
</ul>

<p>
For example, the GitHub Actions workflow contains a test that illustrates how to use it. When the following is run on
64-bit AMD/Intel Ubuntu Linux:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ dist/android_arm32v7a-on-linux_x86/opt/mlcross/android_arm32v7a/bin/ocamlopt.opt <span style="color: #8b2252;">\</span>
  hello_world.ml -o hello_world.opt.exe
</pre>
</div>

<p>
the <code>hello_world.opt.exe</code> should run on Android arm32 (v7a):
</p>

<div class="org-src-container">
<pre class="src src-shell">$ file hello_world.opt.exe
hello_world.opt.exe: ELF 32-bit LSB shared object, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter
/system/bin/linker, with debug_info, not stripped
</pre>
</div>

<p>
This is just a preview and I'm not generating binary packages at the moment. But if it is useful enough to you that
you will test it out (ex. copy/paste the GitHub workflow, or do it manually on your mac or Ubuntu machine), please
tell me if you have any problems. Be aware it will likely be months before I package it up in a simpler form because
it will take time to upstream patches into the OCaml compiler trunk.
</p>

<p>
This is a continuation of the closed topic
<a href="https://discuss.ocaml.org/t/cross-compiling-implementations-how-they-work/8686">https://discuss.ocaml.org/t/cross-compiling-implementations-how-they-work/8686</a> . Thanks EduardoRFS, Antonio Nuno
Monteiro and Romain Beauxis for showing me the technique!
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">First announcement of Bechamel</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-announcement-of-bechamel/9164/1">https://discuss.ocaml.org/t/ann-first-announcement-of-bechamel/9164/1</a>
</p>
</div>

<div id="outline-container-orgf4f46f9" class="outline-3">
<h3 id="orgf4f46f9">Calascibetta Romain announced</h3>
<div class="outline-text-3" id="text-orgf4f46f9">
<p>
<b>Bechamel, an agnostic micro-benchmarking tool</b>
</p>

<p>
I'm glad to announce the release of Bechamel.0.2.0. Bechamel is a framework to do micro-benchmark. As a MirageOS project, the core library does not depends on <code>Unix</code> <span class="underline">syscalls</span> (hence the term "agnostic"). It provides:
</p>
<ul class="org-ul">
<li>an extensible way to record metrics</li>
<li>different views of results</li>
</ul>

<p>
Indeed, we know that it can be difficult to make a béchamel sauce. Adding the milk while adding the flour and mixing
it all together requires at least three hands. The observability of the operation is difficult and can therefore, in
view of our abilities, interfere with the expected result.
</p>

<p>
This is the reason why Bechamel exists. It allows to make this mixture and ensures that the results are more or less
correct. It performs the desired function in a restricted and controlled context in order to remove interference. A
touch of machine learning allows us to determine the true outcome of metrics such as time, words allocated in the
minor heap or more exotic metrics such as those available via the Linux kernel.
</p>

<p>
Finally, the presentation of the results counts as the presentation of your lasagne. Thus, Bechamel offers several
ways to present the results depending on what you want. We can offer you:
</p>
<ul class="org-ul">
<li>An interface in your terminal</li>
<li>A Web 3.0 page which is a full report of your experiment</li>
</ul>

<p>
You can see an example of this report <a href="https://mirage.github.io/bechamel/fact.html">here</a>.
</p>
</div>

<div id="outline-container-org03b6a3b" class="outline-4">
<h4 id="org03b6a3b">Extensibility of metrics</h4>
<div class="outline-text-4" id="text-org03b6a3b">
<p>
Depending on your runtime context, you can get few metrics from the kernel. For instance, Linux comes with the <code>perf</code>
tools which is able to record some metrics such as:
</p>
<ul class="org-ul">
<li>the <code>cpu-clock</code>: this reports the CPU clock, a  high-resolution  per-CPU timer.</li>
<li>the <code>page-faults</code>: this reports the number of page faults</li>
<li>etc.</li>
</ul>

<p>
They are available via the <code>bechamel-perf</code> package which can be linked with your benchmark. You can see a simple
example into the distribution: <a href="https://github.com/mirage/bechamel/blob/master/examples/sqrt.ml">sqrt.ml</a>
</p>
</div>
</div>

<div id="outline-container-org7ddd102" class="outline-4">
<h4 id="org7ddd102">The HTML output</h4>
<div class="outline-text-4" id="text-org7ddd102">
<p>
The HTML + Javascript is pretty simple to generate. Let's say that you have:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">benchmark</span> () :<span style="color: #228b22;"> (</span><span style="color: #228b22;">Bechamel_js.</span><span style="color: #228b22;">ols_result * </span><span style="color: #228b22;">Bechamel_js.</span><span style="color: #228b22;">raws) </span>=
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">ols</span> = <span style="color: #228b22;">Analyze.</span>ols <span style="color: #008b8b;">~bootstrap</span>:0 <span style="color: #008b8b;">~r_square</span>:<span style="color: #008b8b;">true</span> <span style="color: #008b8b;">~predictors</span>:<span style="color: #228b22;">Measure.</span>[| run |] <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">instances</span> = <span style="color: #228b22;">Instance.</span>[ minor_allocated; major_allocated; monotonic_clock ] <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">cfg</span> =
    <span style="color: #228b22;">Benchmark.</span>cfg <span style="color: #008b8b;">~limit</span>:2000 <span style="color: #008b8b;">~stabilize</span>:<span style="color: #008b8b;">true</span> <span style="color: #008b8b;">~quota</span>:(<span style="color: #228b22;">Time.</span>second 0.5)
      <span style="color: #008b8b;">~kde</span>:(<span style="color: #000000; background-color: #ffffff;">Some</span> 1000) () <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">raw_results</span> =
    <span style="color: #228b22;">Benchmark.</span>all cfg instances
      (<span style="color: #228b22;">Test.</span>make_grouped <span style="color: #008b8b;">~name</span>:<span style="color: #8b2252;">"factorial"</span> <span style="color: #008b8b;">~fmt</span>:<span style="color: #8b2252;">"%s %s"</span> [ test0; test1 ]) <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">results</span> = <span style="color: #228b22;">List.</span>map (<span style="color: #a020f0;">fun</span> <span style="color: #a0522d;">instance</span> -&gt; <span style="color: #228b22;">Analyze.</span>all ols instance raw_results) instances <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">results</span> = <span style="color: #228b22;">Analyze.</span>merge ols instances results <span style="color: #000000; font-weight: bold;">in</span>
  (results, raw_results)
</pre>
</div>

<p>
You just need to "emit" results into the JSON format:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">compare</span> <span style="color: #a0522d;">k0</span> <span style="color: #a0522d;">k1</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">a</span> = <span style="color: #483d8b;">ref</span> 0 <span style="color: #000000; font-weight: bold;">and</span> <span style="color: #a0522d;">b</span> = <span style="color: #483d8b;">ref</span> 0 <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #228b22;">Scanf.</span>sscanf k0 <span style="color: #8b2252;">"%s %s %d"</span> (<span style="color: #a020f0;">fun</span> <span style="color: #a0522d;">_</span> <span style="color: #a0522d;">_</span> <span style="color: #a0522d;">a'</span> -&gt; a := a');
  <span style="color: #228b22;">Scanf.</span>sscanf k1 <span style="color: #8b2252;">"%s %s %d"</span> (<span style="color: #a020f0;">fun</span> <span style="color: #a0522d;">_</span> <span style="color: #a0522d;">_</span> <span style="color: #a0522d;">b'</span> -&gt; b := b');
  <span style="color: #a52a2a;">!</span>a - <span style="color: #a52a2a;">!</span>b

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">nothing</span> <span style="color: #a0522d;">_</span> = <span style="color: #000000; background-color: #ffffff;">Ok</span> ()

<span style="color: #000000; font-weight: bold;">let</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">results</span> = benchmark () <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">results</span> =
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #228b22;">Bechamel_js</span> <span style="color: #000000; font-weight: bold;">in</span>
    emit <span style="color: #008b8b;">~dst</span>:(<span style="color: #000000; background-color: #ffffff;">Channel</span> stdout) nothing ~compare <span style="color: #008b8b;">~x_label</span>:<span style="color: #228b22;">Measure.</span>run
      <span style="color: #008b8b;">~y_label</span>:(<span style="color: #228b22;">Measure.</span>label <span style="color: #228b22;">Instance.</span>monotonic_clock)
      results <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #a020f0;">match</span> results <span style="color: #a020f0;">with</span> <span style="color: #000000; background-color: #ffffff;">Ok</span> () -&gt; () | <span style="color: #000000; background-color: #ffffff;">Error</span> (<span style="color: #000000; background-color: #ffffff;">`Msg</span> err) -&gt; <span style="color: #483d8b;">invalid_arg</span> err
</pre>
</div>

<p>
And a simple intrumentation of <code>dune</code> is enough to generate the HTML + Javascript page <span class="underline">via</span> <code>bechamel-html</code>:
</p>
<pre class="example" id="org5de10ef">
(executable
 (name fact)
 (modules fact)
 (public_name bechamel-js.examples.fact)
 (package bechamel-js)
 (libraries bechamel bechamel-js))

(rule
 (targets fact.json)
 (action
  (with-stdout-to
   %{targets}
   (run ./fact.exe))))

(rule
 (targets fact.html)
 (mode promote)
 (action
  (system "%{bin:bechamel-html} &lt; %{dep:fact.json} &gt; %{targets}")))
</pre>

<p>
You can see a full example <a href="https://github.com/mirage/bechamel/blob/master/examples/fact.ml">here</a>.
</p>
</div>

<div id="outline-container-org1b49204" class="outline-5">
<h5 id="org1b49204">Kernel Density Estimation</h5>
<div class="outline-text-5" id="text-org1b49204">
<p>
The report can show the histogram and/or the KDE of the given distribution of times to check if it's a <span class="underline">normal</span>
distribution - and ensure that the set given as arguments of our function considers all possibilities.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc64f635" class="outline-4">
<h4 id="orgc64f635">Resources</h4>
<div class="outline-text-4" id="text-orgc64f635">
<p>
The micro-benchmark can be useful to ensure assumptions about <span class="underline">syscalls</span>. But they can require some resources. In
that situation, Bechamel allows the user to define an <span class="underline">allocation</span> function which is executed before the benchmark.
</p>

<p>
This resource will be used by your test and will be released then at the end of the benchmark. For instance, Bechamel
allows to record metrics for, for instance, <a href="https://github.com/ocaml-multicore/ocaml-uring"><code>io_uring</code></a>.
</p>
</div>
</div>

<div id="outline-container-org24c86d5" class="outline-4">
<h4 id="org24c86d5">Micro-benchmark, disclaimer</h4>
<div class="outline-text-4" id="text-org24c86d5">
<blockquote>
<p>
We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all
evil &#x2013; Donald Knuth
</p>
</blockquote>

<p>
Micro-benchmark should not be an argument to micro-optimize some parts of your code. Indeed, Bechamel mostly wants to
report some observable values and ensure to avoid the Schrödinger's cat case (where the tool affect results by the
observation).
</p>

<p>
Bechamel wants to help the developper to <span class="underline">assert</span> some assumptions but it should not be an argument to say that your
implementation is faster than an other one - at least, it helps you on this way.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">An Update on the State of the PPX Ecosystem and ppxlib's Transition</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/an-update-on-the-state-of-the-ppx-ecosystem-and-ppxlib-s-transition/8200/4">https://discuss.ocaml.org/t/an-update-on-the-state-of-the-ppx-ecosystem-and-ppxlib-s-transition/8200/4</a>
</p>
</div>

<div id="outline-container-orgb5501ce" class="outline-3">
<h3 id="orgb5501ce">Continuing this thread, Sonja Heinze announced</h3>
<div class="outline-text-3" id="text-orgb5501ce">
<p>
After some while, we now have a pretty exciting update on this: the <code>ppx_import</code> port to ppxlib has been merged. So
no need for the "exception"-appendix anymore in the sentence "all packages on that list have been ported with the
exception of one". :partying_face:
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">Become an Outreachy Mentor: support the growth and diversity of the OCaml community</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/become-an-outreachy-mentor-support-the-growth-and-diversity-of-the-ocaml-community/8213/15">https://discuss.ocaml.org/t/become-an-outreachy-mentor-support-the-growth-and-diversity-of-the-ocaml-community/8213/15</a>
</p>
</div>

<div id="outline-container-org9177166" class="outline-3">
<h3 id="org9177166">Patrick Ferris announced</h3>
<div class="outline-text-3" id="text-org9177166">
<p>
<b>The call for open-source communities (and mentors for those communities) to participate in the <a href="https://www.outreachy.org/blog/2022-01-10/may-2022-call-for-mentoring-communities/">May 2022 Outreachy round has just started</a> :tada:</b>
</p>

<p>
Hopefully the OCaml community will participate again given the success of the first round and the current winter
batch. There must be some good OCaml 5 projects people are thinking about ;)) ?
</p>

<p>
By getting the ball rolling nice and early it will hopefully give more time to generate ideas and convince more
people to (co-)mentor. Please ask questions, share ideas for projects etc. on this thread. Looking forward to hearing
your ideas!
</p>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">Cmon 0.1, a printer that shares</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-cmon-0-1-a-printer-that-shares/9169/1">https://discuss.ocaml.org/t/ann-cmon-0-1-a-printer-that-shares/9169/1</a>
</p>
</div>

<div id="outline-container-org04400ed" class="outline-3">
<h3 id="org04400ed">Frédéric Bour announced</h3>
<div class="outline-text-3" id="text-org04400ed">
<p>
I am happy to announce that the first version of <a href="https://github.com/let-def/cmon">Cmon</a> is available.
</p>

<p>
Cmon stands for "CaMl Object Notation", it is a library for printing values with OCaml syntax.
</p>

<p>
The unusual feature is that the printer represents sharing by introducing let-binders. It tries to put them at
"visually pleasing" positions using the ideas described
<a href="https://def.lakaban.net/posts/2020-11-14-pretty-printing-with-dominators/">here</a>.
</p>

<p>
Printing with let-binders allow handling structures whose serialised representation is exponentially larger than the
in-memory one, or where printing wouldn't terminate because of cyclic values. It is convenient to dump the internal
state of tools that make use of sharing a lot, a situation that is common in program analysis tools.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"># #install_printer <span style="color: #228b22;">Cmon.</span>format<span style="color: #ff4500;">;;</span>
# <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #a0522d;">too_polite</span> =
    <span style="color: #a020f0;">lazy</span> <span style="color: #228b22;">Cmon.</span>(cons (string <span style="color: #8b2252;">"thank you"</span>) (of_lazy too_polite))
  <span style="color: #000000; font-weight: bold;">in</span> <span style="color: #228b22;">Cmon.</span>of_lazy too_polite<span style="color: #ff4500;">;;</span>
- : <span style="color: #228b22;">Cmon.</span>t = <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #a0522d;">v0</span> = <span style="color: #8b2252;">"thank you"</span> <span style="color: #000000; background-color: #ffffff;">::</span> v0 <span style="color: #000000; font-weight: bold;">in</span>
             v0
</pre>
</div>

<p>
The actual formatting is handled by <a href="https://github.com/fpottier/pprint">Pprint</a>.
</p>

<p>
Note that no parser is provided: it is meant only for outputting (with debugging and logging in mind). When used
carefully, copy-pasting to an OCaml top-level is enough to recover a value.
</p>

<p>
A few more examples are provided in the <a href="https://github.com/let-def/cmon/blob/master/README.md">README</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-org8db50f9" class="outline-2">
<h2 id="org8db50f9">Old CWN</h2>
<div class="outline-text-2" id="text-org8db50f9">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="orgb546168">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
