<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-07-16 Tue 08:23 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2024.07.09.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2024.07.23.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of July 09 to 16, 2024.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">OCaml FFI Sharp Edges and How to Avoid Them</a></li>
<li><a href="#2">Ortac 0.3.0 Dynamic formal verification made easy</a></li>
<li><a href="#3">dream-html and pure-html 3.5.2</a></li>
<li><a href="#4">The OCaml community is signed up for Outreachy!</a></li>
<li><a href="#5">OCaml LSP 1.18.0</a></li>
<li><a href="#6">2nd editor tooling dev-meeting: 25th of July ðŸ§™</a></li>
<li><a href="#7">A (Possibly) Safer Interface to the Ctypes FFI</a></li>
<li><a href="#8">OCaml Workshop 2024 at ICFP &#x2013; announcement and call for proposals</a></li>
<li><a href="#9">living 0.1.0</a></li>
<li><a href="#10">Other OCaml News</a></li>
<li><a href="#org8e99a77">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">OCaml FFI Sharp Edges and How to Avoid Them</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-ocaml-ffi-sharp-edges-and-how-to-avoid-them/14935/1">https://discuss.ocaml.org/t/blog-ocaml-ffi-sharp-edges-and-how-to-avoid-them/14935/1</a>
</p>
</div>

<div id="outline-container-orgb9074f1" class="outline-3">
<h3 id="orgb9074f1">Matt Walker announced</h3>
<div class="outline-text-3" id="text-orgb9074f1">
<p>
Wrote another blog post about my adventures in Godotcaml.  Check it out if you're interested in some details of memory management with a Ctypes FFI.  Would love to hear input to some of the questions asked in the post, too, if you'd like!
</p>

<p>
<a href="https://fizzixnerd.com/blog/2024-07-09-ocaml-ffi-sharp-edges-and-how-to-avoid-them/">https://fizzixnerd.com/blog/2024-07-09-ocaml-ffi-sharp-edges-and-how-to-avoid-them/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Ortac 0.3.0 Dynamic formal verification made easy</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ortac-0-3-0-dynamic-formal-verification-made-easy/14936/1">https://discuss.ocaml.org/t/ann-ortac-0-3-0-dynamic-formal-verification-made-easy/14936/1</a>
</p>
</div>

<div id="outline-container-org90c97f9" class="outline-3">
<h3 id="org90c97f9">Nicolas Osborne announced</h3>
<div class="outline-text-3" id="text-org90c97f9">
<p>
I'm very pleased to announce this exciting new release of Ortac packages!
</p>

<p>
Ortac is a set of tools for dynamic verification of Gospel formal specifications of OCaml code.
</p>

<p>
You can find the project on <a href="https://github.com/ocaml-gospel/ortac">this repo</a> and install the released packages via <code>opam</code>.
</p>

<p>
Released packages are:
</p>
<ul class="org-ul">
<li><code>ortac-core</code></li>
<li><code>ortac-runtime</code></li>
<li><code>ortac-runtime-qcheck-stm</code></li>
<li><code>ortac-qcheck-stm</code></li>
<li><code>ortac-dune</code></li>
</ul>

<p>
But running:
<code>$ opam install ortac-qcheck-stm ortac-dune</code>
should be enough to install what is necessary.
</p>

<p>
Apart from some fixes, this release brings three main improvements to the Ortac/QCheck-STM mode.
</p>

<p>
The first one is about user experience. This is a two-parts improvement as we:
</p>

<ol class="org-ol">
<li>move to a module-based configuration to reduce the number of arguments to give <code>ortac qcheck-stm</code> while increasing the flexibility of configuration (see <a href="https://ocaml-gospel.github.io/ortac/ortac-qcheck-stm/index.html">documentation</a> for more information)</li>
<li>release the Ortac/Dune plugin which generates the dune rules necessary to generate and run the tests (see <a href="https://github.com/ocaml-gospel/ortac/tree/main/plugins/dune-rules">README</a> for usage).</li>
</ol>

<p>
With these two improvements, we believe that you have a very good excuse for not writing tests: it is very easy to generate them!
</p>

<p>
The second improvement is related to the supported subset of Gospel, mainly about how you can express the logical model for your OCaml types: you don't have to limit yourself anymore to the Gospel standard library.
</p>

<p>
Finally, some work has been put on extending the coverage of the generated tests: functions without any SUT argument and functions mentioning tuples are now included in the tested values.
</p>

<p>
Happy testing!
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">dream-html and pure-html 3.5.2</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-dream-html-pure-html-3-5-2/14808/3">https://discuss.ocaml.org/t/ann-dream-html-pure-html-3-5-2/14808/3</a>
</p>
</div>

<div id="outline-container-orgf279a50" class="outline-3">
<h3 id="orgf279a50">Yawar Amin announced</h3>
<div class="outline-text-3" id="text-orgf279a50">
<p>
[ANN] dream-html &amp; pure-html 3.6.0
</p>

<p>
Hello, I am happy to announce the following changes:
</p>

<ul class="org-ul">
<li>Added some htmx attributes that had been omitted. Now as far as I can tell we have complete coverage of all core attributes, additional attributes, and those used by core extensions.</li>
<li>Add a <code>?header:bool</code> optional parameter to <code>to_xml</code> and <code>pp_xml</code> functions to conveniently render the XML header as part of the output.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">The OCaml community is signed up for Outreachy!</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/the-ocaml-community-is-signed-up-for-outreachy/13892/19">https://discuss.ocaml.org/t/the-ocaml-community-is-signed-up-for-outreachy/13892/19</a>
</p>
</div>

<div id="outline-container-orgb146e59" class="outline-3">
<h3 id="orgb146e59">Siddhi Agrawal announced</h3>
<div class="outline-text-3" id="text-orgb146e59">
<p>
I am Siddhi, an Outreachy Summer 2024 intern with the OCaml community. I am working on the <a href="https://github.com/NathanReb/ocaml-api-watch">ocaml-api-watch</a> project which is a tool that detects changes in the public API of a library and displays them in a human readable, git diff-like format so that the users and maintainers can stay on top of them. I am being mentored by @shonfeder, @NathanReb and Odinaka Joy (I am only able to mention people here) and it has been a great experience so far. 
</p>

<p>
I have linked my <a href="https://siddhiagg.wordpress.com/">blogs</a> here if you would like to know more about the project.
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">OCaml LSP 1.18.0</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-lsp-1-18-0/14952/1">https://discuss.ocaml.org/t/ann-ocaml-lsp-1-18-0/14952/1</a>
</p>
</div>

<div id="outline-container-org8bb5a4a" class="outline-3">
<h3 id="org8bb5a4a">PizieDust announced</h3>
<div class="outline-text-3" id="text-org8bb5a4a">
<p>
We are happy to announce the release of <a href="https://github.com/ocaml/ocaml-lsp/releases/tag/1.18.0">ocaml-lsp 1.18.0</a> !
</p>

<p>
<b>New Features:</b>
</p>

<p>
This release brings exciting new features such as improved hover behavior with less noisy hovers on some Parsetree nodes such as keywords, comments etc. along with support for hovering over PPX annotations and preview the generated code. This release also have support for some additional custom queries, folding <code>ifthenelse</code> expressions, a new configuration option to control dune diagnostics, improved document symbols, and fixes to a handful of issues.
</p>

<p>
Do not hesitate to report any suspicious behavior in the <a href="https://github.com/ocaml/ocaml-lsp/issues">issue tracker</a>
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">2nd editor tooling dev-meeting: 25th of July ðŸ§™</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-2nd-editor-tooling-dev-meeting-25th-of-july/14953/1">https://discuss.ocaml.org/t/ann-2nd-editor-tooling-dev-meeting-25th-of-july/14953/1</a>
</p>
</div>

<div id="outline-container-org0cb254f" class="outline-3">
<h3 id="org0cb254f">vds announced</h3>
<div class="outline-text-3" id="text-org0cb254f">
<p>
After the success of our <a href="https://discuss.ocaml.org/t/ann-first-public-editor-tooling-dev-meeting/14824">first public dev-meeting</a>, we are organizing the next one on the 25th of July at 5pm CEST.  Whether you are a long time maintainer, an occasional contributor, a new comer, or simply a curious passer-by, please feel free to attend!
</p>

<p>
âœ¨ We have two talks scheduled for this session:
</p>
<ul class="org-ul">
<li>@octachron will present his work on having structured compiler output</li>
<li>@nojb will present "typed grep" an tool used at LexiFi to search by type in the codebase.</li>
</ul>

<p>
ðŸ“‹ Meeting agenda: 
</p>
<ul class="org-ul">
<li>A tour-de-table to allow the participants that wish to do so to present themselves and mention issues / prs they are interested in.</li>
<li>Talks and Q&amp;A</li>
<li>Discuss issues and pull requests that were tagged in advance or mentioned during the tour-de-table.</li>
<li>Discuss possible alternative meeting hours.</li>
</ul>

<p>
We're looking forward to meeting you! 
</p>

<ul class="org-ul">
<li>Meeting link: <a href="https://meet.google.com/zhn-giws-gnu">https://meet.google.com/zhn-giws-gnu</a></li>
<li>Calendar event: <a href="https://calendar.google.com/calendar/event?action=TEMPLATE&amp;amp;tmeid=MzRoaTAxcXJiNmVmYzloamxjbDY3MjY1YTcgdWx5c3NlQHRhcmlkZXMuY29t&amp;amp;tmsrc=ulysse%40tarides.com">https://calendar.google.com/calendar/event?action=TEMPLATE&amp;amp;tmeid=MzRoaTAxcXJiNmVmYzloamxjbDY3MjY1YTcgdWx5c3NlQHRhcmlkZXMuY29t&amp;amp;tmsrc=ulysse%40tarides.com</a></li>
<li>Previous meeting notes are available in <a href="https://github.com/ocaml/merlin/wiki/Public-dev%E2%80%90meetings">Merlin's repository wiki</a>.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">A (Possibly) Safer Interface to the Ctypes FFI</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-a-possibly-safer-interface-to-the-ctypes-ffi/14954/1">https://discuss.ocaml.org/t/blog-a-possibly-safer-interface-to-the-ctypes-ffi/14954/1</a>
</p>
</div>

<div id="outline-container-org0030994" class="outline-3">
<h3 id="org0030994">Matt Walker announced</h3>
<div class="outline-text-3" id="text-org0030994">
<p>
Hi there, another blog post.
</p>

<p>
This time I discuss ideas for a new interface that helps localize the possibilities of errors when working with a Ctypes-style FFI.  Comment below if you like/hate it please!
</p>

<p>
<a href="https://fizzixnerd.com/blog/2024-07-11-a-possibly-safer-interface-to-the-ctypes-ffi/">https://fizzixnerd.com/blog/2024-07-11-a-possibly-safer-interface-to-the-ctypes-ffi/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">OCaml Workshop 2024 at ICFP &#x2013; announcement and call for proposals</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-workshop-2024-at-icfp-announcement-and-call-for-proposals/14371/13">https://discuss.ocaml.org/t/ocaml-workshop-2024-at-icfp-announcement-and-call-for-proposals/14371/13</a>
</p>
</div>

<div id="outline-container-org1969519" class="outline-3">
<h3 id="org1969519">Sonja Heinze announced</h3>
<div class="outline-text-3" id="text-org1969519">
<p>
The accepted talks are now public! You can find them on the <a href="https://icfp24.sigplan.org/home/ocaml-2024#program">Workshop website</a>.
</p>

<p>
We're very happy with the expected quality and diversity of talks. To give a bit of a taste via a few examples of talks that will be presented:
</p>

<ul class="org-ul">
<li>In the context of the <b>OCaml language</b>,  <span class="underline">On the design and implementation of Modular Explicits</span> will present a major and long-wanted new language feature whose PR on the compiler landed last week.</li>
<li>In the context of the <b>OCaml ecosystem</b>, <span class="underline">Opam 2.2 and beyond</span> will present technical details as well as struggles about the just-landed 2.2 release of your package manager.</li>
<li>In the context of <b>day-to-day OCaml applications</b>, <span class="underline">B Â· o Â· B, a universal &amp; secure file-transfer software in OCaml</span> will present a real-life MirageOs application.</li>
<li>In the context of <b>OCaml developer experience</b>, <span class="underline">Project-wide occurrences for OCaml, a progress report</span> will present a shiny new editor feature that makes OCaml code navigation a joy.</li>
<li>There will also be four talks in the landscapes of <b>OCaml multi-core</b> (i.e. OCaml 5).</li>
</ul>

<p>
We've given the authors a few weeks to update their abstracts and papers if they want to. At the beginning of August, the scheduled program with updated abstracts and attached papers will be on the website.
</p>

<p>
For those who haven't seen it yet: The registration for the workshops and the whole conference <a href="https://icfp24.sigplan.org/attending/registration">is open now</a>. There's currently an early bird discount, which <b>ends on August 3rd</b>.
</p>

<p>
As we've mentioned already, the in-person experience of the workshop is a very nice one, allowing everyone to interact with colleagues and the rest of the community, to chat about the talks and OCaml in general, hit up the speakers etc. However, if you're not able to make it, you'll still be able to enjoy the talks: The talks will be live-streamed, and some time later be made permanently available online.
</p>

<p>
Really, genuinely, thanks a lot to all members of the Program Committee for the very valuable reviews and interactions as well as to all the authors of all submissions!
</p>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">living 0.1.0</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-living-0-1-0/14964/1">https://discuss.ocaml.org/t/ann-living-0-1-0/14964/1</a>
</p>
</div>

<div id="outline-container-org9bc01aa" class="outline-3">
<h3 id="org9bc01aa">Matt Walker announced</h3>
<div class="outline-text-3" id="text-org9bc01aa">
<p>
I'm pleased to announce the first pre-opam version of the <code>living</code> library, currently available only on GitHub for testing.  I have some basic tests and a README explaining what it's for, but basically, it prevents mistakes like 
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Ctypes</span>

<span style="color: #4f677f; font-style: italic;">(** Returns a pointer into the argument character string that points to the first</span>
<span style="color: #4f677f; font-style: italic;">    instance of the argument character. *)</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">strchr</span> :<span style="color: #444fcf;"> char ptr -&gt; char -&gt; char ptr </span>= 
  <span style="color: #444fcf;">Foreign.</span>foreign <span style="color: #ca3400;">"strchr"</span> (ptr char <span style="color: #a52a2a;">@-&gt;</span> char <span style="color: #a52a2a;">@-&gt;</span> returning (ptr char))

<span style="color: #000000; font-weight: bold;">let</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">p</span> = <span style="color: #444fcf;">CArray.</span>start (<span style="color: #444fcf;">CArray.</span>of_string <span style="color: #ca3400;">"abc"</span>) <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">q</span> = strchr p <span style="color: #ca3400;">'a'</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> () = <span style="color: #444fcf;">Gc.</span>compact () <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">c</span> = <span style="color: #a52a2a;">!@</span> q <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #006f00; font-weight: bold;">if</span> <span style="color: #444fcf;">Char.</span>(equal c <span style="color: #ca3400;">'a'</span>) <span style="color: #006f00; font-weight: bold;">then</span> print_endline <span style="color: #ca3400;">"yay!"</span> <span style="color: #006f00; font-weight: bold;">else</span> print_endline <span style="color: #ca3400;">"boo!"</span>
</pre>
</div>

<p>
above from causing you pain.  If you weren't aware, the code above will almost always print "boo!".  Using `living`, you can replace it with this code:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Living</span>
<span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Living_ctypes</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">strchr</span>  :<span style="color: #444fcf;"> char ptr -&gt; char -&gt; char ptr </span><span style="color: #444fcf;">Living_core.</span><span style="color: #444fcf;">t </span>= 
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">strchr_unsafe</span> = <span style="color: #444fcf;">Foreign.</span>foreign <span style="color: #ca3400;">"strchr"</span> (ptr char <span style="color: #a52a2a;">@-&gt;</span> char <span style="color: #a52a2a;">@-&gt;</span> returning (ptr char)) <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">s</span> <span style="color: #007a9f;">c</span> -&gt; <span style="color: #444fcf;">Living_core.</span>(strchr_unsafe s c =&gt; s)

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">_</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Living_core.Let_syntax</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">p</span> = <span style="color: #444fcf;">CArray.</span>start (<span style="color: #444fcf;">CArray.</span>of_string <span style="color: #ca3400;">"abc"</span>) <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">q</span> = strchr p <span style="color: #ca3400;">'a'</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> () = <span style="color: #444fcf;">Gc.</span>compact () <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">c</span> = <span style="color: #a52a2a;">!@</span> q <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #006f00; font-weight: bold;">if</span> <span style="color: #444fcf;">Char.</span>(equal c <span style="color: #ca3400;">'a'</span>) <span style="color: #006f00; font-weight: bold;">then</span> print_endline <span style="color: #ca3400;">"yay!"</span> <span style="color: #006f00; font-weight: bold;">else</span> print_endline <span style="color: #ca3400;">"boo!"</span>
  <span style="color: #444fcf;">Living_core.</span>return ()
</pre>
</div>

<p>
and it will always print "yay!"
</p>

<p>
Edit: should probably link to it!
</p>

<p>
<a href="https://github.com/Fizzixnerd/ocaml-living">https://github.com/Fizzixnerd/ocaml-living</a>
</p>
</div>
</div>
</div>




<div id="outline-container-10" class="outline-2">
<h2 id="10">Other OCaml News</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orgf5520e0" class="outline-3">
<h3 id="orgf5520e0">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-orgf5520e0">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://signals-threads.simplecast.com/episodes/from-the-lab-to-the-trading-floor-with-erin-murphy-hD6GHMhc">From the Lab to the Trading Floor with Erin Murphy</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org8e99a77" class="outline-2">
<h2 id="org8e99a77">Old CWN</h2>
<div class="outline-text-2" id="text-org8e99a77">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="orge0fa0d8">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
