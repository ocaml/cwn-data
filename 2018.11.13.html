<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-11-13 Tue 10:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2018.11.06.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2018.11.20.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of November 06 to 13, 2018.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Dune 1.5.0</a></li>
<li><a href="#2">Jerboa 0.1 (Web framework) and SandDB 0.2 (Database)</a></li>
<li><a href="#3">Static website generators?</a></li>
<li><a href="#4">The Ray Tracer Challenge</a></li>
<li><a href="#5">Deprecating -annot</a></li>
<li><a href="#6">Ocaml Github Pull Requests</a></li>
<li><a href="#7">Other OCaml News</a></li>
<li><a href="#org28a1b95">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orge029ca4" class="outline-2">
<h2 id="1"><a id="orge029ca4"></a>Dune 1.5.0</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-dune-1-5-0/2837/1">https://discuss.ocaml.org/t/ann-dune-1-5-0/2837/1</a>
</p>
</div>

<div id="outline-container-org51813fa" class="outline-3">
<h3 id="org51813fa">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-org51813fa">
<p>
On behalf of the dune team, I'm pleased to announce the 1.5.0 release of dune. This release does not contain any major features, but it does contain a few notable bug fixes and a couple of useful little additions. First of all, <code>$ dune exec</code> now supports <code>C-c</code> again - I know this affected many of you. This releases introduces a couple of new aliases that will hopefully find their way into your workflows.
</p>

<p>
The first alias is <code>@all</code> and has been much requested by our users. Roughly speaking, <code>$ dune build @dir/all</code> will build all user defined targets in a the directory <code>dir</code>. This would include binaries, libraries, and user defined targets in <code>dir</code>. This alias should have been the defaulted instead of <code>@install</code> when running <code>$ dune build</code>, but we'll have to wait until dune 2.0 to make this compatibility breaking change. In the mean time, I highly recommend everyone to use <code>$ dune build @all</code> instead of <code>$ dune build</code> meanwhile. You may also set the default alias per project as well:
</p>

<pre class="example">
(alias
 (name default)
 (deps (alias_rec all)))
</pre>

<p>
The second new alias is <code>@check</code>. It is inspired by cargo's <code>check</code> subcommand and roughly corresponds to type checking the project and building all artifacts necessary for editor integration - cmt, cmti's, .merlin, etc. This is the fastest target to verify that a project is in a valid state. Note that this alias will not relink binaries so it might not catch errors such as missing stubs. I find this alias handy when doing large, type driven refactoring of a codebase.
</p>

<p>
The rest of the change log is replicated below. Happy hacking!
</p>
</div>

<div id="outline-container-org906400a" class="outline-4">
<h4 id="org906400a">1.5.0 (1/11/2018)</h4>
<div class="outline-text-4" id="text-org906400a">
<ul class="org-ul">
<li>Filter out empty paths from <code>OCAMLPATH</code> and <code>PATH</code> (#1436, @rgrinberg)</li>

<li>Do not add the <code>lib.cma.js</code> target in lib's directory. Put this target in a
sub directory instead. (#1435, fix #1302, @rgrinberg)</li>

<li>Install generated OCaml files with a <code>.ml</code> rather than a <code>.ml-gen</code> extension
(#1425, fix #1414, @rgrinberg)</li>

<li>Allow to use the <code>bigarray</code> library in &gt;= 4.07 without ocamlfind and without
installing the corresponding <code>otherlib</code>. (#1455, @nojb)</li>

<li>Add <code>@all</code> alias to build all targets defined in a directory (#1409, fix
#1220, @rgrinberg)</li>

<li>Add <code>@check</code> alias to build all targets required for type checking and tooling
support. (#1447, fix #1220, @rgrinberg)</li>

<li>Produce the odoc index page with the content wrapper to make it consistent
with odoc's theming (#1469, @rizo)</li>

<li>Unblock signals in processes started by dune (#1461, fixes #1451,
@diml)</li>

<li>Respect <code>OCAMLFIND_TOOLCHAIN</code> and add a <code>toolchain</code> option to contexts in the
workspace file. (#1449, fix #1413, @rgrinberg)</li>

<li>Fix error message when using <code>copy_files</code> stanza to copy files from
a non sub directory with lang set to dune &lt; 1.3 (#1486, fixes #1485,
@NathanReb)</li>

<li>Install man pages in the correct subdirectory (#1483, fixes #1441, @emillon)</li>

<li>Fix version syntax check for <code>test</code> stanza's <code>action</code> field. Only
emits a warning for retro-compatibility (#1474, fixes #1471,
@NathanReb)</li>

<li>Fix interpretation of paths in <code>env</code> stanzas (#1509, fixes #1508, @diml)</li>

<li>Add <code>context_name</code> expansion variable (#1507, @rgrinberg)</li>

<li>Use shorter paths for generated on-demand ppx drivers. This is to
help Windows builds where paths are limited in length (#1511, fixes
#1497, @diml)</li>

<li>Fix interpretation of environment variables under <code>setenv</code>. Also forbid
dynamic environment names or values (#1503, @rgrinberg).</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-org5994726" class="outline-2">
<h2 id="2"><a id="org5994726"></a>Jerboa 0.1 (Web framework) and SandDB 0.2 (Database)</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-jerboa-0-1-web-framework-and-sanddb-0-2-database/2845/1">https://discuss.ocaml.org/t/ann-jerboa-0-1-web-framework-and-sanddb-0-2-database/2845/1</a>
</p>
</div>

<div id="outline-container-orge2d8e03" class="outline-3">
<h3 id="orge2d8e03">Tóth Róbert announced</h3>
<div class="outline-text-3" id="text-orge2d8e03">
</div>
<div id="outline-container-org7a987eb" class="outline-4">
<h4 id="org7a987eb">Jerboa 0.1</h4>
<div class="outline-text-4" id="text-org7a987eb">
<p>
Today I published <a href="https://github.com/StrykerKKD/Jerboa">Jerboa</a> on opam, which is a minimalistic web framework.
The main goals of the project is to make a framework, which is
</p>
<ul class="org-ul">
<li>Small and Minimalistic, so it's easy to understand</li>
<li>Flexible, so it doesn't get in your way</li>
<li>Easy to use, which means that you only need to understand the basic building blocks to use it</li>
</ul>

<p>
The framework has still a long way to go and it's not as feature rich as <a href="https://github.com/rgrinberg/opium">opium</a> at the moment.
What's missing currently that will be worked on:
</p>
<ul class="org-ul">
<li>HTTPS support</li>
<li>Nice way to serve static files</li>
<li>Security wise covering the owasp top 10 list</li>
<li>Authentication</li>
</ul>

<p>
Off Topic: Currently the framework is built on top of cohttp, but I was thinking about trying out httpaf also, but the inactive status of the project worries me.
</p>
</div>
</div>

<div id="outline-container-org5abf802" class="outline-4">
<h4 id="org5abf802">SandDB 0.2</h4>
<div class="outline-text-4" id="text-org5abf802">
<p>
I published this update on <a href="https://github.com/StrykerKKD/SandDB">SandDB</a> one moth ago and it was mainly a fixing and refactoring release, which included:
</p>
<ul class="org-ul">
<li>Using dune instead of jbuilder</li>
<li>Switching to opam 2.0</li>
<li>Renaming a bunch of module</li>
<li>Refactoring out the implementation details into non-visible modules</li>
<li>Using Set instead of a List for filtering out non-visible records</li>
<li>Adding online documentation via github pages</li>
</ul>

<p>
For future releases I will concentrate on adding:
</p>
<ul class="org-ul">
<li>Forward and Backward streams</li>
<li>Generic database and serializer interface</li>
<li>Making the database id customizable</li>
</ul>

<p>
Links to projects: <br />
Jerboa: <a href="https://github.com/StrykerKKD/Jerboa">https://github.com/StrykerKKD/Jerboa</a> <br />
SandDB: <a href="https://github.com/StrykerKKD/SandDB">https://github.com/StrykerKKD/SandDB</a>
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org2f49b27" class="outline-2">
<h2 id="3"><a id="org2f49b27"></a>Static website generators?</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/static-website-generators/2839/1">https://discuss.ocaml.org/t/static-website-generators/2839/1</a>
</p>
</div>

<div id="outline-container-orgbbae176" class="outline-3">
<h3 id="orgbbae176">Perry E. Metzger asked</h3>
<div class="outline-text-3" id="text-orgbbae176">
<p>
Are there any static site generators people particularly like that are written in OCaml?
</p>
</div>
</div>


<div id="outline-container-org7e25d7d" class="outline-3">
<h3 id="org7e25d7d">Xavier Van de Woestyne replied</h3>
<div class="outline-text-3" id="text-org7e25d7d">
<p>
Hi ! I know :
</p>
<ul class="org-ul">
<li><a href="https://github.com/Armael/stone">https://github.com/Armael/stone</a></li>
<li><a href="https://www.good-eris.net/stog/">https://www.good-eris.net/stog/</a></li>
</ul>

<p>
Personnaly, I use Hakyll (in Haskell).
</p>
</div>
</div>


<div id="outline-container-org025fdb0" class="outline-3">
<h3 id="org025fdb0">Armael then said</h3>
<div class="outline-text-3" id="text-org025fdb0">
<p>
&gt; <a href="https://github.com/Armael/stone">https://github.com/Armael/stone</a>
</p>

<p>
I wouldn't particularly recommend using it; it is quite basic, and I'm not convinced by its design anymore. It should still work though (I use it for my webpage).
</p>
</div>
</div>


<div id="outline-container-org87e9938" class="outline-3">
<h3 id="org87e9938">Calascibetta Romain also replied</h3>
<div class="outline-text-3" id="text-org87e9938">
<p>
<a href="https://github.com/Engil/Canopy.git/">Canopy</a> is a PoC which uses MirageOS's framework. It stills experimental and you need to pin <code>irmin</code> and a branch of it but it works :slight_smile: ! If you are interesting by it, we can do something to be usable by people.
</p>
</div>
</div>


<div id="outline-container-orgd154342" class="outline-3">
<h3 id="orgd154342">Hannes Mehnert then added</h3>
<div class="outline-text-3" id="text-orgd154342">
<p>
I use Canopy on <a href="https://hannes.nqsb.io">https://hannes.nqsb.io</a> (with an old irmin, and some branch of Canopy). Once irmin 2.0 is released, this should be in a better shape :)
</p>

<p>
Canopy itself uses omd (<a href="https://github.com/ocaml/omd/">https://github.com/ocaml/omd/</a>); other generators are <a href="https://github.com/mirage/ocaml-cow/">https://github.com/mirage/ocaml-cow/</a> (IIUC deprecated, but still used for mirage.io) and <a href="https://github.com/samoht/ramen">https://github.com/samoht/ramen</a>
</p>
</div>
</div>


<div id="outline-container-orgb8d9273" class="outline-3">
<h3 id="orgb8d9273">Marcus also replied</h3>
<div class="outline-text-3" id="text-orgb8d9273">
<p>
Logarion is written in Ocaml.
</p>

<p>
<a href="https://logarion.orbitalfox.eu/start-your-own-logarion-archive.html">https://logarion.orbitalfox.eu/start-your-own-logarion-archive.html</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org0317c0f" class="outline-2">
<h2 id="4"><a id="org0317c0f"></a>The Ray Tracer Challenge</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/the-ray-tracer-challenge/2853/1">https://discuss.ocaml.org/t/the-ray-tracer-challenge/2853/1</a>
</p>
</div>

<div id="outline-container-org62b7da9" class="outline-3">
<h3 id="org62b7da9">Przemek announced</h3>
<div class="outline-text-3" id="text-org62b7da9">
<p>
There is a nice, language-agnostic book about ray tracing called "The Ray Tracer Challenge"
<a href="https://pragprog.com/book/jbtracer/the-ray-tracer-challenge">https://pragprog.com/book/jbtracer/the-ray-tracer-challenge</a>
I think it makes good case for learning a new language, so I share what I got so far in OCaml:
<a href="https://github.com/CGenie/ray-tracer">https://github.com/CGenie/ray-tracer</a>
</p>
</div>
</div>


<div id="outline-container-org667f256" class="outline-3">
<h3 id="org667f256">Igarnier then saide</h3>
<div class="outline-text-3" id="text-org667f256">
<p>
Hi, thanks, this is a cool idea!
In case it is of interest to you, I recently published an old implementation of a toy raytracer here (in lib_test): <a href="https://github.com/igarnier/bih">https://github.com/igarnier/bih</a>
It uses an acceleration structure called the bounding interval hierarchy, that had its moment circa ~2007 and which could be of independent interest.
</p>
</div>
</div>
</div>




<div id="outline-container-org30b743c" class="outline-2">
<h2 id="5"><a id="org30b743c"></a>Deprecating -annot</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2018-11/msg00008.html">https://sympa.inria.fr/sympa/arc/caml-list/2018-11/msg00008.html</a>
</p>
</div>

<div id="outline-container-org66848aa" class="outline-3">
<h3 id="org66848aa">Nicolás Ojeda Bär announced</h3>
<div class="outline-text-3" id="text-org66848aa">
<p>
In the last caml-devel meeting it was decided to deprecate .annot
files and the -annot switch. This is currently being worked on at
<a href="https://github.com/ocaml/ocaml/pull/2141">https://github.com/ocaml/ocaml/pull/2141</a>.
</p>

<p>
Note this does NOT mean that .annot files will be going away anytime
soon. Rather it means that technical decisions will be taken with the
understanding that it is a legacy functionality and it may go away at
some point in the future.
</p>

<p>
The main reason for the deprecation is that it is superseded by
.cmt-based infrastructure (as exploited by e.g. merlin, ocp-index,
etc).
</p>

<p>
To have a more accurate picture of the impact of the deprecation and
eventual removal of this feature, we would love to hear from the
community if you are still using .annot files and, if yes, whether
migrating to a .cmt-based solution would present a problem.
</p>
</div>
</div>


<div id="outline-container-org3e06f61" class="outline-3">
<h3 id="org3e06f61">Boris Yakobowski replied</h3>
<div class="outline-text-3" id="text-org3e06f61">
<p>
I was thinking about the good old .annot days (finally, type information in
emacs!), as well as of the not-so-good-ones (generation of the .annot file
that took longer than the compilation of the file). By large, .cmt files
have been a improvement in my experience.
</p>

<p>
That being said, there is one use of .annot files that I have not been able
to port to .cmt files: finding (unsafe) uses of Pervasives.compare or
Pervasives.equal in a codebase. My workflow is as follow:
</p>
<ul class="org-ul">
<li>generate the .annot files</li>
<li>grep for Pervasives.( = )  or Pervasives.compare with sufficient context</li>
<li>dismiss all calls that occur on a basic type (typically scalars)</li>
<li>check all remaining calls for an use on an abstract or possible-cyclic type</li>
</ul>

<p>
Clearly this process is not exactly efficient, and would be much better
handled by a compiler warning &#x2013; especially since the compiler would be
able to notice type equalities such as t = int coming from the context. So
this message must not be understood as a real suggestion to keep .annot
file in the end :)
</p>
</div>
</div>
</div>




<div id="outline-container-orgd89967c" class="outline-2">
<h2 id="6"><a id="orgd89967c"></a>Ocaml Github Pull Requests</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org74d929a" class="outline-3">
<h3 id="org74d929a">Gabriel Scherer and the editor compiled this list</h3>
<div class="outline-text-3" id="text-org74d929a">
<p>
Here is a sneak peek at some potential future features of the Ocaml
compiler, discussed by their implementers in these Github Pull Requests.
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/pull/2137">Add Exn module</a></li>
<li><a href="https://github.com/ocaml/ocaml/pull/2141">Deprecate -annot</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgda0c687" class="outline-2">
<h2 id="7"><a id="orgda0c687"></a>Other OCaml News</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org7aa61ff" class="outline-3">
<h3 id="org7aa61ff">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-org7aa61ff">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="http://www.ocamlpro.com/2018/11/08/first-open-source-release-of-tzscan/">First Open-Source Release of TzScan</a></li>
<li><a href="http://www.ocamlpro.com/2018/11/06/liquidity-tutorial-a-game-with-an-oracle-for-random-numbers/">Liquidity Tutorial: A Game with an Oracle for Random Numbers</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org28a1b95" class="outline-2">
<h2 id="org28a1b95">Old CWN</h2>
<div class="outline-text-2" id="text-org28a1b95">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
