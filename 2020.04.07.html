<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-04-07 Tue 09:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.03.31.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.04.14.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of March 31 to April 07, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Making a music player in OCaml</a></li>
<li><a href="#2">The end of Camlp4</a></li>
<li><a href="#3">OCamlformat 0.14.0</a></li>
<li><a href="#4">ML Family Workshop 2020: Call for presentations</a></li>
<li><a href="#5">Announcing Sek, an efficient implementation of sequences</a></li>
<li><a href="#6">Announcing dune-deps: produces a project-centric dependency graph</a></li>
<li><a href="#7">OCaml Users and Developers Meeting 2020</a></li>
<li><a href="#org87f17d8">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org676912d" class="outline-2">
<h2 id="1">Making a music player in OCaml</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/making-a-music-player-in-ocaml/5413/1">https://discuss.ocaml.org/t/making-a-music-player-in-ocaml/5413/1</a>
</p>
</div>

<div id="outline-container-org1cf6621" class="outline-3">
<h3 id="org1cf6621">Dracose asked</h3>
<div class="outline-text-3" id="text-org1cf6621">
<p>
I'm interested in making my own music player in OCaml so I wanted to know
whether there were any existing ones and/or examples of how to make one. Bear in
mind, I am interested in the actual logic of how to read a music file (or a
playlist) and listening to it, rather than the front-end part of a music player.
(My knowledge of OCaml is intermediate)
</p>
</div>
</div>


<div id="outline-container-org7a1e076" class="outline-3">
<h3 id="org7a1e076">Thomas Blanc suggested</h3>
<div class="outline-text-3" id="text-org7a1e076">
<p>
You want to check <a href="https://github.com/savonet/liquidsoap">https://github.com/savonet/liquidsoap</a>
</p>
</div>
</div>


<div id="outline-container-org7f53389" class="outline-3">
<h3 id="org7f53389">Yotam Barnoy then said</h3>
<div class="outline-text-3" id="text-org7f53389">
<p>
Wow @PatJ I didn't know about liquidsoap. I added it to ocamlverse. This is what we have for the audio page now, in
case it's helpful to the OP: <a href="https://ocamlverse.github.io/content/audio.html">https://ocamlverse.github.io/content/audio.html</a>
</p>
</div>
</div>


<div id="outline-container-org4a0f810" class="outline-3">
<h3 id="org4a0f810">gndl also replied</h3>
<div class="outline-text-3" id="text-org4a0f810">
<p>
I experimented with several solutions in the <a href="https://github.com/gndl/playo">playo</a> project.
One of the possible solutions is to use <a href="https://github.com/savonet/ocaml-gstreamer">ocaml-gstreamer</a>.
If you find that the gstreamer framework is too annoying (which I can understand :-), you can use
<a href="https://github.com/savonet/ocaml-ffmpeg">ocaml-ffmpeg</a>. note however that, in the latest version of ocaml-ffmpeg,
the audio device output <a href="https://github.com/savonet/ocaml-ffmpeg/issues/32">no longer works</a>. To overcome this
drawback, you can use <a href="https://github.com/savonet/ocaml-portaudio">ocaml-portaudio</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-org85cff6b" class="outline-2">
<h2 id="2">The end of Camlp4</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/the-end-of-camlp4/4216/96">https://discuss.ocaml.org/t/the-end-of-camlp4/4216/96</a>
</p>
</div>

<div id="outline-container-orgd3c51fa" class="outline-3">
<h3 id="orgd3c51fa">Continuing this old thread, Chet Murthy announced</h3>
<div class="outline-text-3" id="text-orgd3c51fa">
<p>
Perhaps worth mentioning briefly that for anybody who -wants- to continue using camlp4, I'm (a) maintaining camlp5
and bringing it up-to-date with everything in ocaml 4.10.0 that I can think of, and (b) I'd be happy to help them
port their dependency over to camlp5.
</p>

<p>
This is not to be construed as an argument for using camlp4/5.
</p>
</div>
</div>
</div>




<div id="outline-container-orgde267b0" class="outline-2">
<h2 id="3">OCamlformat 0.14.0</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocamlformat-0-14-0/5435/1">https://discuss.ocaml.org/t/ann-ocamlformat-0-14-0/5435/1</a>
</p>
</div>

<div id="outline-container-org4ac09c4" class="outline-3">
<h3 id="org4ac09c4">Etienne Millon announced</h3>
<div class="outline-text-3" id="text-org4ac09c4">
<p>
On behalf of the development team, I'd like to announce the release of ocamlformat version 0.14.0 :tada:.
</p>

<p>
Here are the main highlights of this release:
</p>
</div>

<div id="outline-container-org928a838" class="outline-4">
<h4 id="org928a838">Support for OCaml 4.10</h4>
<div class="outline-text-4" id="text-org928a838">
<p>
This means both that it compiles and runs using this version, but also that it can format 4.10-specific language
features (<code>module _</code> and multi-indices operators).
</p>
</div>
</div>

<div id="outline-container-orgd6de83e" class="outline-4">
<h4 id="orgd6de83e">Preliminary support for invalid files</h4>
<div class="outline-text-4" id="text-orgd6de83e">
<p>
As OCamlformat operates on ASTs, it normally requires a valid input file. This release adds a
<code>--format-invalid-files</code> option to detect invalid parts and print them verbatim. This feature is still experimental.
</p>
</div>
</div>

<div id="outline-container-orgfc2c03e" class="outline-4">
<h4 id="orgfc2c03e">Preserving more concrete syntax</h4>
<div class="outline-text-4" id="text-orgfc2c03e">
<p>
Starting with this release, OCamlformat is going to preserve more concrete syntax. For example, <code>module M = functor
(K : S) -&gt; struct end</code> and <code>module M (K : S) = struct end</code> are equivalent. In the past, both variants would be
formatted as the latter. Now, the original syntax is preserved. In some cases, preserving was possible through the
means of an option: for example, to choice between <code>let%name x = e in body</code> and <code>[%name let x = e in body]</code>, was
controlled by the <code>extension-sugar</code> option. This option is now deprecated and OCamlformat will now always preserve
what was in the source file (this was the default behaviour).
</p>

<p>
Similarly, it was possible to control how special characters are escaped in string and character literals through the
<code>escape-strings</code> and <code>escape-chars</code> options. They are being deprecated and the only possible behavior will be
preserving the concrete syntax (as done by default).
</p>

<p>
The reason for this change is that we feel that ocamlformat should be just about formatting. The fact that this
behavior was configurable is in part due to the fact that it operates on OCaml ASTs, but end users should not have to
be surprised by their code being transformed on reformatting.
</p>

<p>
In the future, we plan to extend that to other similar constructs, such as using <code>(~/</code>)~ or <code>begin~/~end</code>, or spacing
between module items.
</p>
</div>
</div>

<div id="outline-container-org9f36982" class="outline-4">
<h4 id="org9f36982">Placement of doc comments</h4>
<div class="outline-text-4" id="text-org9f36982">
<p>
Placing doc comments <code>(** ... *)</code> is controlled by the <code>doc-comments</code> configuration option. It is always possible to
put them before the item they refer to, and this is what the <code>doc-comments=before</code> option does. The alternative
<code>doc-comments=after</code> will try to do its best to put them after, but in some cases it is not possible. For example, in
a variant type declaration, a doc-comment put immediately after will be attached to the last constructor by
documentation tools. Ocamlformat needs to preserve the meaning of programs, so in these cases, it will instead put
the comment before. In the case of
<code>module</code> declarations, putting the comment after might not be very useful if the corresponding module is very large.
</p>

<p>
This requires a complex rule to determine which comments will be put before and which comments will be put after. So
in this version, we are deprecating this mechanism and replacing it with a simpler one
controlled by <code>doc-comments-val</code> that applies only to <code>val</code> and <code>external</code> items. For these items, it is always
possible to attach documents before or after them. For all other items, like type or module declarations, the doc
comments will consistenly be put before.
</p>
</div>
</div>

<div id="outline-container-org1b5e326" class="outline-4">
<h4 id="org1b5e326">Many bugs found by fuzzing</h4>
<div class="outline-text-4" id="text-org1b5e326">
<p>
We hooked ocamlformat to AFL, looking for programs that parse correctly but trigger errors during formatting. This
approach worked very well and more than 20 logical bugs were found with this
technique.
</p>
</div>
</div>

<div id="outline-container-orgb49fea6" class="outline-4">
<h4 id="orgb49fea6">Upgrading</h4>
<div class="outline-text-4" id="text-orgb49fea6">
<p>
To upgrade from ocamlformat 0.13.0, one needs to upgrade the ocamlformat binary and replace the <code>version</code> field in
<code>.ocamlformat</code> files by <code>0.14.0</code> and then:
</p>

<ul class="org-ul">
<li>if you used <code>doc-comments=after</code>, you can replace it by <code>doc-comments-val=after</code>.
This will move doc-comments on module items except <code>val</code> and <code>external</code> ones.</li>
<li>if you used <code>doc-comments=before</code>, you can remove it as it is now the default.</li>
<li>if you set <code>escape-chars=preserve</code>, <code>escape-strings=preserve</code>, or <code>extension-sugar=preserve</code> explicitly, you can</li>
</ul>
<p>
remove them safely (they were the default)
</p>
<ul class="org-ul">
<li>if you used another value for one of these options (such as <code>escape-strings=hexadecimal</code>), you will need to remove them as well. This will not trigger a diff, but ocamlformat will not enforce a particular concrete syntax for new code.</li>
</ul>
</div>
</div>

<div id="outline-container-orgcf68c4d" class="outline-4">
<h4 id="orgcf68c4d">A note for new users</h4>
<div class="outline-text-4" id="text-orgcf68c4d">
<p>
We encourage you to try ocamlformat, that can be installed from opam directly (<code>opam install ocamlformat</code>), but
please remember that it is still beta software. We added a <a href="https://github.com/ocaml-ppx/ocamlformat#faq-for-new-users">FAQ for new
users</a> that should help you decide if ocamlformat is the
right choice for you.
</p>
</div>
</div>
</div>


<div id="outline-container-org4752f57" class="outline-3">
<h3 id="org4752f57">Etienne Millon later added</h3>
<div class="outline-text-3" id="text-org4752f57">
<p>
This upgrade is likely to generate a huge diff on projects that use the default profile, so I would like to expand a
bit on the reason.
</p>

<p>
According to <a href="https://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#ss:ocamldoc-placement">the syntax rules used by the ocaml
tools</a> (the ocaml compilers,
ocamldoc, odoc), it is always possible to put the doc-comment before an item.
</p>

<p>
Some teams prefer to put the documentation after. But that is not always possible. For example, <code>type t = A | B (** doc *)</code> will attach the doc-comment to <code>B</code>, not to <code>t</code>. The only way to attach the comment to <code>t</code> is by putting the comment before.
</p>

<p>
Enter ocamlformat: doc-comment placement is controlled by an option with two values, <code>before</code> or <code>after</code>. <code>before</code>
will always place the comment before. <code>after</code> determines if it is possible to put the comment after, and if it is
not, will put it before.
</p>

<p>
Some items cannot have comments after, like variant types (as described above). But there is another reason not to
put comments after. In some cases, that can put the comment far from the thing it is documenting. Considering
modules, the following is nice:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">module</span> <span style="color: #228b22;">M</span> = <span style="color: #228b22;">L.M</span>
<span style="color: #8b2252;">(** doc *)</span>
</pre>
</div>

<p>
But this is not great is the structure is large:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">module</span> <span style="color: #228b22;">M</span> = <span style="color: #000000; font-weight: bold;">struct</span>
  ...
  ...
<span style="color: #000000; font-weight: bold;">end</span>
<span style="color: #8b2252;">(** doc *)</span>
</pre>
</div>

<p>
To summarize, when ocamlformat is configured to put comments after, it has to follow a complex heuristic to determine
whether it has to fallback to before. In the case of a module, it depends on its shape, how many functor arguments
are there, this kind of things (for various reasons, we don't know how large something is going to be in advance, so
we have to look at its shape). The point is that it is complicated to understand and explain, and that fixing it
always makes it more complex. Another aspect is that in the end, we want ocamlformat to be pretty stable when it
reaches 1.0.0, and complex rules are at odds with this goal.
</p>

<p>
So, we have decided to simplify the rule: instead of looking deep in the AST, we just look at the kind of item this
is. For <code>val</code> and <code>external</code> items, it is always possible to put the doc-comment after, so we follow exactly what the
configuration option says.
</p>

<p>
As a user of the default profile, what this means for you: for items that are not <code>val</code> or <code>external</code>, and considered
"simple" by the 0.13.0 heuristic, doc-comments are going to move from after to before.
</p>

<p>
Based on these reasons, you will understand that <code>before</code> is always simpler. You can opt into this by setting
<code>doc-comments-val=before</code>. This will cause an even larger diff as all items are going to move before (that is: all
items described just above, plus <code>val</code> and <code>external</code> items), but the rule gets extremely simple (everything is put
before). It is possible that this option will become the default in the future, but we have not decided this yet (in
this case, if you did not opt into it, you will see comments on <code>val</code> and <code>external</code> items move at that time).
</p>
</div>
</div>
</div>




<div id="outline-container-org9927643" class="outline-2">
<h2 id="4">ML Family Workshop 2020: Call for presentations</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ml-family-workshop-2020-call-for-presentations/5441/1">https://discuss.ocaml.org/t/ml-family-workshop-2020-call-for-presentations/5441/1</a>
</p>
</div>

<div id="outline-container-orge950487" class="outline-3">
<h3 id="orge950487">Leo White announced</h3>
<div class="outline-text-3" id="text-orge950487">
<p>
We are happy to invite submissions to the ML Family Workshop 2020,
to be held during the ICFP conference week on Thursday,
August 27th.
</p>

<p>
The ML family workshop warmly welcomes submission touching
on the programming languages traditionally seen as part of the
"ML family" (Standard ML, OCaml, F#, CakeML, SML#, Manticore,
MetaOCaml, etc.). The scope of the workshop includes all aspects
of the design, semantics, theory, application, implementation,
and teaching of the members of the ML family. We also encourage
presentations from related languages (such as Haskell, Scala,
Rust, Nemerle, Links, Koka, F*, Eff, ATS, etc), to exchange
experience of further developing ML ideas.
</p>

<p>
Currently, the workshop is still scheduled to go ahead as planned
in Jersey City, however it is likely that the ML workshop will
end up being a virtual workshop this year. Either way provisions
will be made to allow speakers to present their work remotely.
</p>

<p>
See our detailed CFP online on the ICFP website:
</p>

<p>
<a href="https://icfp20.sigplan.org/home/mlfamilyworkshop-2020">https://icfp20.sigplan.org/home/mlfamilyworkshop-2020</a>
</p>
</div>

<div id="outline-container-org7968106" class="outline-4">
<h4 id="org7968106">Important dates</h4>
<div class="outline-text-4" id="text-org7968106">
<ul class="org-ul">
<li>Friday 15th May (any time zone): Abstract submission deadline</li>
<li>Friday 26th June: Author notification</li>
<li>Thursday 27th August: ML Family Workshop</li>
</ul>
</div>
</div>

<div id="outline-container-org862af83" class="outline-4">
<h4 id="org862af83">Program committee</h4>
<div class="outline-text-4" id="text-org862af83">
<ul class="org-ul">
<li>Youyou Cong (Tokyo Institute of Technology)</li>
<li>Gowtham Kaki (Purdue University)</li>
<li>Neel Krishnaswami (University of Cambridge)</li>
<li>Daan Leijen (Microsoft Research)</li>
<li>Koko Muroya (Kyoto University)</li>
<li>Atsushi Ohori (Tohoku University)</li>
<li>Jonathan Protzenko (Microsoft Research)</li>
<li>Gabriel Radanne (INRIA)</li>
<li>Claudio Russo (Dfinity)</li>
<li>Leo White (Jane Street) (Chair)</li>
<li>Jeremy Yallop (University of Cambridge)</li>
</ul>
</div>
</div>

<div id="outline-container-orge0cbe16" class="outline-4">
<h4 id="orge0cbe16">Submission details</h4>
<div class="outline-text-4" id="text-orge0cbe16">
<p>
See the online CFP for the details on the expected submission format.
</p>

<p>
Submissions must be uploaded to the workshop submission website
</p>

<p>
<a href="https://ml2020.hotcrp.com/">https://ml2020.hotcrp.com/</a>
</p>

<p>
before the submission deadline.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org1ab2218" class="outline-2">
<h2 id="5">Announcing Sek, an efficient implementation of sequences</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/announcing-sek-an-efficient-implementation-of-sequences/5442/1">https://discuss.ocaml.org/t/announcing-sek-an-efficient-implementation-of-sequences/5442/1</a>
</p>
</div>

<div id="outline-container-orgfd47f6f" class="outline-3">
<h3 id="orgfd47f6f">François Pottier announced</h3>
<div class="outline-text-3" id="text-orgfd47f6f">
<p>
We are pleased to announce the first release of Sek, an OCaml library that
offers an efficient implementation of sequences.
</p>

<p>
The library offers both ephemeral (mutable) sequences and persistent
(immutable) sequences, and offers constant-time conversions between these
flavors.
</p>

<p>
It supports all of the standard operations on stacks, queues, deques (e.g.
push, pop at either end), catenable sequences (concat, split), and random
access sequences (get, set).
</p>

<p>
Data is stored internally in chunks (fixed-capacity arrays),
which is why this data structure is known as a chunK SEquence.
</p>

<p>
It is intended to achieve excellent time complexity and memory usage.
</p>

<p>
This is an initial release. The library has not been tested in production,
but has received extensive unit testing, via afl-fuzz and ocaml+afl &#x2013;
which are remarkably effective tools, by the way!
</p>

<p>
This is work in progress; more features, such as iterators, will be added
in the future.
</p>

<p>
To install Sek, just type
</p>

<pre class="example">
opam update &amp;&amp; opam install sek
</pre>

<p>
Documentation is <a href="http://cambium.inria.fr/~fpottier/sek/doc/sek/Sek/index.html">online</a>.
</p>

<p>
Feedback is welcome!
</p>

<p>
Arthur Charguéraud<br />
François Pottier<br />
with contributions by Émilie Guermeur
</p>
</div>
</div>


<div id="outline-container-orge69ecf3" class="outline-3">
<h3 id="orge69ecf3">Yaron Minsky asked and Fabian replied</h3>
<div class="outline-text-3" id="text-orge69ecf3">
<blockquote>
<p>
I’m particularly interested in how it compares to Base.Sequence and Seq in the OCaml distribution, but surely there are others as well.
</p>
</blockquote>

<p>
This actually looks like an array/vector structure (supporting, among other things, fast access to the nth element),
so a comparison with <code>CCVector</code>, <code>CCFun_vec</code>, <code>BatVect</code>, <code>Clarity.Vector</code> etc. would be more appropriate. The name is
a bit unfortunate considering the naming used in the general ecosystem.
</p>

<p>
Some time ago, I added some crude benchmarks to <a href="https://github.com/c-cube/ocaml-containers/blob/d34b7588b028f3618cc44d3f4c6417295db586c8/benchs/run_benchs.ml#L112">containers' benchsuite</a>.
I'll see if I can add Sek when I find time.
</p>
</div>
</div>


<div id="outline-container-org0958c6a" class="outline-3">
<h3 id="org0958c6a">gasche said</h3>
<div class="outline-text-3" id="text-org0958c6a">
<p>
I think it really is a sequence library in the sense that in maintains an in-order sequence of items, and sequences
can be joined/split efficiently. It also provides logarithmic random access, but this is probably not competitive
with fixed-size arrays. It would be comparable to "persistent vector" libraries, ropes, finger trees, etc. The fact
that the authors expose a Stack/Queue interface suggests that it has also been tuned to perform reasonably well in
this case.
</p>

<p>
It does not provide any delayed computation of items, so in that regard it is not comparable to Sequence/Seq.
</p>

<p>
@charguer has designed similar datastructures in the past to represent the work-queues of concurrent workers (you want at least a fast "push" to add a new task and, when doing work-stealing, having a fast "split" is convenient). See <a href="https://www.chargueraud.org/research/2014/chunkedseq/chunkedseq.pdf">Theory and Practice of Chunked Sequences</a>, Umut Acar, Arthur Charguéraud, Mike Rainey, 2014, and <a href="https://www.chargueraud.org/research/2015/pdfs/pdfs_sc15.pdf">A Work-Efficient Algorithm for Parallel Unordered Depth-First Search</a>.
</p>

<p>
As far as I know, the OCaml implementation just released has not been tested/benchmarked for parallel algorithms. I
would be curious to see an experiment of parallel graph traversal with this structure and Multicore-OCaml.
</p>
</div>
</div>
</div>




<div id="outline-container-org6e51dde" class="outline-2">
<h2 id="6">Announcing dune-deps: produces a project-centric dependency graph</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/announcing-dune-deps-produces-a-project-centric-dependency-graph/5451/1">https://discuss.ocaml.org/t/announcing-dune-deps-produces-a-project-centric-dependency-graph/5451/1</a>
</p>
</div>

<div id="outline-container-org1b3e785" class="outline-3">
<h3 id="org1b3e785">Martin Jambon announced</h3>
<div class="outline-text-3" id="text-org1b3e785">
<p>
I'm happy to announce the availability of <a href="https://github.com/mjambon/dune-deps">dune-deps</a>, a command-line tool that
scans a dune project and gathers the dependencies into a graph. The output is in the dot format, supported by the
<code>dot</code> command from <a href="https://www.graphviz.org/">graphviz</a>.
</p>

<p>
It shows the dependencies between the following:
</p>

<ul class="org-ul">
<li>libraries defined by the project,</li>
<li>executables defined by the project,</li>
<li>direct dependencies on external libraries.</li>
</ul>

<p>
Dependencies are extracted by parsing <code>dune</code> files. As an example, here's what we obtain for the <a href="https://github.com/ocaml/opam">sources of
opam</a>, which has over 50K lines of code:
</p>


<div class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/original/2X/f/f6213fa7fda52521c6782988155ab23b997dafb8.png" alt="f6213fa7fda52521c6782988155ab23b997dafb8.png" />
</p>
</div>

<p>
The commands for this are:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #b22222;"># </span><span style="color: #b22222;">obtain the project's sources</span>
$ git clone --depth=1 https://github.com/ocaml/opam.git

<span style="color: #b22222;"># </span><span style="color: #b22222;">extract dependencies and eliminate superfluous graph edges</span>
$ dune-deps opam | tred &gt; deps.dot

<span style="color: #b22222;"># </span><span style="color: #b22222;">render the graph</span>
$ dot -Tpng deps.dot -o deps.png
</pre>
</div>

<p>
A suggestion is to include such graph in your project's <code>README.md</code>.
</p>
</div>
</div>
</div>




<div id="outline-container-orga9232fe" class="outline-2">
<h2 id="7">OCaml Users and Developers Meeting 2020</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-users-and-developers-meeting-2020/5454/1">https://discuss.ocaml.org/t/ocaml-users-and-developers-meeting-2020/5454/1</a>
</p>
</div>

<div id="outline-container-org9f64248" class="outline-3">
<h3 id="org9f64248">Ivan Gotovchits announced</h3>
<div class="outline-text-3" id="text-org9f64248">
<p>
It is my pleasure to invite submissions to the OCaml Users and
Developers Workshop 2020, which is again co-located with ICFP and will
be held on Friday 28th August 2020 in Jersey City, NJ, USA.
</p>

<p>
The OCaml Users and Developers Workshop brings together the
OCaml community, including users of OCaml in industry, academia,
hobbyists and the free software community. Previous editions
have been co-located with ICFP since 2012 in Copenhagen, Boston,
Gothenburg, Nara, Oxford, St Louis and last year in Berlin, following OCaml
Meetings in Paris in 2010 and 2011.
</p>
</div>

<div id="outline-container-org1183149" class="outline-4">
<h4 id="org1183149">Important Links</h4>
<div class="outline-text-4" id="text-org1183149">
<ul class="org-ul">
<li><a href="https://ocaml.org/meetings/ocaml/2020/">https://ocaml.org/meetings/ocaml/2020/</a></li>
<li><a href="https://icfp20.sigplan.org/home/ocaml-2020">https://icfp20.sigplan.org/home/ocaml-2020</a></li>
<li><a href="https://ocaml2020.hotcrp.com/">https://ocaml2020.hotcrp.com/</a></li>
</ul>
</div>
</div>

<div id="outline-container-org8ff34d3" class="outline-4">
<h4 id="org8ff34d3">Important Dates</h4>
<div class="outline-text-4" id="text-org8ff34d3">
<ul class="org-ul">
<li>Talk proposal submission deadline: May 8th, 2020, AoE</li>
<li>Author Notification: June 26th, 2020</li>
<li>OCaml Workshop: August 28th, 2020</li>
</ul>
</div>
</div>

<div id="outline-container-org5f69803" class="outline-4">
<h4 id="org5f69803">Scope</h4>
<div class="outline-text-4" id="text-org5f69803">
<p>
Presentations and discussions focus on the OCaml programming language
and its community. We aim to solicit talks on all aspects related to
improving the use or development of the language and its programming
environment, including, for example (but not limited to):
</p>

<ul class="org-ul">
<li>compiler developments, new backends, runtime and architectures</li>

<li>practical type system improvements, such as GADTs, first-class
modules, generic programming, or dependent types</li>

<li>new library or application releases, and their design rationales</li>

<li>tools and infrastructure services, and their enhancements</li>

<li>prominent industrial or experimental uses of OCaml, or deployments
in unusual situations.</li>
</ul>
</div>
</div>

<div id="outline-container-org921cc85" class="outline-4">
<h4 id="org921cc85">Presentations</h4>
<div class="outline-text-4" id="text-org921cc85">
<p>
The workshop is an informal meeting with no formal proceedings. The
presentation material will be available online from the workshop
homepage. The presentations may be recorded and made available at a
later date.
</p>

<p>
The main presentation format is a workshop talk, traditionally
around 20 minutes in length, plus question time, but we also
have a poster session during the workshop &#x2013; this allows to
present more diverse work, and gives time for discussion. The
program committee will decide which presentations should be
delivered as posters or talks.
</p>
</div>
</div>

<div id="outline-container-org23b99ce" class="outline-4">
<h4 id="org23b99ce">Submission</h4>
<div class="outline-text-4" id="text-org23b99ce">
<p>
To submit a presentation, please register a description of the
talk (about 2 pages long) at
</p>

<p>
<a href="https://ocaml2020.hotcrp.com/">https://ocaml2020.hotcrp.com/</a>
</p>

<p>
providing a clear statement of what will be provided by the
presentation: the problems that are addressed, the solutions or
methods that are proposed.
</p>

<p>
LaTeX-produced PDFs are a common and welcome submission
format. For accessibility purposes, we ask PDF submitters to
also provide the sources of their submission in a textual
format, such as .tex sources. Reviewers may read either the
submitted PDF or the text version.
</p>
</div>
</div>

<div id="outline-container-org7b8ef10" class="outline-4">
<h4 id="org7b8ef10">ML family workshop</h4>
<div class="outline-text-4" id="text-org7b8ef10">
<p>
The ML family workshop, held on the previous day, deals with
general issues of the ML-style programming and type systems,
focuses on more research-oriented work that is less specific to
a language in particular. There is an overlap between the two
workshops, and we have occasionally transferred presentations from one
to the other in the past. Authors who feel their submission fits both
workshops are encouraged to mention it at submission time and/or
contact the Program Chairs.
</p>
</div>
</div>

<div id="outline-container-orgedb4fbf" class="outline-4">
<h4 id="orgedb4fbf">Program Committee</h4>
<div class="outline-text-4" id="text-orgedb4fbf">
<ul class="org-ul">
<li>Ivan Gotovchits, CMU, USA</li>
<li>Florian Angeletti, INRIA, France</li>
<li>Chris Casinghino, Draper Laboratory, USA</li>
<li>Catherine Gasnier, Facebook, USA</li>
<li>Rudi Grinberg, OCaml Labs, UK</li>
<li>Oleg Kiselyov, Tohoku University, Japan</li>
<li>Andreas Rossberg, Dfinity Stiftung, Germany</li>
<li>Marcello Seri, University of Groningen, Netherlands</li>
<li>Edwin Torok, Citrix, UK</li>
<li>Leo White, Jane Street, USA</li>
<li>Greta Yorsh, Jane Street, USA</li>
<li>Sarah Zennou, Airbus, France</li>
</ul>
</div>
</div>

<div id="outline-container-orgfc790b1" class="outline-4">
<h4 id="orgfc790b1">COVID-19 Notice</h4>
<div class="outline-text-4" id="text-orgfc790b1">
<p>
While ICFP-20 <a href="https://icfp20.sigplan.org/home/icfp-2020">is still scheduled to be held as planned</a>, chances are high
that it will be turned into a virtual conference. Which means a wider audience and reduced (hopefully) fees. We will
keep you posted.
</p>
</div>
</div>

<div id="outline-container-org1776c54" class="outline-4">
<h4 id="org1776c54">Questions and contact</h4>
<div class="outline-text-4" id="text-org1776c54">
<p>
Please send any questions to the chair:
  Ivan Gotovchits (ivg@ieee.org)
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-org87f17d8" class="outline-2">
<h2 id="org87f17d8">Old CWN</h2>
<div class="outline-text-2" id="text-org87f17d8">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
