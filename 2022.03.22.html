<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-03-22 Tue 14:00 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.03.15.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.03.29.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of March 15 to 22, 2022.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Friday 03/04 Intern presentations &#x2013; open attendance!</a></li>
<li><a href="#2">Multicore OCaml: February 2022</a></li>
<li><a href="#3">OCaml 4.14.0, second release candidate</a></li>
<li><a href="#4">For Diversity and the OCaml Community: Outreachy Summer 2022</a></li>
<li><a href="#5">Understanding cancellation (in eio)</a></li>
<li><a href="#6">Atdpy: derive safe JSON interfaces for Python</a></li>
<li><a href="#org60d3e3e">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Friday 03/04 Intern presentations &#x2013; open attendance!</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/friday-03-04-intern-presentations-open-attendance/9429/8">https://discuss.ocaml.org/t/friday-03-04-intern-presentations-open-attendance/9429/8</a>
</p>
</div>

<div id="outline-container-org9928727" class="outline-3">
<h3 id="org9928727">Continuing this thread, Aya announced</h3>
<div class="outline-text-3" id="text-org9928727">
<p>
<a href="https://watch.ocaml.org/videos/watch/f3829e4b-e2cd-443e-8502-f406e893fe5f">Here is the link</a> to the video recording
of the presentations! Thanks again to everyone who attended :pray: :tada:
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Multicore OCaml: February 2022</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/multicore-ocaml-february-2022/9522/1">https://discuss.ocaml.org/t/multicore-ocaml-february-2022/9522/1</a>
</p>
</div>

<div id="outline-container-orged49a0d" class="outline-3">
<h3 id="orged49a0d">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-orged49a0d">
<p>
Welcome to the February 2022 <a href="https://github.com/ocaml-multicore/ocaml-multicore">Multicore OCaml</a> monthly report! As
with <a href="https://discuss.ocaml.org/tag/multicore-monthly">previous updates</a>, these have been compiled by me, @ctk21,
@kayceesrk and @shakthimaan.
</p>

<p>
Progress towards a stable OCaml 5.0.0 release have been moving forward at full steam, with most of the multicore
OCaml work now happening directly within the main ocaml/ocaml repository. As a number of
<a href="https://github.com/ocaml/ocaml/blob/trunk/Changes">deprecations</a> have happened in OCaml 5.0+trunk, it can be a
little tricky in the immediate term to get a working development environment.  You may find these resources helpful:
</p>
<ul class="org-ul">
<li>There is a <a href="https://discuss.ocaml.org/t/awesome-multicore-ocaml-and-multicore-monorepo/9515">multicore monorepo</a> which is a 'fast clone and dune build' with a number of ecosystem libraries. (thanks @patricoferris)</li>
<li>There is an <a href="https://github.com/kit-ty-kate/opam-alpha-repository/tree/master/packages">alpha-opam-repository</a> which contains work-in-progress packages.  If a package you maintain is in there, now would be a good time to start releasing it to the mainline opam-repository.  Remember that while we can propose changes, only the community maintainers of the relevant projects can do the actual release, so <b>your help with making OCaml 5.0-compatible releases of your projects would be very much appreciated</b>. (thanks @kit-ty-kate)</li>
</ul>

<p>
For mainline development, the <a href="https://discuss.ocaml.org/t/ocaml-compiler-development-newsletter-issue-5-november-2021-to-february-2022/9459">compiler development
newsletter</a>
has an overview of what's been happening in the compiler.  From a multicore perspective:
</p>
<ul class="org-ul">
<li>the <a href="https://github.com/ocaml/ocaml/pulls/10972">ARM64 PR</a> has been merged, so your shiny Mac M1s will now work</li>
<li>we continue to work on the post-Multicore merge tasks for an upcoming 5.0.0+trunk release. The documentation efforts on the OCaml memory model, runtime system, and STW synchronization have also started.</li>
<li>The <a href="https://github.com/ocaml-multicore/eio">eio project</a> is actively being developed which now includes UDP support with Eio's networking interface.  There has been <a href="https://discuss.ocaml.org/tag/effects">robust discussion</a> on several aspects of eio which is all influencing the next iteration of its design (thank you to everyone!). For those of you who do not wish to participate in public discussion, feel free to get in touch with me or @kayceesrk for a private discussion, particularly if you have a large OCaml codebase and opinions on concurrency. We'll summarise all these discussions as best we can over the coming months.</li>
<li><code>Sandmark-nightly</code> and <code>Sandmark</code> have a custom variant support feature to build trunk, developer branches, or a specific commit to assess any performance regressions. The backend tooling with UI enhancements continue to drive the <code>current-bench</code> project forward.</li>
</ul>

<p>
As always, the Multicore OCaml updates are listed first, which are then followed by the ecosystem tooling updates.
Finally, the sandmark, sandmark-nightly and current-bench project tasks are mentioned for your reference.
</p>

<p>
<i>Editor’s note: please find the full update at the archive link above.</i>
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">OCaml 4.14.0, second release candidate</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-14-0-second-release-candidate/9528/1">https://discuss.ocaml.org/t/ocaml-4-14-0-second-release-candidate/9528/1</a>
</p>
</div>

<div id="outline-container-org582ec0e" class="outline-3">
<h3 id="org582ec0e">octachron announced</h3>
<div class="outline-text-3" id="text-org582ec0e">
<p>
The release of OCaml 4.14.0 is imminent.
As a last test that everything is in order, we are publishing a second release
candidate for OCaml 4.14.0.
</p>

<p>
We are directly jumping to the second release candidate due to a
type system regression discovered during the release process of the first
release candidate.
</p>

<p>
Compared to the last beta, this release candidate includes a regression fix when
typing recursive constraints, two backend fixes (one for the frame-pointer mode
and the other one for the RISC-V architecture), one configuration fix
for musl/arm64, and the manual chapter for the TMC transformation.
</p>

<p>
If you find any bugs, please report them here:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/issues">https://github.com/ocaml/ocaml/issues</a>
</p>

<p>
The full release of OCaml 4.14.0 is currently planned for next week.
</p>
</div>

<div id="outline-container-orgf31c206" class="outline-4">
<h4 id="orgf31c206">Installation instructions</h4>
<div class="outline-text-4" id="text-orgf31c206">
<p>
The base compiler can be installed as an opam switch with the following commands
</p>
<pre class="example" id="org06d7f45">
opam update
opam switch create 4.14.0~rc2 --repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
<p>
If you want to tweak the configuration of the compiler, you can switch to the option variant with:
</p>
<pre class="example" id="org2ae9adb">
opam update
opam switch create &lt;switch_name&gt; --packages=ocaml-variants.4.14.0~rc2+options,&lt;option_list&gt;
--repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
<p>
where <code>&lt;option_list&gt;</code> is a comma separated list of <code>ocaml-option-*</code> packages. For instance, for a flambda and
no-flat-float-array switch:
</p>
<pre class="example" id="org63f250d">
opam switch create 4.14.0~rc2+flambda+nffa
--packages=ocaml-variants.4.14.0~rc2+options,ocaml-option-flambda,ocaml-option-no-flat-float-array
--repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
<p>
All available options can be listed with <code>opam search ocaml-option</code>.
</p>

<p>
The source code for the release candidate is also available at these addresses:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/4.14.0-rc2.tar.gz">https://github.com/ocaml/ocaml/archive/4.14.0-rc2.tar.gz</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.0~rc2.tar.gz">https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.0~rc2.tar.gz</a></li>
</ul>
</div>
</div>

<div id="outline-container-org441e265" class="outline-4">
<h4 id="org441e265">Changes since the last beta</h4>
<div class="outline-text-4" id="text-org441e265">
</div>
<div id="outline-container-org4bfcb3a" class="outline-5">
<h5 id="org4bfcb3a">Type system regression fix</h5>
<div class="outline-text-5" id="text-org4bfcb3a">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/11101">#11101</a>, <a href="https://github.com/ocaml/ocaml/issues/11109">#11109</a>: A recursive type constraint fails on 4.14 (Jacques Garrigue, report and review by Florian Angeletti)</li>
</ul>
</div>
</div>

<div id="outline-container-orge025453" class="outline-5">
<h5 id="orge025453">Backend fixes</h5>
<div class="outline-text-5" id="text-orge025453">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10688">#10688</a>: Move frame descriptor table from `rodata` to `data` section on RISC-V.  Improves support for building DLLs and PIEs. In particular, this applies to all binaries in distributions that build PIEs by default (eg Gentoo and Alpine). (Alex Fan, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/11031">#11031</a>: Exception handlers restore the rbp register when using frame-pointers on amd64. (Fabrice Buoro, with help from Stephen Dolan, Tom Kelly and Mark Shinwell, review by Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-org7b0b0d5" class="outline-5">
<h5 id="org7b0b0d5">Configuration fix</h5>
<div class="outline-text-5" id="text-org7b0b0d5">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/11025">#11025</a>, <a href="https://github.com/ocaml/ocaml/issues/11036">#11036</a>: Do not pass -no-pie to the C compiler on musl/arm64 (omni, Kate Deplaix and Antonio Nuno Monteiro, review by Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-org0ea7ef3" class="outline-5">
<h5 id="org0ea7ef3">Documentation</h5>
<div class="outline-text-5" id="text-org0ea7ef3">
<ul class="org-ul">
<li><p>
<b>updated entry</b> <a href="https://github.com/ocaml/ocaml/issues/181">#181</a>, <a href="https://github.com/ocaml/ocaml/issues/9760">#9760</a>, +<a href="https://github.com/ocaml/ocaml/issues/10740">#10740</a>: opt-in tail-modulo-cons (TMC) transformation
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span><span style="color: #483d8b;">[@tail_mod_cons]</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #0000ff;">map</span> <span style="color: #a0522d;">f</span> <span style="color: #a0522d;">li</span> = ...
</pre>
</div>
<p>
(Frédéric Bour, Gabriel Scherer, Basile Clément, review by Basile Clément and Pierre Chambart, tested by Konstantin Romanov)
</p></li>
</ul>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">For Diversity and the OCaml Community: Outreachy Summer 2022</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/for-diversity-and-the-ocaml-community-outreachy-summer-2022/9234/5">https://discuss.ocaml.org/t/for-diversity-and-the-ocaml-community-outreachy-summer-2022/9234/5</a>
</p>
</div>

<div id="outline-container-org6d0a09a" class="outline-3">
<h3 id="org6d0a09a">Continuing this thread, Patrick Ferris said</h3>
<div class="outline-text-3" id="text-org6d0a09a">
<p>
Thanks for the updates @pitag! For this summer's round I'll be mentoring a project to <a href="https://www.outreachy.org/apply/project-selection/#ocaml">Extend ocaml-geojson to
support TopoJSON</a> which will likely be a separate package.
This is part of a larger effort I'm embarking on to provide better <a href="https://github.com/geocaml">geospatial libraries and tools in
OCaml</a>!
</p>

<p>
I'd be very happy to have a co-mentor if the project (or just the idea of Outreachy) interests anyone. Don't hesitate
to reach out to me on discuss publicly or privately if you are interested or have more questions :camel:
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Understanding cancellation (in eio)</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/understanding-cancellation-in-eio/9369/45">https://discuss.ocaml.org/t/understanding-cancellation-in-eio/9369/45</a>
</p>
</div>

<div id="outline-container-org76d4ef9" class="outline-3">
<h3 id="org76d4ef9">Deep in this thread, Simon Cruanes announced</h3>
<div class="outline-text-3" id="text-org76d4ef9">
<p>
I still have reservations about the capabilities aspect of Eio, but the structured concurrency part looks very nice.
Just a few notes, for future reference to readers of this thread (if I haven't missed them being posted above
already):
</p>

<p>
Another interesting post about structured concurrency and cancellation: <a href="https://250bpm.com/blog:71/">https://250bpm.com/blog:71/</a>
</p>

<p>
A structured concurrency library in python: <a href="https://trio.readthedocs.io/en/stable/index.html">trio</a>, which might be
relatively similar to Eio's switches in concept (esp since @talex linked
<a href="https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/">this</a>)?
</p>

<p>
Companion post to the trio blogpost: <a href="https://vorpus.org/blog/timeouts-and-cancellation-for-humans/">https://vorpus.org/blog/timeouts-and-cancellation-for-humans/</a> which is directly
relevant to the current topic.
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Atdpy: derive safe JSON interfaces for Python</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/atdpy-derive-safe-json-interfaces-for-python/9544/1">https://discuss.ocaml.org/t/atdpy-derive-safe-json-interfaces-for-python/9544/1</a>
</p>
</div>

<div id="outline-container-org44971e1" class="outline-3">
<h3 id="org44971e1">Martin Jambon announced</h3>
<div class="outline-text-3" id="text-org44971e1">
<p>
On behalf of the ATD team, I'd like to announce atdpy, which is part of the release 2.3.x of the ATD tools. For now,
the best installation method with via opam:
</p>

<pre class="example" id="org691e9b0">
$ opam install atdpy
</pre>

<p>
Atdpy is a new backend for <a href="https://github.com/ahrefs/atd">ATD</a>. It takes a collection of type definitions and
derives Python classes with mypy type annotations that validate the JSON data.
</p>

<p>
A <a href="https://atd.readthedocs.io/en/latest/atdpy.html">short introduction</a> is included in the documentation.
</p>

<p>
Use cases:
</p>
<ul class="org-ul">
<li>Safe communication with another program that also uses an ATD interface. Other supported languages are OCaml (including Bucklescript), Java, and Scala.</li>
<li>Need for [mostly] type-safe Python methods via mypy.</li>
<li>Need for a good Python API to communicate with an OCaml executable or service.</li>
<li>Need for sum types (variants, algebraic data types, tagged unions). ATD sum types are ordinary types that include pure enums.</li>
</ul>

<p>
Atdpy was developed as part of our work on <a href="https://semgrep.dev/">Semgrep</a> at <a href="https://r2c.dev/">r2c</a>. Many thanks to
@mseri for his massive help during the opam release of the 7 ATD packages, and to the Ahrefs folks and @Khady in
particular for supporting the project.
</p>
</div>
</div>
</div>




<div id="outline-container-org60d3e3e" class="outline-2">
<h2 id="org60d3e3e">Old CWN</h2>
<div class="outline-text-2" id="text-org60d3e3e">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org32795eb">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
