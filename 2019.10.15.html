<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-10-29 Tue 08:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2019.10.08.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2019.10.29.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of October 08 to 15, 2019.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">capnp-rpc 0.4.0</a></li>
<li><a href="#2">Ocaml-protoc.plugin.1.0.0</a></li>
<li><a href="#org27c915c">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orge4a8de1" class="outline-2">
<h2 id="1">capnp-rpc 0.4.0</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-capnp-rpc-0-4-0/4524/1">https://discuss.ocaml.org/t/ann-capnp-rpc-0-4-0/4524/1</a>
</p>
</div>

<div id="outline-container-orge0d7bbe" class="outline-3">
<h3 id="orge0d7bbe">Thomas Leonard announced</h3>
<div class="outline-text-3" id="text-orge0d7bbe">
<p>
I'm pleased to announce the release of <a href="https://github.com/mirage/capnp-rpc/releases/tag/v0.4.0">capnp-rpc 0.4.0</a>, an OCaml implementation of the Cap'n Proto RPC specification.
</p>

<p>
If you haven't used the library before, please see the <a href="https://github.com/mirage/capnp-rpc/blob/master/README.md">documentation and tutorial</a>. Cap'n Proto RPC aims to provide secure, efficient, typed communications between multiple parties.
</p>

<p>
This library is now being used to build <a href="https://github.com/ocaml-ci/ocaml-ci">ocaml-ci</a>, where it is used for all communication between the web frontend and backend services, and to provide a command-line client.
</p>
</div>

<div id="outline-container-org7d173e9" class="outline-4">
<h4 id="org7d173e9">Main changes since v0.3</h4>
<div class="outline-text-4" id="text-org7d173e9">
<p>
Breaking changes:
</p>

<ul class="org-ul">
<li>Wrap errors with the <code>`Capnp</code> tag to make it easier to compose with other types of error.</li>

<li>Prefix all command-line options with <code>capnp-</code>.
e.g. <code>--listen-address</code> is now <code>--capnp-listen-address</code>.
The old names were confusing for applications that supported other protocols too (e.g. a web server).</li>
</ul>

<p>
New features:
</p>

<ul class="org-ul">
<li>Add <code>Capability.with_ref</code> convenience function.
This automatically calls <code>dec_ref</code> when done.</li>

<li>Add Unix <code>Cap_file</code> module to load and save <code>Sturdy_refs</code>.
In particular, this ensures that saved cap files get a mode of <code>0o600</code>, since they contain secrets.</li>

<li>Export cmdliner network address parsing.
This is useful if you don't want to use the default option parsing.
For example, if you want to make Cap'n Proto an optional feature of your program.</li>

<li>Upgrade from <code>uint</code> (which is deprecated) to the newer <code>stdint</code>.
The latest version of <code>uint</code> is just a wrapper around <code>stdint</code>,
so this shouldn't break anything if you are using the latest version.</li>

<li>Put cmdliner options in their own man-page section.
Use <code>Capnp_rpc_unix.manpage_capnp_options</code> to control where in your man-page they appear.</li>

<li><p>
Enable <code>SO_KEEPALIVE</code> for TCP connections.
For use with Docker's libnetwork, try something like this in your <code>stack.yml</code>:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span style="color: #a0522d;">sysctls</span>:
  - <span style="color: #8b2252;">'net.ipv4.tcp_keepalive_time=60'</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-orgd991e3b" class="outline-2">
<h2 id="2">Ocaml-protoc.plugin.1.0.0</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-protoc-plugin-1-0-0/4535/1">https://discuss.ocaml.org/t/ann-ocaml-protoc-plugin-1-0-0/4535/1</a>
</p>
</div>

<div id="outline-container-orgb5c902a" class="outline-3">
<h3 id="orgb5c902a">Anders Fugmann announced</h3>
<div class="outline-text-3" id="text-orgb5c902a">
<p>
I'm happy to announce the second release of <a href="https://github.com/issuu/ocaml-protoc-plugin">ocaml-protoc-plugin</a>.
</p>

<p>
Ocaml-protoc-plugin is a plugin to googles <code>protoc</code> compiler which generates type idiomatic to ocaml from <code>.proto</code> files including full compliant serialization and deserialization functions.
</p>
</div>

<div id="outline-container-org1a5a776" class="outline-4">
<h4 id="org1a5a776">Most noteworthy changes in this release:</h4>
<div class="outline-text-4" id="text-org1a5a776">
<ul class="org-ul">
<li>Full proto2 support.</li>
<li>The list of dependencies has been slimmed way down, and now only depends on <code>conf-protoc</code> (the <code>protoc</code> compiler and googles <b>well known types</b>).</li>
<li>Buckescript support.</li>
<li>Added options to change the ocaml (type for scalar types (int, int64 or int32).</li>
</ul>

<p>
Many thanks to Wojtek Czekalski for helping trimming dependencies and for Buclescript support.
</p>
</div>
</div>

<div id="outline-container-orgf71eb40" class="outline-4">
<h4 id="orgf71eb40">Full changelog:</h4>
<div class="outline-text-4" id="text-orgf71eb40">
<ul class="org-ul">
<li>Support enum aliasing</li>
<li>Avoid name clash with on 'name'</li>
<li>Fix code generation when argument contains a path</li>
<li>Refactor internal types to make serialization and deserialization type spec symmetrical.</li>
<li>Optimize deserialization for messages with max_id &lt; 1024</li>
<li>Don't depend on Base in runtime</li>
<li>Slim runtime dependencies: Remove need for base, ocplib-endian and ppx_let</li>
<li>Honor [packed=&#x2026;] flag.</li>
<li>Make fixed scalar types default to int32 and int64</li>
<li>Support proto2 specification</li>
<li>Add options to switch between int64|int32 and int</li>
<li>Fix name clash problem with special enum names</li>
<li>Refactor serialization and deserialization to simplify emitted code</li>
<li>Eagerly evaluate serialization (for speed).</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-org27c915c" class="outline-2">
<h2 id="org27c915c">Old CWN</h2>
<div class="outline-text-2" id="text-org27c915c">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
