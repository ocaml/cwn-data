<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-10 Tue 15:25 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.03.03.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.03.17.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of March 03 to 10, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Non opam workflows</a></li>
<li><a href="#2">First release of metapp</a></li>
<li><a href="#3">OCaml 4.10 released</a></li>
<li><a href="#4">Transept 0.1.0: Generalised Parser Combinators</a></li>
<li><a href="#5">Multicore OCaml: Feb 2020 update</a></li>
<li><a href="#6">owl 0.8.0 and 0.9.0 released</a></li>
<li><a href="#7">Parser combinators vs. parser preprocessors?</a></li>
<li><a href="#8">Dune 2.4.0</a></li>
<li><a href="#9">Tyxml 4.4.0</a></li>
<li><a href="#10">first release of oplsr: an OCaml wrapper to the pls R package - Partial Least Squares (PLS) regression</a></li>
<li><a href="#orgf5b3f0a">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgccf4713" class="outline-2">
<h2 id="1">Non opam workflows</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/non-opam-workflows/5232/1">https://discuss.ocaml.org/t/non-opam-workflows/5232/1</a>
</p>
</div>

<div id="outline-container-org4faaf26" class="outline-3">
<h3 id="org4faaf26">Manas asked</h3>
<div class="outline-text-3" id="text-org4faaf26">
<p>
Very recently, I learnt that there is a significant chunk of users in the OCaml community that does not use opam to install packages. As a small initiative
to contribute to tooling, I want to ensure what I build is compatible with these workflows - workflows I'm not familiar with myself.
</p>

<p>
I'd love to learn more - what does it look like? How do you setup your compiler, dune and merlin (and/or soon ocamllsp)? How do you configure your editor to
find them and what would make it easier to do so?
</p>

<p>
I'm told of Duniverse as one tool that being used in these non-opam workflows. Are there any more popular ones out there?
</p>
</div>
</div>


<div id="outline-container-orgda539b8" class="outline-3">
<h3 id="orgda539b8">Th√©o Zimmermann replied</h3>
<div class="outline-text-3" id="text-orgda539b8">
<p>
I am one of these people. I mostly rely on Nix, whose package repository nixpkgs provides package sets for all (relatively recent) versions of OCaml. These
package sets are not generally as complete as what you can find on opam, so it sometimes happens that I open a PR on the nixpkgs repository to add a new
package (and in the meantime I use my local updated copy of the nixpkgs repo).
</p>

<p>
You can see the list of available OCaml packages at: <a href="https://nixos.org/nixos/packages.html?channel=nixpkgs-unstable&amp;query=ocamlPackages">https://nixos.org/nixos/packages.html?channel=nixpkgs-unstable&amp;query=ocamlPackages</a>
(This is for the default OCaml version, currently 4.07 in nixpkgs-unstable. Other package sets are called <code>ocaml-ng.ocamlPackages_4_0X</code> but are not shown in
this web search.)
</p>

<p>
Most OCaml packages are available at a single version in nixpkgs (even though you can choose your version of OCaml). To gain more flexibility on the exact
version I use in one of my project, I am planning to test Duniverse. At that point, I would rely on Duniverse for library dependencies, but I would still
rely on Nix to install OCaml, findlib, Dune, Duniverse (I'll have to take care of packaging it), utop, merlin, or ocamlformat.
</p>

<p>
Nix is pretty straightforward to use. You generally provide a <code>default.nix</code> at the root of your repository, and it will list the dependencies that you use.
When you want to go develop your project, you just enter a special shell (with the <code>nix-shell</code> command) and you are in an environment where the tools you
need are in <code>PATH</code> and the libraries you need are in <code>OCAMLPATH</code>.
</p>

<p>
There's just one tool that I needed special configuration for: <code>ocamlformat</code> (especially because some projects use it and some do not). When I use it, my
<code>default.nix</code> contains:
</p>

<pre class="example">
shellHook = ''
  export OCAMLFORMAT_LOCATION=${ocamlformat}
'';
</pre>

<p>
which will export an environment variable when I enter the shell.
</p>

<p>
And my <code>.emacs</code> contains:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> ocamlformat-location (getenv <span style="color: #8b2252;">"OCAMLFORMAT_LOCATION"</span>))
(<span style="color: #a020f0;">when</span> (&gt; (length ocamlformat-location) 0)
 (add-to-list 'load-path (concat ocamlformat-location <span style="color: #8b2252;">"/share/emacs/site-lisp"</span>))
 (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">ocamlformat</span>)
 (add-hook 'tuareg-mode-hook
           (<span style="color: #a020f0;">lambda</span> () (add-hook 'before-save-hook 'ocamlformat-before-save))))
</pre>
</div>

<blockquote>
<p>
I want to ensure what I build is compatible with these workflows
</p>
</blockquote>

<p>
If you mean as a library author, then all you have to ensure is that you use Dune as the build system (makes the Duniverse workflow better, and makes it
easier to package your library in nixpkgs, cf. <code>buildDunePackage</code> documented at <a href="https://nixos.org/nixpkgs/manual/#sec-language-ocaml">https://nixos.org/nixpkgs/manual/#sec-language-ocaml</a>).
</p>
</div>
</div>


<div id="outline-container-org7c09a90" class="outline-3">
<h3 id="org7c09a90">Rwmjones also replied</h3>
<div class="outline-text-3" id="text-org7c09a90">
<p>
You might want to check out the Fedora OCaml packages.
</p>

<p>
Unfortunately I don't have a convenient way to link to the whole list, but if you look at all the OCaml packages here:
<a href="https://koji.fedoraproject.org/koji/search?match=glob&amp;type=package&amp;terms=ocaml">https://koji.fedoraproject.org/koji/search?match=glob&amp;type=package&amp;terms=ocaml</a>* and then if you substitute the <code>ocaml-&lt;packagename&gt;</code> in two places in this
URL: <a href="https://src.fedoraproject.org/rpms/ocaml-re/blob/master/f/ocaml-re.spec">https://src.fedoraproject.org/rpms/ocaml-re/blob/master/f/ocaml-re.spec</a> (example showing <code>ocaml-re</code> package), you can see how we build and package them
in the <code>%prep</code>, <code>%build</code> and <code>%install</code> sections.
</p>

<p>
And yes, please make sure your software doesn't depend on opam.  Building everything in your home directory is not suitable for enterprise software
distribution.
</p>
</div>
</div>
</div>




<div id="outline-container-orge7ab17f" class="outline-2">
<h2 id="2">First release of metapp</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-metapp/5250/1">https://discuss.ocaml.org/t/ann-first-release-of-metapp/5250/1</a>
</p>
</div>

<div id="outline-container-org8469dc0" class="outline-3">
<h3 id="org8469dc0">Thierry Martinez announced</h3>
<div class="outline-text-3" id="text-org8469dc0">
<p>
I am happy to announce the first release of <code>metapp</code>, yet another preprocessor for OCaml.  Similarly to <a href="https://github.com/janestreet/ppx_optcomp"><code>ppx_optcomp</code></a>, <code>metapp</code> is a PPX rewriter.  But instead of introducing a specific DSL for preprocessor directives, <code>metapp</code> provides a <code>[%meta ...]</code> extension, where the dots <code>...</code> are arbitrary OCaml expressions that are substituted at compile-time by the AST nodes they evaluate into. These expressions build AST nodes either by (anti-)quoting some code directly, or by using <code>compiler-libs</code> (<a href="https://caml.inria.fr/pub/docs/manual-ocaml/compilerlibref/Parsetree.html"><code>Parsetree</code></a>, <a href="https://caml.inria.fr/pub/docs/manual-ocaml/compilerlibref/Ast_helper.html"><code>Ast_helper</code></a>, &#x2026;).
</p>

<p>
In particular, this preprocessor is easy to use for conditional compilation, and is an alternative to <a href="https://github.com/ocaml-community/cppo"><code>cppo</code></a> and <a href="https://github.com/janestreet/ppx_optcomp"><code>ppx_optcomp</code></a>.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">option_get</span> <span style="color: #a0522d;">o</span> =
  <span style="color: #483d8b; background-color: #ebebeb;">[%meta</span> <span style="color: #a020f0;">if</span> <span style="color: #228b22;">Sys.</span>ocaml_version &gt;= <span style="color: #8b2252;">"4.08.0"</span> <span style="color: #a020f0;">then</span>
     [<span style="color: #a52a2a;">%</span>e <span style="color: #228b22;">Option.</span>get o]
  <span style="color: #a020f0;">else</span>
     [<span style="color: #a52a2a;">%</span>e <span style="color: #a020f0;">match</span> o <span style="color: #a020f0;">with</span>
     | <span style="color: #000000; background-color: #ffffff;">None</span> -&gt; <span style="color: #483d8b;">invalid_arg</span> <span style="color: #8b2252;">"option_get"</span>
     | <span style="color: #000000; background-color: #ffffff;">Some</span> x -&gt; x]<span style="color: #483d8b; background-color: #ebebeb;">]</span>
</pre>
</div>

<p>
In this example, the code between <code>[%e ... ]</code> is "anti-quoted": it is the code that is inserted (conditionally) in the rewritten module.  Of course, the
anti-quoted code can contain itself some <code>[%meta ...]</code> code. <code>[%meta ...]</code> can even itself contain other levels of <code>[%meta ...]</code> code for multi-stage
programming.
</p>

<p>
An example of usage of <code>metapp</code> is the <a href="https://github.com/thierry-martinez/metaquot"><code>metaquot</code></a> package, which implements the same quoters as <code>ppx_tools.metaquot</code>: <code>[%expr ...]</code>, <code>[%type: ...]</code>, etc.
These quoters are implemented by meta-programming: the meta-code introspects <code>Parsetree.cmi</code> from <code>compiler-libs</code> to generate the code matching the current
OCaml version.
</p>
</div>
</div>


<div id="outline-container-org70b9048" class="outline-3">
<h3 id="org70b9048">Rapha√´l Proust added</h3>
<div class="outline-text-3" id="text-org70b9048">
<p>
To potentially save a few second to the next readers: <a href="https://github.com/thierry-martinez/metapp">https://github.com/thierry-martinez/metapp</a> seems to be the repo where it is hosted.
</p>
</div>
</div>


<div id="outline-container-org32e2cd5" class="outline-3">
<h3 id="org32e2cd5">Thierry Martinez then said</h3>
<div class="outline-text-3" id="text-org32e2cd5">
<p>
Thanks, @raphael-proust! The package is also available via opam: <code>opam install metapp</code> (and <code>metaquot</code> is available via opam as well).
</p>
</div>
</div>
</div>




<div id="outline-container-orgfd84cd3" class="outline-2">
<h2 id="3">OCaml 4.10 released</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-10-released/5194/5">https://discuss.ocaml.org/t/ocaml-4-10-released/5194/5</a>
</p>
</div>

<div id="outline-container-org5e9ed9d" class="outline-3">
<h3 id="org5e9ed9d">octachron continued this thread</h3>
<div class="outline-text-3" id="text-org5e9ed9d">
<p>
The Merlin team has just released a preview version of Merlin which is compatible with 4.10.0
(Merlin is an editor service that provides modern IDE features for OCaml) .
</p>

<p>
This is a preview version:
</p>

<ul class="org-ul">
<li>the support for short-path is disabled</li>
<li>only OCaml 4.10.0 is supported in this preview</li>
</ul>

<p>
It can be installed via opam with the usual
</p>
<div class="org-src-container">
<pre class="src src-shell">opam install merlin
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-orgc74d7ff" class="outline-2">
<h2 id="4">Transept 0.1.0: Generalised Parser Combinators</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-transept-0-1-0-generalised-parser-combinators/5262/1">https://discuss.ocaml.org/t/ann-transept-0-1-0-generalised-parser-combinators/5262/1</a>
</p>
</div>

<div id="outline-container-org20c5032" class="outline-3">
<h3 id="org20c5032">Didier Plaindoux announced</h3>
<div class="outline-text-3" id="text-org20c5032">
<p>
I‚Äôm happy to announce the first release of Transept an OCaml implementation of generalized parsers combinators.
</p>

<p>
This implementation has been inspired by a 19 years old paper - written by Daan Leijen and Erik Meijer - titled ‚ÄúParsec: Direct Style Monadic Parser
Combinators For The Real World‚Äù [1]. The current implementation provides basic combinators dedicated to char, chars recognition but also conjunction,
sequence, repetition and more. Since the current design relies on the abstract definition of manipulated element most of the parsers are generic and can be
used with streams of chars or something else.
</p>

<p>
Finally, with this library, I wanted to share my love of OCaml modules ü§ó
</p>

<p>
Opam: <a href="https://opam.ocaml.org/packages/transept/transept.0.1.0/">https://opam.ocaml.org/packages/transept/transept.0.1.0/</a>
</p>

<p>
[1] <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/parsec-paper-letter.pdf">https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/parsec-paper-letter.pdf</a>
</p>
</div>
</div>


<div id="outline-container-org6f6c19d" class="outline-3">
<h3 id="org6f6c19d">Didier Wenzek then said</h3>
<div class="outline-text-3" id="text-org6f6c19d">
<p>
It good to see yet another parser combinator for OCaml, even if this makes more difficult the choice of one of them. I believe this highlights how well OCaml
shines for this kind of applications where both high-level expressiveness and performance matter.
</p>

<p>
<a href="https://github.com/inhabitedtype/angstrom"><code>angstrom</code></a> is one the alternatives and provides a comparison with others. It would be good to position
<code>transept</code> here.
</p>

<p>
There is also a more recent article with a radically new approach: <a href="https://www.cl.cam.ac.uk/~nk480/parsing.pdf">A Typed, Algebraic Approach to Parsing</a> by
Neelakantan R. Krishnaswami and Jeremy Yallop - PLDI 2019. This paper proposes a <a href="https://github.com/yallop/ocaml-asp/">library of parser combinators</a> for
context-free expressions, an algebraic presentation of the context-free languages. The key points are
</p>
<ul class="org-ul">
<li>the use of types to statically reject any language which cannot be parsed unambiguously and linearly;</li>
<li>the use of staging, with OcamlBER, to produce parsers which performance are close to those of hand-written code.</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org55c5382" class="outline-2">
<h2 id="5">Multicore OCaml: Feb 2020 update</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/multicore-ocaml-feb-2020-update/5227/3">https://discuss.ocaml.org/t/multicore-ocaml-feb-2020-update/5227/3</a>
</p>
</div>

<div id="outline-container-orgeed142d" class="outline-3">
<h3 id="orgeed142d">Continuing this thread, Rwmjones asked</h3>
<div class="outline-text-3" id="text-orgeed142d">
<p>
Hi Anil (or anyone!).  Is there a place I can find more about breaking changes that might be made to C extensions?  As you may know we have a lot of C code
which interfaces with OCaml, both as ordinary extensions written in C, but also embedding OCaml in C programs (although that's much more rare), and I'd like
a heads up about what's likely to change.
</p>
</div>
</div>


<div id="outline-container-org8c230e5" class="outline-3">
<h3 id="org8c230e5">Anil Madhavapeddy replied</h3>
<div class="outline-text-3" id="text-org8c230e5">
<p>
Hi @rwmjones! In a nutshell: no breaking C changes. The longer version is that we implemented two different minor collectors in order to evaluate various
tradeoffs systematically:
</p>

<ul class="org-ul">
<li>a concurrent minor collector that requires a read barrier and some C API changes in order to create more safe points</li>
<li>a stop-the-world minor collector that doesn't require a read barrier and no extra C API changes, but would probably cause longer pauses</li>
</ul>

<p>
The good news is that our STW collector scales up much better than we expected (tested to 24 cores), and so our first domains patchset will almost certainly
use that version now.  We expect to shift to a concurrent (and possibly pauseless) collection algorithm at some future point, but in terms of upstreaming it
looks like we should be able to delay any C API changes until after the first version of multicore has landed.
</p>

<p>
Do you have any nice standalone candidate programs using the C FFI we could add to Sandmark?
</p>
</div>
</div>
</div>




<div id="outline-container-orgd8b7421" class="outline-2">
<h2 id="6">owl 0.8.0 and 0.9.0 released</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-owl-0-8-0-and-0-9-0-released/5281/1">https://discuss.ocaml.org/t/ann-owl-0-8-0-and-0-9-0-released/5281/1</a>
</p>
</div>

<div id="outline-container-org80802a4" class="outline-3">
<h3 id="org80802a4">Marcello Seri announced</h3>
<div class="outline-text-3" id="text-org80802a4">
<p>
We are happy to announce <b>two</b> new releases of <code>owl</code>: a dedicated system for scientific and engineering computing in OCaml.
</p>

<p>
Since our previous announcement in July last year, there has been an <a href="https://github.com/owlbarn/owl/blob/master/CHANGES.md">enormous amount of work</a> going
on to cleanup and extend owl's internals and its interfaces.
</p>

<p>
In this period we have been trying to release often and keep disruption to a minimum. Owl 0.8.0 and 0.9.0 are exceptional in this respect:
</p>

<ul class="org-ul">
<li><code>owl.0.8.0</code>:
<ul class="org-ul">
<li><p>
the discrepancy between <code>owl-base</code> (pure ocaml) and <code>owl</code> (links cblas/lapacke) interfaces started becoming a problem in few places. In this release many interfaces have been unified and reused. The algodiff module has undergone a similar refactoring. Although most users should be shielded from these changes, they may break existing code, requiring an upper bound on owl and some localized updates. This should mostly boil down to changes like
</p>
<div class="org-src-container">
<pre class="src src-diff"><span style="background-color: #ffdddd;">-</span><span style="background-color: #ffdddd;">module CGraph_D = Owl_computation_engine.Make_Graph (Owl_computation_cpu_device.Make (Dense.Ndarray.D))</span>
+module CGraph_D = Owl_computation_engine.Make_Graph (Owl_computation_cpu_device.Make (Owl_algodiff_primal_ops.D))
</pre>
</div></li>
<li>this is the last edition supporting OCaml compiler versions &lt; 4.10.0 (more on this later).</li>
</ul></li>
<li><code>owl.0.9.0</code>: the main difference between <code>0.8.0</code> and <code>0.9.0</code> is that owl now requires OCaml 4.10.0. This release of OCaml introduces <b>extended indexing operators</b>. With them we can now write things like <code>x.%{0;3}</code> (for indexing) and <code>x.${[0:2];[2;4]}</code> (for slicing) instead of the more cumbersome <code>x.%{[|0;3|]}</code> and  <code>x.${[[0:2];[2;4]]}</code>.</li>
</ul>

<p>
The project is thoroughly documented at <a href="http://ocaml.xyz">ocaml.xyz </a> where you can find multiple examples of use.
</p>

<p>
A lot of work has (and is) been going into improving the documentation, you can find the results in the new <a href="https://ocaml.xyz/book/toc.html">owl book</a>:
<a href="https://ocaml.xyz/book/toc.html">https://ocaml.xyz/book/toc.html</a>. This is currently targeting the development version of owl, so using <code>master</code> or <code>0.9.0</code> is the best bet if you want to try
the examples out.
</p>

<p>
One of the issue of the old documentation was that it was getting stale very fast: the book is reusing some of the infrastructure of RWO, so all examples get
recompiled and retested continuously to ensure their correctness.
</p>

<p>
As a final note, we would like to send a huge thank to the <a href="http://ocaml-sf.org/">OCaml Software Foundation</a>, see also the <a href="https://discuss.ocaml.org/t/ann-the-ocaml-software-foundation/4476">announcement made on this
forum</a>, which has given us some funding that will support a retreat of the maintainers
and a development sprint that will take place at the end of March.
</p>

<p>
We meant to announce the retreat and sprint for some time now, but the size and publicity of the event may depend on updates to the various governmental and
institutional recommendation in regards to COVID-19 spreading.
If a public event will be possible, we will make a separate announce on this forum.
</p>

<p>
We want to also thank all the contributors for the increasing number of comments, fixes and discussions that are helping us shape the next releases of owl.
</p>

<p>
The Owl Dev Team
</p>
</div>
</div>
</div>




<div id="outline-container-org052982e" class="outline-2">
<h2 id="7">Parser combinators vs. parser preprocessors?</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/parser-combinators-vs-parser-preprocessors/5263/4">https://discuss.ocaml.org/t/parser-combinators-vs-parser-preprocessors/5263/4</a>
</p>
</div>

<div id="outline-container-org8e41283" class="outline-3">
<h3 id="org8e41283">Continuing this thread, yallop said</h3>
<div class="outline-text-3" id="text-org8e41283">
<p>
Gasche said:
</p>
<blockquote>
<p>
Combinators also describe a grammar; they can build a representation that is then processed. I think it would be perfectly reasonable to provide combinators
to describe a L(AL)R grammar, and then a function from such a grammar to a parsing automaton, along with the result of various analyses. This would solve the
‚Äúadditional tooling‚Äù problem of typical parser generators, and also the ‚Äúlack of conflict analysis‚Äù problem of typical parser combinator libraries. But it
may require support for staging for performance reasons.
</p>
</blockquote>

<p>
Readers of this thread may be interested in the <a href="https://github.com/yallop/ocaml-asp/">asp</a> (<b>algebraic staged parsing</b>) library (also described in the
<a href="https://discuss.ocaml.org/t/ann-transept-0-1-0-generalised-parser-combinators/5262">Transept post</a> linked above), which is built on an approach along the
lines @gasche describes:
</p>
<ul class="org-ul">
<li>combinators that describe a grammar (using context-free expressions)</li>
<li>an analysis (formulated as a type system) that ensures deterministic parsing</li>
<li>staging to eliminate performance overhead</li>
</ul>

<p>
The interface is pretty standard, with combinators for alternation, sequencing, etc., and performance is quite good (better than <code>ocamlyacc</code> on our
benchmarks).
</p>

<p>
There's a paper, <a href="https://www.cl.cam.ac.uk/~jdy22/papers/a-typed-algebraic-approach-to-parsing.pdf">A typed algebraic approach to parsing</a>, that describes
the design in more detail.
</p>

<p>
Chet_Murthy said:
</p>
<blockquote>
<p>
Also, I‚Äôm personally a massive LL(1) (over LALR) bigot
</p>
</blockquote>

<p>
Grammars built using <code>asp</code> are essentially LL(1).  (The weasel word "essentially" isn't hiding much here, but the paper has the details.)
</p>
</div>
</div>
</div>




<div id="outline-container-org63d5a26" class="outline-2">
<h2 id="8">Dune 2.4.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-dune-2-4-0/5288/1">https://discuss.ocaml.org/t/ann-dune-2-4-0/5288/1</a>
</p>
</div>

<div id="outline-container-org29b99d0" class="outline-3">
<h3 id="org29b99d0">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-org29b99d0">
<p>
On behalf of the dune team, I'm pleased to announce the release of dune 2.4.0. This releases features support for
<a href="https://github.com/realworldocaml/mdx">mdx</a>, an interesting take on the notebook paradigm by the RWO team. This release also includes a crucial fix to
polling mode which makes it usable in environments with finite memory :slight_smile:.
</p>

<p>
Happy hacking!
</p>
</div>

<div id="outline-container-org559d255" class="outline-4">
<h4 id="org559d255">2.4.0 (06/03/2020)</h4>
<div class="outline-text-4" id="text-org559d255">
<ul class="org-ul">
<li>Add <code>mdx</code> extension and stanza version 0.1 (#3094, @NathanReb)</li>

<li>Allow to make Odoc warnings fatal. This is configured from the <code>(env ...)</code>
stanza. (#3029, @Julow)</li>

<li>Fix separate compilation of JS when findlib is not installed. (#3177, @nojb)</li>

<li>Add a <code>dune describe</code> command to obtain the topology of a dune workspace, for
projects such as ROTOR. (#3128, @diml)</li>

<li>Add <code>plugin</code> linking mode for executables and the <code>(embed_in_plugin_libraries
  ...)</code> field. (#3141, @nojb)</li>

<li>Add an <code>%{ext_plugin}</code> variable (#3141, @nojb)</li>

<li>Dune will no longer build shared objects for stubs if
<code>supports_shared_libraries</code> is false (#3225, fixes #3222, @rgrinberg)</li>

<li>Fix a memory leak in the file-watching mode (<code>dune build -w</code>)
(#3220, @snowleopard and @aalekseyev)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-org618f927" class="outline-2">
<h2 id="9">Tyxml 4.4.0</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-tyxml-4-4-0/5290/1">https://discuss.ocaml.org/t/ann-tyxml-4-4-0/5290/1</a>
</p>
</div>

<div id="outline-container-orge9835df" class="outline-3">
<h3 id="orge9835df">Gabriel Radanne announced</h3>
<div class="outline-text-3" id="text-orge9835df">
<p>
I have the pleasure to announce the release of <a href="https://github.com/ocsigen/tyxml/releases/tag/4.4.0">TyXML 4.4.0</a>, with special Reason support!
</p>

<p>
<a href="https://github.com/ocsigen/tyxml">TyXML</a> is a library for building statically correct HTML and SVG documents. TyXML provides a set of combinators which use
the OCaml type system to ensure the validity of the HTML. TyXML is now a stable library and this release comes with a few newly supported elements and
attributes (such as ARIA elements) and associated bug fixes. However, the main novelty of this release is a long awaited feature: the support for <a href="https://reasonml.github.io/docs/en/jsx.html">Reason‚Äôs
JSX syntax</a> in the brand new <code>tyxml-jsx</code> package.
</p>

<p>
See the complete announcement for code examples and details: <a href="https://drup.github.io/2020/03/06/tyxml440/">https://drup.github.io/2020/03/06/tyxml440/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgb42f9f9" class="outline-2">
<h2 id="10">first release of oplsr: an OCaml wrapper to the pls R package - Partial Least Squares (PLS) regression</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-oplsr-an-ocaml-wrapper-to-the-pls-r-package-partial-least-squares-pls-regression/5293/1">https://discuss.ocaml.org/t/ann-first-release-of-oplsr-an-ocaml-wrapper-to-the-pls-r-package-partial-least-squares-pls-regression/5293/1</a>
</p>
</div>

<div id="outline-container-orgbc68902" class="outline-3">
<h3 id="orgbc68902">UnixJunkie announced</h3>
<div class="outline-text-3" id="text-orgbc68902">
<p>
It is my great pleasure to release one more hackish
wrapper to use some R package from within OCaml:
</p>

<p>
<a href="https://github.com/UnixJunkie/oplsr">https://github.com/UnixJunkie/oplsr</a>
</p>

<p>
For some background:
<a href="https://en.wikipedia.org/wiki/Partial_least_squares_regression">https://en.wikipedia.org/wiki/Partial_least_squares_regression</a>
</p>

<p>
Cf. test.ml in the sources for a usage example.
</p>
</div>
</div>
</div>




<div id="outline-container-orgf5b3f0a" class="outline-2">
<h2 id="orgf5b3f0a">Old CWN</h2>
<div class="outline-text-2" id="text-orgf5b3f0a">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
