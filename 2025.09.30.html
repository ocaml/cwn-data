<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-09-30 Tue 15:11 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'JavaScript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2025.09.23.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2025.10.07.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of September 23 to 30, 2025.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">OCaml security team</a></li>
<li><a href="#2">ocaml-xmlerr 0.08.2 available</a></li>
<li><a href="#3">Contract OCaml Engineer – Terrateam (Remote, 3 months)</a></li>
<li><a href="#4">Mk-man module</a></li>
<li><a href="#5">gil scm .cmd</a></li>
<li><a href="#6">mini-svg version 0.03.13b, of 0.03.13</a></li>
<li><a href="#7">An efficient priority queue with low integer priorities</a></li>
<li><a href="#8">Cmdliner 2.0.0</a></li>
<li><a href="#9">Detrow, a command-line calendar</a></li>
<li><a href="#10">rpmfile 0.8.0+ library</a></li>
<li><a href="#11">OCaml compiler office hours? (preparation thread)</a></li>
<li><a href="#12">Other OCaml News</a></li>
<li><a href="#org599395f">Old CWN</a></li>
</ul>
</div>
</div>
<div id="outline-container-1" class="outline-2">
<h2 id="1">OCaml security team</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-security-team/16902/1">https://discuss.ocaml.org/t/ann-ocaml-security-team/16902/1</a>
</p>
</div>
<div id="outline-container-orgbde8c7e" class="outline-3">
<h3 id="orgbde8c7e">Hannes Mehnert announced</h3>
<div class="outline-text-3" id="text-orgbde8c7e">
<p>
Dear everyone,
</p>

<p>
We are starting an effort to push security into OCaml. This is based on discussions in the OCaml Software Foundation with industry partners. The main goal is to have best practises similar to those of other programming language ecosystems.
</p>
</div>
<div id="outline-container-org26d4ee2" class="outline-4">
<h4 id="org26d4ee2">Reporting security issues</h4>
<div class="outline-text-4" id="text-org26d4ee2">
<p>
This entails a point of contact for the security team - which deals with communication between the person who found a security-relevant problem in OCaml software (named "reporter"), who can then contact us - the security team - instead of using a public bug tracker, and the upstream OCaml developer(s).
</p>

<p>
We, the security team, will establish the three-way communication, and since we have a documented security disclosure process (which will be published soon), we will guide everyone through the process and ensure that timelines are met, CVE numbers are assigned, &hellip;
</p>
</div>
</div>
<div id="outline-container-org6339abd" class="outline-4">
<h4 id="org6339abd">Team composition</h4>
<div class="outline-text-4" id="text-org6339abd">
<p>
The OCaml security team currently consists of individual security experts and individuals representing company sponsors of the OCaml Software Foundation. Individual members participating on a personal capacity may be compensated for their time from the OCaml Software Foundation.
</p>

<p>
The team currently consists of 7 members
</p>
<ul class="org-ul">
<li>Hannes Mehnert <a href="https://github.com/hannesm">https://github.com/hannesm</a> - individual, chair</li>
<li>Mindy <a href="https://github.com/yomimono">https://github.com/yomimono</a> - individual</li>
<li>Joe <a href="https://github.com/cfcs">https://github.com/cfcs</a> - individual</li>
<li>Edwin Török <a href="https://github.com/edwintorok">https://github.com/edwintorok</a> - individual</li>
<li>Nicolás Ojeda Bär <a href="https://github.com/nojb">https://github.com/nojb</a> - LexiFi</li>
<li>Louis Roché <a href="https://github.com/khady">https://github.com/khady</a> - ahrefs</li>
<li>Maxim Grankin <a href="https://github.com/maxim092001">https://github.com/maxim092001</a> - Bloomberg</li>
</ul>

<p>
We're in the process to formalise the responsibilities of the team, our proposed disclosure process, and how to join &amp; leave the team.
</p>
</div>
</div>
<div id="outline-container-org9ddf000" class="outline-4">
<h4 id="org9ddf000">Funding for security actions</h4>
<div class="outline-text-4" id="text-org9ddf000">
<p>
In complement to the security disclosure process, we will accept funding requests for projects that make OCaml more secure (including guidelines how to develop OCaml in a secure way/what are common pitfalls; static analysis; dissemination tools; &hellip;). The OCaml Software Foundation will provide funding for these security actions. After this summer we will discuss this in more depth with the community.
</p>
</div>
</div>
<div id="outline-container-org8c86fb6" class="outline-4">
<h4 id="org8c86fb6">Next steps</h4>
<div class="outline-text-4" id="text-org8c86fb6">
<p>
We will setup a website (similar to <a href="https://www.haskell.org/security/">https://www.haskell.org/security/</a> has) soon, and provide an email address for contacting us - security At ocamlDoT org is forwarding to our team. We plan to setup a mailing list for security announcements.
</p>

<p>
But more on that at a later point, this brief post is mainly about the fact that this team starts to exist now, and is working on improving the security story of OCaml.
</p>

<p>
If you have any questions for now, please feel free to discuss them in this announcement. Please be aware that it is vacation time soon, so we may not be very responsive.
</p>
</div>
</div>
</div>
<div id="outline-container-orgb9e3d82" class="outline-3">
<h3 id="orgb9e3d82">Hannes Mehnert later added</h3>
<div class="outline-text-3" id="text-orgb9e3d82">
<p>
Dear everyone,
</p>

<p>
we’ve accomplished several tasks:
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/security">https://ocaml.org/security</a> is now live</li>
<li>The public mailing list for security advisories is sympa.inria.fr/sympa/info/ocsf-ocaml-security-announcements – please subscribe if you’d like to receive security announcements</li>
<li>There’ll be a brief introduction at <a href="https://fun-ocaml.org">Fun OCaml</a> and a talk at <a href="https://conf.researchr.org/details/icfp-splash-2025/ocaml-2025-papers/9/Toward-a-More-Secure-OCaml-Ecosystem">OCaml workshop (ICFP)</a> )16:00 - 16:30</li>
<li>We will have a public meeting for discussions on Oct 22nd 14:00 - 16:00 CEST (online, yet to be announced where)</li>
<li>There’s already the OCaml security advisory database <a href="https://github.com/ocaml/security-advisories">https://github.com/ocaml/security-advisories</a> (still empty, we’ll fill it over the next weeks)</li>
</ul>
</div>
</div>
<div id="outline-container-org1de4bb9" class="outline-3">
<h3 id="org1de4bb9">Hannes Mehnert then said</h3>
<div class="outline-text-3" id="text-org1de4bb9">
<blockquote>
<p>
We will have a public meeting for discussions on Oct 22nd 14:00 - 16:00 CEST (online, yet to be announced where) – save the date if you’re interested
</p>
</blockquote>

<p>
We settled on a platform, and will have the meeting at <a href="https://meet.bornhack.dk/OCamlSecurityPublicMeeting">https://meet.bornhack.dk/OCamlSecurityPublicMeeting</a>
</p>

<p>
An agenda will be posted before the meeting.
</p>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="2">ocaml-xmlerr 0.08.2 available</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-xmlerr-0-08-2-available/17313/1">https://discuss.ocaml.org/t/ann-ocaml-xmlerr-0-08-2-available/17313/1</a>
</p>
</div>
<div id="outline-container-orgc77e86c" class="outline-3">
<h3 id="orgc77e86c">Florent Monnier announced</h3>
<div class="outline-text-3" id="text-orgc77e86c">
<p>
This is an annouce for ocaml-xmlerr.
</p>

<p>
<b>ocaml-xmlerr</b> version <b>0.08.2</b> is <b>available</b>.
</p>

<p>
This main module of this package is a small module to read xml with errors.
</p>

<p>
The main purpose was not to really read xml with errors, but to read html from the web.
</p>

<p>
At the beginning I wrote in the read-me file that I wrote it in one afternoon, but this is without considering that in fact it was the third time I was trying to make something like this.
</p>

<p>
One of the first attempt even probably took me almost a day. So we can not say that I succeed easily.
</p>

<p>
In the .zip archive of ocaml-xmlerr version 0.08.2, you will find the different modules re-organized with dirs.
</p>

<p>
And there are also two additional commands build on top of the first module.
</p>

<p>
<b>htmlxtr</b> is a simple extractor for HTML from a simple template.
Please read the man page for more description about how to use it:
</p>
<pre class="example" id="orge90fce2">
$ man ./htmlxtr.1
</pre>
<p>
There is also <b>htmluxtr</b> - a simple extractor for .html using a simple un-template / re-template method.
Please read the man page for more informations :
</p>
<pre class="example" id="org31a1c68">
$ man ./htmluxtr.1
</pre>
<p>
There is a new example of use provided in the 'using' directory.
</p>

<p>
There is a script to help you writing your pattern matching of xml fragments.
The base module providing a list for tags and contents, the pattern matching is not done based on a tree-structure.
</p>

<p>
And there is now an additional module to convert this flat-list structure into a tree structure, inside the addon directory. The report module has not been widely tested yet.
</p>

<p>
This is not professional quality.
</p>

<p>
If I'm not mistaken "amateur" is both pejorative, in both french and in english languages, exept if it's associated with "astronomer".
</p>

<p>
<a href="http://decapode314.free.fr/ocaml/xmlerr/index4.html">http://decapode314.free.fr/ocaml/xmlerr/</a>
</p>

<p>
PS: if you edit my posts, I would prefer you edit the links with normal links (like above), please.
</p>

<p>
PS-2 : I haven't been able to pattern-match all the opam packages with uxtr, the total doesn't match, I only find 38_000.
</p>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="3">Contract OCaml Engineer – Terrateam (Remote, 3 months)</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/contract-ocaml-engineer-terrateam-remote-3-months/17314/1">https://discuss.ocaml.org/t/contract-ocaml-engineer-terrateam-remote-3-months/17314/1</a>
</p>
</div>
<div id="outline-container-org8593173" class="outline-3">
<h3 id="org8593173">Josh Pollara announced</h3>
<div class="outline-text-3" id="text-org8593173">
<p>
Terrateam (<a href="https://terrateam.io">https://terrateam.io</a>) is looking for an experienced OCaml engineer to join us on a 3-month contract.
</p>

<p>
<b>About us</b>
Terrateam is an open-source tool for GitOps-based Terraform automation. We are a small, bootstrapped team building infrastructure automation software used by enterprises.
</p>

<p>
<b>The role</b>
We are extending our OCaml codebase to support new functionality around Terraform state and plan execution. The work is primarily in OCaml, with a focus on systems programming, concurrency, and backend development. You’ll work directly with the founding team on scoped engineering projects and help push forward the internals of how Terraform can be used at scale.
</p>

<p>
<b>Details</b>
</p>

<ul class="org-ul">
<li>Contract length: 3 months (with potential extension)</li>
<li>Compensation: competitive, commensurate with experience</li>
<li>Location: remote (EU timezone preferred)</li>
<li>Start date: as soon as possible</li>
</ul>

<p>
<b>Requirements</b>
</p>

<ul class="org-ul">
<li>Strong background in OCaml development</li>
<li>Experience with systems programming or infrastructure tooling (Terraform or related) is a plus</li>
<li>Ability to work independently in a fast-moving environment</li>
</ul>

<p>
If you are interested, please contact me directly at <a href="mailto:josh@terrateam.io">josh@terrateam.io</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="4">Mk-man module</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mk-man-module/17319/1">https://discuss.ocaml.org/t/ann-mk-man-module/17319/1</a>
</p>
</div>
<div id="outline-container-orgc0cd025" class="outline-3">
<h3 id="orgc0cd025">Florent Monnier announced</h3>
<div class="outline-text-3" id="text-orgc0cd025">
<p>
Mk-man tries to provide a simple way to write a man page,
<a href="http://decapode314.free.fr/ocaml2/mk_man/">http://decapode314.free.fr/ocaml2/mk_man/</a>
and also with a similare module to produce the web page.
</p>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="5">gil scm .cmd</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-gil-scm-cmd/17320/1">https://discuss.ocaml.org/t/ann-gil-scm-cmd/17320/1</a>
</p>
</div>
<div id="outline-container-org715bee5" class="outline-3">
<h3 id="org715bee5">Florent Monnier announced</h3>
<div class="outline-text-3" id="text-org715bee5">
<p>
Gil-scm is not really an scm, (source management control),
<a href="http://decapode314.free.fr/ocaml2/gil/index2.html">http://decapode314.free.fr/ocaml2/gil/</a>
it takes its inspiration from an scm, but it should more be considerated as a "snapshot-management-script".
It can output an .html interface of the following versions:
<a href="http://decapode314.free.fr/ocaml2/gil/02/versions.html">example</a>
</p>
</div>
</div>
</div>
<div id="outline-container-6" class="outline-2">
<h2 id="6">mini-svg version 0.03.13b, of 0.03.13</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mini-svg-version-0-03-13b-of-0-03-13/17322/1">https://discuss.ocaml.org/t/ann-mini-svg-version-0-03-13b-of-0-03-13/17322/1</a>
</p>
</div>
<div id="outline-container-orgd871681" class="outline-3">
<h3 id="orgd871681">Florent Monnier announced</h3>
<div class="outline-text-3" id="text-orgd871681">
<p>
The release "0.03.13" has been deleted, because chat-gpt informed me that the repository replicating some mondrian art hosted at github has been deleted. The rel-0.03.13 was also containing some pop-art replications, with random additions.
</p>

<p>
So these elements have been deleted, and are not there in "0.03.13b" anymore.
</p>

<p>
Sorry for the inconveniance.
</p>

<p>
PS: <a href="http://decapode314.free.fr/ocaml/mini-svg3/">mini-svg</a>
</p>

<p>
PS2: mini-svg is not professional quality.
</p>

<p>
PS3: To the extent permitted by law, you can use mini-svg with any spdx license.
</p>
</div>
</div>
</div>
<div id="outline-container-7" class="outline-2">
<h2 id="7">An efficient priority queue with low integer priorities</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-an-efficient-priority-queue-with-low-integer-priorities/17323/1">https://discuss.ocaml.org/t/ann-an-efficient-priority-queue-with-low-integer-priorities/17323/1</a>
</p>
</div>
<div id="outline-container-orgc3029a4" class="outline-3">
<h3 id="orgc3029a4">François Pottier announced</h3>
<div class="outline-text-3" id="text-orgc3029a4">
<p>
Hello,
</p>

<p>
I am happy to announce the release of <code>intPQueue</code>, a package that offers (two variants of) an efficient priority queue, which is restricted to scenarios where the priorities are low integers. See the <a href="https://cambium.inria.fr/~fpottier/intPQueue/doc/intPQueue/">documentation</a>.
</p>

<pre class="example" id="orgd1d792d">
opam update &amp;&amp; opam install intPQueue
</pre>

<p>
Happy queueing,
François.
</p>
</div>
</div>
</div>
<div id="outline-container-8" class="outline-2">
<h2 id="8">Cmdliner 2.0.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-cmdliner-2-0-0/17324/1">https://discuss.ocaml.org/t/ann-cmdliner-2-0-0/17324/1</a>
</p>
</div>
<div id="outline-container-orgdbb530e" class="outline-3">
<h3 id="orgdbb530e">Daniel Bünzli announced</h3>
<div class="outline-text-3" id="text-orgdbb530e">
<p>
Hello, 
</p>

<p>
It is my pleasure to announce the release of cmdliner 2.0.0. 
</p>

<blockquote>
<p>
Cmdliner is a library that allows the declarative definition of command line interfaces with outstanding support for command line interface user conventions and standards.
</p>
</blockquote>

<p>
The main points of this release are:
</p>

<ul class="org-ul">
<li>ANSI styled error and deprecation messages (<a href="https://erratique.ch/software/cmdliner/doc/cli.html#error_message_styling">details</a>)</li>
<li>Support for manpage installation (<a href="https://erratique.ch/software/cmdliner/doc/cli.html#install_tool_manpages">details</a>)</li>
<li>Support for shell auto-completion (<a href="https://erratique.ch/software/cmdliner/doc/cli.html#cli_completion">details</a>)</li>
</ul>

<p>
The latter was made possible by good initial <a href="https://github.com/dbuenzli/cmdliner/pull/187">ground work</a> of @andreypopp who can now claim to have unblocked my mind and the <a href="https://github.com/dbuenzli/cmdliner/issues/1">very first</a> and 11 years old Cmdliner issue. Many thanks to him!
</p>

<p>
This addition has the following consequences: 
</p>

<ol class="org-ol">
<li>The problematic feature that allowed you to specify command names, option names and enumerant values by a prefix if the prefix was unambiguous has now been removed. See <a href="https://github.com/dbuenzli/cmdliner/issues/200">this issue</a> for the rationale. Set <code>CMDLINER_LEGACY_PREFIXES=true</code> in your environment if you find yourself in need of a quick backward compatibility fix because one of your scripts is failing due to a prefix being used (but do eventually correct the script!).</li>

<li>It finally triggered making the type <code>Arg.conv</code> abstract as <a href="https://github.com/dbuenzli/cmdliner/blob/master/CHANGES.md#v100-2017-03-02-la-forclaz-vs">announced</a> it would become in 2017. See <a href="https://github.com/dbuenzli/cmdliner/issues/206%20">this issue</a> for details.</li>
</ol>

<p>
If you are a user of cmdliner based tools. You may want to have at a look how to <a href="https://erratique.ch/software/cmdliner/doc/cli.html#user_configuration">configure your shell</a> in order to benefit from their completion scripts, especially if said tools are installed via <code>opam</code>. After installing <code>cmdliner</code> you should be able to check that your configuration works correctly on the new <code>cmdliner</code> tool that now gets installed with cmdliner itself.
</p>

<p>
For other changes that may affect you or your users please head to the <a href="https://github.com/dbuenzli/cmdliner/blob/master/CHANGES.md#v200-2025-09-26-zagreb">release notes</a> which have many other details.
</p>

<p>
Other than that a full pass was made over the documentation to try to improve and bring it up-to-date with the latest style and additions. Notably the <a href="https://erratique.ch/software/cmdliner/doc/tutorial.html">tutorial</a> and <a href="https://erratique.ch/software/cmdliner/doc/examples.html">examples</a> were updated to make use of the binding operators; however obscure <a href="https://ocaml.org/manual/5.2/bindingops.html#ss%3Aletops-punning">let punning</a> may feel, these are less error prone as your number of cli arguments grow.
</p>

<p>
I also added a <a href="https://erratique.ch/software/cmdliner/doc/cookbook.html">cookbook</a> which tries to distill in shorter snippets some of cmdliner's features and the experience I gathered over the past 14 years of using cmdliner to define dozens of command line interfaces. It includes <a href="https://erratique.ch/software/cmdliner/doc/cookbook.html#tip_src_structure">source code structure tips</a> and a few bootstrapping <a href="https://erratique.ch/software/cmdliner/doc/cookbook.html#blueprints">blueprints</a> to cut and paste for when you start your next command line tool.
</p>

<p>
For this release I'm very thankful to a private one-time donation[^1], a grant from the <a href="https://ocaml-sf.org/">OCaml software foundation</a> and, as always, my few but faithfull <a href="https://github.com/sponsors/dbuenzli">donors</a>. All of which are essential for these releases to eventually get out. They do take quite a bit longer to devise that one would expect :–)
</p>

<p>
Home page: <a href="https://erratique.ch/software/cmdliner">https://erratique.ch/software/cmdliner</a>
</p>

<p>
API docs &amp; manuals: <a href="https://erratique.ch/software/cmdliner/doc/">https://erratique.ch/software/cmdliner/doc/</a>  or <code>odig doc cmdliner</code>
</p>

<p>
Install: <code>opam install cmdliner</code> (once <a href="https://github.com/ocaml/opam-repository/pull/28599">the PR</a> is merged, may take a few days)
</p>

<p>
Best, 
</p>

<p>
Daniel
</p>

<p>
[^1]: Which are as nice as recurring donations ;–)
</p>
</div>
</div>
<div id="outline-container-org8c0f3e4" class="outline-3">
<h3 id="org8c0f3e4">Daniel Bünzli later added</h3>
<div class="outline-text-3" id="text-org8c0f3e4">
<p>
To follow up on the completion feature. It should be stressed that I don't consider it to be fully "done" as it stands. I'm pretty sure the completion API, protocol, features and the generic completion scripts can be improved. The main problem is that it seems shell programmers are more interested in cajoling the look of their prompts than defining sane cross-shell standard protocols for tool/shell interaction. The current completion mecanisms are <a href="https://github.com/dbuenzli/cmdliner/issues/220">broken</a> beyond imagination.
</p>

<p>
Issues about completion are tagged accordingly in the issue tracker. Do not hesitate to chime in if you have ideas or more knowledge than I do for improvements. I'm also happy to add support for more shells but it's better if you help for that because working with shells makes me want to throw my computer out of the window.
</p>

<p>
Meanwhile I'd like to show two completion feature that I'm quite happy to have support for in this release. 
</p>
</div>
<div id="outline-container-org9d03b42" class="outline-4">
<h4 id="org9d03b42">Context sensitive completion</h4>
<div class="outline-text-4" id="text-org9d03b42">
<p>
The idea here, suggested by @andreypopp, is that completion can depend on a context that is specified via a cmdliner term itself. This is typically useful for configuration dependent completions: you have a cmdliner term that represents your configuration and you access it when doing a completion.
</p>

<p>
For example in the next release of <code>odig</code> you can autocomplete package names on <code>odig doc [PKG]</code>. The available packages depend on looking up a libdir which can be specified with a command line argument itself. So for example this completes according to the automatic libdir lookup
</p>

<pre class="example" id="org26787d7">
# Auto discovered libdir
&gt; odig doc c␉
camlp-streams   checkseum  cmarkit  camlpdf  cairo2  
containers      cmdliner   cpuid    cppo     cpdf    
cstruct-lwt     cstruct    ctypes   crunch   csexp   
ctypes-foreign      
</pre>

<p>
But the following looks for packages in another switch:
</p>

<pre class="example" id="org70d50fe">
# Explicit libdir
&gt; odig doc c␉ --lib-dir $(opam var lib --switch=myswitch) 
capitalization  cerberus-lib  calendar  charon        
core_kernel     core_unix     cmdliner  cppo    core  
cstruct         csexp  
</pre>

<p>
<a href="https://github.com/b0-system/odig/commit/e713f0c62c31f7009cb9d0d580094980fe93b1e6">The commit</a> that implements this in <code>odig</code> is rather straightforward, it simply reuses the existing <code>conf</code> term for the completion context. Also the cookbook has a <a href="https://erratique.ch/software/cmdliner/doc/cookbook.html#args_completion">simple self-contained example</a> to start from.
</p>
</div>
</div>
<div id="outline-container-org57aab03" class="outline-4">
<h4 id="org57aab03">Compositional completion (restart and raw)</h4>
<div class="outline-text-4" id="text-org57aab03">
<p>
The second completion feature is to retain completion on the tools that another tool invokes – commands like <code>sudo</code>. 
</p>

<p>
For example in the <code>b0</code> tool, the build system I'm using for all my developments. The <code>b0 vcs [OPTION]… -- VCS [ARG]…</code> command allows to bulk operate the VCSs of the projects you included in a <code>B0.ml</code> build description file. 
</p>

<p>
Using appopriate cmdliner completion directives the completion of this command first completes the <code>VCS</code> enum (which can be <code>git</code> or <code>hg</code>) and then gracefully drops back to the completion of
your VCS:
</p>

<pre class="example" id="org2b04411">
&gt; b0 vcs -- ␉
git  hg  --
&gt; b0 vcs -- git sh␉
shell       -- restricted login shell for GIT-only SSH access
shortlog    -- summarize git log output
show        -- show various types of objects
show-branch -- show branches and their commits
show-index  -- show packed archive index
show-ref    -- list references in a local repository
</pre>

<p>
This is a <a href="https://erratique.ch/software/cmdliner/doc/Cmdliner/Arg/Completion/index.html#val-restart">restart</a> completion type. It restarts the completion context as if the cli started after the <code>--</code> token. 
</p>

<p>
It is the kind of behaviour you want from e.g. <code>opam exec</code>, though arguably in the case of <code>opam exec</code> it will be sligthly misleading since completions will occur using the outer environment rather than the one setup by <code>opam exec -- TOOL [ARG]…</code>.  Still, sometimes inaccurate completion is better than no completion. 
</p>

<p>
Note that this would be quite easy to solve with a good cross-shell completion standard: just invoke <code>TOOL</code> in the environment setup by <code>opam exec</code> according to the completion standard (e.g. the <a href="https://erratique.ch/software/cmdliner/doc/cli.html#completion_protocol">cmdliner completion protocol</a>) and propagate the result back in the completion for <code>opam exec</code>, but we do not live in that world. Still the API is ready for such a technique to be used, by using a <a href="https://erratique.ch/software/cmdliner/doc/Cmdliner/Arg/Completion/index.html#val-raw">raw</a> completion type (I <a href="https://github.com/b0-system/b0/blob/9c9810ad158a83ccfbbf37a7e65b11a3a3e8a922/src/tool/b0_cmd_build.ml#L355-L384">use this</a> in <code>b0</code> to complete custom, library and user-defined, actions like <code>b0 -- .opam</code> or <code>b0 -- .ocaml</code>). 
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-9" class="outline-2">
<h2 id="9">Detrow, a command-line calendar</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-detrow-a-command-line-calendar/17328/1">https://discuss.ocaml.org/t/ann-detrow-a-command-line-calendar/17328/1</a>
</p>
</div>
<div id="outline-container-org0b44cff" class="outline-3">
<h3 id="org0b44cff">Florent Monnier announced</h3>
<div class="outline-text-3" id="text-org0b44cff">
<p>
<a href="http://decapode314.free.fr/ocaml2/detrow/">Detrow</a> is a command-line calendar which displays the months of a calendar in colomns.
</p>

<p>
(So each days of months are aligned in rows)
</p>

<p>
(With <a href="http://decapode314.free.fr/ocaml/detris.html">Detris</a>, months are displayed in a similar way than the cal unix command.)
</p>

<p>
You can download it with the following command:
</p>
<pre class="example" id="org5ce7b93">
wget http://decapode314.free.fr/ocaml2/detrow/dl/0.01b/detrow.ml
</pre>
<p>
Then you can call it like this:
</p>
<pre class="example" id="orgeb48c53">
$ \ocaml detrow.ml
</pre>
<p>
It will display the first half of the month, Januray until June.
</p>

<p>
If you want the second half of the year, Jully until December, you can call it again with:
</p>
<pre class="example" id="org69e9f3a">
$ \ocaml detrow.ml b
</pre>
<p>
The first half, can also be called with the "a" parameter:
</p>
<pre class="example" id="org65f85b4">
$ \ocaml detrow.ml a
</pre>
<p>
If you call it like this:
</p>
<pre class="example" id="org573aa93">
$ \ocaml detrow.ml ann-file 2025 b
</pre>
<p>
With the file called "ann-file" containing:
</p>
<pre class="example" id="org2ccb2a5">
$ cat ann-file
2025-09-27: detrow-ann
</pre>
<p>
You will see the string `"detrow-ann"` displayed in the calendar in front of the day `"2025-09-27"`.
(The number of chars that can be displayed is lower than 8 (<code>&lt; 8</code>).)
</p>
</div>
</div>
</div>
<div id="outline-container-10" class="outline-2">
<h2 id="10">rpmfile 0.8.0+ library</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-rpmfile-0-8-0-library/17330/1">https://discuss.ocaml.org/t/ann-rpmfile-0-8-0-library/17330/1</a>
</p>
</div>
<div id="outline-container-org0794ee8" class="outline-3">
<h3 id="org0794ee8">Mikhail announced</h3>
<div class="outline-text-3" id="text-org0794ee8">
<p>
Hello,
</p>

<p>
I am pleased to announce the next <i>major</i> version of <a href="https://github.com/dx3mod/rpmfile">my library for reading RPM packages</a>, powered by <a href="https://github.com/inhabitedtype/angstrom">Angstrom</a>.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code># #require <span style="color: #ca3400;">"rpmfile"</span><span style="color: #ff4500;">;;</span>

# <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">pkg</span> = 
    <span style="color: #444fcf;">In_channel.</span>with_open_bin 
      <span style="color: #ca3400;">"hello-2.12.2-2.fc43.x86_64.rpm"</span> 
      <span style="color: #444fcf;">Rpmfile.Reader.</span>of_channel
    <span style="color: #a52a2a;">|&gt;</span> <span style="color: #444fcf;">Result.</span>get_ok<span style="color: #ff4500;">;;</span>

# <span style="color: #444fcf;">Rpmfile.View.</span>name pkg<span style="color: #ff4500;">;;</span>
- : string = <span style="color: #ca3400;">"hello"</span>

# <span style="color: #444fcf;">Rpmfile.View.</span>vendor pkg<span style="color: #ff4500;">;;</span>
- : string = <span style="color: #ca3400;">"Fedora Project"</span>

# <span style="color: #444fcf;">Rpmfile.View.</span>version pkg<span style="color: #ff4500;">;;</span>
- : string = <span style="color: #ca3400;">"2.12.2"</span>
</code></pre>
</div>

<p>
This release has <b>broken the previous API</b> and made it simpler and more compact.
</p>

<p>
Added capture of the payload of the RPM package body. But it is not effective enough.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code># pkg.payload<span style="color: #ff4500;">;;</span>
- : string option = None
</code></pre>
</div>

<p>
You can implement this functionality manually using <a href="https://ocaml.org/p/lwt/latest">Lwt</a> and angstrom-lwt-unix or something else.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code><span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">examples/extract_payload_by_lwt.ml</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">default_tags_selector</span> =
  <span style="color: #444fcf;">Rpmfile.Reader.</span>
    {
      predicate_signature_tag = <span style="color: #444fcf;">Fun.</span>const <span style="color: #00824f;">true</span>;
      predicate_header_tag = <span style="color: #444fcf;">Fun.</span>const <span style="color: #00824f;">true</span>;
    }

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">pkg_parser</span> =
  <span style="color: #444fcf;">Rpmfile.Reader.</span>make_package_parser <span style="color: #00824f;">~capture_payload</span>:<span style="color: #00824f;">false</span>
    <span style="color: #00824f;">~tags_selector</span>:default_tags_selector

<span style="color: #000000; font-weight: bold;">let</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Lwt.Syntax</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #444fcf;">Lwt_main.</span>run
  <span style="color: #a52a2a;">@@</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">ic</span> = <span style="color: #444fcf;">Lwt_io.</span>open_file <span style="color: #00824f;">~mode</span>:<span style="color: #242521; background-color: #fcf7ef;">Input</span> <span style="color: #ca3400;">"hello.rpm"</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">_pkg</span> =
    <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">b</span>, <span style="color: #007a9f;">r</span> = <span style="color: #444fcf;">Angstrom_lwt_unix.</span>parse pkg_parser ic <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #000000; font-weight: bold;">let+</span> <span style="color: #007a9f;">_</span> = <span style="color: #444fcf;">Lwt_io.</span>set_position ic (<span style="color: #444fcf;">Int64.</span>of_int b.off) <span style="color: #000000; font-weight: bold;">in</span>
    <span style="color: #444fcf;">Result.</span>get_ok r
  <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let*</span> <span style="color: #007a9f;">payload</span> = <span style="color: #444fcf;">Lwt_io.</span>read ic <span style="color: #000000; font-weight: bold;">in</span>

  <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">...</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
</code></pre>
</div>

<p>
&hellip; :pie:
</p>
</div>
</div>
</div>
<div id="outline-container-11" class="outline-2">
<h2 id="11">OCaml compiler office hours? (preparation thread)</h2>
<div class="outline-text-2" id="text-11">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-compiler-office-hours-preparation-thread/17230/8">https://discuss.ocaml.org/t/ocaml-compiler-office-hours-preparation-thread/17230/8</a>
</p>
</div>
<div id="outline-container-orgb601bc7" class="outline-3">
<h3 id="orgb601bc7">Continuing this thread, gasche announced</h3>
<div class="outline-text-3" id="text-orgb601bc7">
<p>
Given the current votes, I propose to pick
</p>

<p>
<b>Friday October 10th</b>
<b>UTC 11:00 &ndash; UTC 12:30</b>
</p>

<p>
as the time slot for this test run of OCaml compiler office hours. Save the date!
</p>

<p>
I propose to try <a href="https://webinaire.numerique.gouv.fr/meeting/signin/invite/64288/creator/23503/hash/4ad3529af76e35eae42dfa410afc68ff4f24d9af">This online meeting room</a> (this is a BigBlueButton instance hosted by the French government for public workers), and take notes on <a href="https://codimd.math.cnrs.fr/nuew1gMsROCAy_klt_TkJg#">this collaborative pad</a>.
</p>

<p>
I am planning to join audio-only to save bandwidth, but people are free to do as they prefer.
</p>

<p>
A reminder on the format, topic:
</p>

<blockquote>
<p>
Format: a synchronous remote meeting (voice with optional video), backed by a collaborative pad to record questions, take notes, share links etc. People can join and leave at any time during the office hours.
</p>

<p>
Topic: anything related to the development of the OCaml compiler, that is, the github/ocaml/ocaml project. (All topics and questions are welcome, at all levels of knowledge and familiarity with the compiler.)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-12" class="outline-2">
<h2 id="12">Other OCaml News</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org65de2f5" class="outline-3">
<h3 id="org65de2f5">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-org65de2f5">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://www.dra27.uk/blog/platform/2025/09/28/effectful-bug-hunting.html">A second foray into agentic coding</a></li>
<li><a href="https://fearful-odds.rocks/blog/model-mapping-and-validation-in-ocaml">Model Validation &amp; Time Utilities Sprint: From Basic Models to Proper Validation Layer</a></li>
<li><a href="https://tarides.com/blog/2025-09-25-parsimoni-joins-techstars-autumn-2025-programme">Parsimoni Joins Techstars' Autumn 2025 Programme!</a></li>
<li><a href="https://www.dra27.uk/blog/platform/2025/09/25/building-with-effects.html">Retrofitting a build system into a compiler</a></li>
<li><a href="https://jon.recoil.org/blog/2025/09/caching-opam-solutions2.html">Caching opam solutions - part 2</a></li>
<li><a href="https://ocaml.org/events">Upcoming OCaml Events</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org599395f" class="outline-2">
<h2 id="org599395f">Old CWN</h2>
<div class="outline-text-2" id="text-org599395f">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="orgdcde181">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
