<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-06-03 Tue 11:18 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'JavaScript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2025.05.27.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2025.06.10.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of May 27 to June 03, 2025.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">First alpha release of OCaml 5.4.0</a></li>
<li><a href="#2">Combining LLVM MC, lld, precompiled C and bytecode</a></li>
<li><a href="#3">Uniqueness for Behavioural Types Â· KC Sivaramakrishnan</a></li>
<li><a href="#4">A ppx for denoting unreachable branches</a></li>
<li><a href="#5">Sound on OCaml on Windows</a></li>
<li><a href="#6">Opam repository archival, phase 3</a></li>
<li><a href="#7">Peer-Programming in Modern OCaml with ChatGPT and Gemini</a></li>
<li><a href="#org90770bd">Old CWN</a></li>
</ul>
</div>
</div>
<div id="outline-container-1" class="outline-2">
<h2 id="1">First alpha release of OCaml 5.4.0</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/first-alpha-release-of-ocaml-5-4-0/16722/1">https://discuss.ocaml.org/t/first-alpha-release-of-ocaml-5-4-0/16722/1</a>
</p>
</div>
<div id="outline-container-org0b1282e" class="outline-3">
<h3 id="org0b1282e">octachron announced</h3>
<div class="outline-text-3" id="text-org0b1282e">
<p>
Four months after the release of OCaml 5.3.0, the set of new features for the
future version 5.4.0 of OCaml has been frozen. We are thus happy to announce the
first alpha release for OCaml 5.4.0.
</p>

<p>
This alpha version is here to help fellow hackers join us early in our bug
hunting and opam ecosystem fixing fun (see below for the installation
instructions) [^1].
</p>

<p>
The progresses on stabilising the ecosystem are tracked on the <a href="https://github.com/ocaml/opam-repository/issues/27916">opam readiness for 5.4.0 meta-issue</a>.
</p>

<p>
The full release is expected around the end of July [^2]. 
</p>

<p>
If you find any bugs, please report them on <a href="https://github.com/ocaml/ocaml/issues">OCaml's issue tracker</a>.
</p>

<p>
If you are interested in the ongoing list of new features and bug fixes, you can have a look at
<a href="https://github.com/ocaml/ocaml/blob/5.4/Changes">the changelog for OCaml 5.4.0</a>.
</p>

<p>
Happy hacking,
Florian Angeletti for the OCaml team
</p>
</div>
<div id="outline-container-orga0463fc" class="outline-4">
<h4 id="orga0463fc">Installation Instructions</h4>
<div class="outline-text-4" id="text-orga0463fc">
<p>
The base compiler can be installed as an opam switch with the following commands
on opam 2.1 and later:
</p>

<pre class="example" id="orgb35f66a">
opam update
opam switch create 5.4.0~alpha1
</pre>

<p>
The source code for the alpha is also available at these addresses:
</p>

<ul class="org-ul">
<li>GitHub: <a href="https://github.com/ocaml/ocaml/archive/5.4.0-alpha1.tar.gz">https://github.com/ocaml/ocaml/archive/5.4.0-alpha1.tar.gz</a></li>
<li>OCaml archives at Inria: <a href="https://caml.inria.fr/pub/distrib/ocaml-5.4/ocaml-5.4.0~alpha1.tar.gz">https://caml.inria.fr/pub/distrib/ocaml-5.4/ocaml-5.4.0~alpha1.tar.gz</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgcc76b73" class="outline-4">
<h4 id="orgcc76b73">Fine-Tuned Compiler Configuration</h4>
<div class="outline-text-4" id="text-orgcc76b73">
<p>
If you want to tweak the configuration of the compiler, you can switch to the option variant with:
</p>

<pre class="example" id="org224e2e2">
opam update
opam switch create &lt;switch_name&gt; ocaml-variants.5.4.0~alpha1+options &lt;option_list&gt;
</pre>

<p>
where <code>option_list</code> is a space separated list of <code>ocaml-option-*</code> packages. For instance, for a flambda and no-flat-float-array switch:
</p>

<pre class="example" id="org5a4f4f0">
opam switch create 5.4.0~alpha1+flambda+nffa ocaml-variants.5.4.0~alpha1+options ocaml-option-flambda ocaml-option-no-flat-float-array
</pre>

<p>
All available options can be listed with <code>opam search ocaml-option</code>.
</p>

<p>
[^1]: The release process is described at  <a href="https://github.com/ocaml/ocaml/blob/trunk/release-info/introduction.md">https://github.com/ocaml/ocaml/blob/trunk/release-info/introduction.md</a> .
</p>

<p>
[^2]: See also the <a href="https://github.com/ocaml/ocaml/blob/trunk/release-info/calendar.md">prospective release calendar</a>.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="2">Combining LLVM MC, lld, precompiled C and bytecode</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-combining-llvm-mc-lld-precompiled-c-and-bytecode/16675/2">https://discuss.ocaml.org/t/ann-combining-llvm-mc-lld-precompiled-c-and-bytecode/16675/2</a>
</p>
</div>
<div id="outline-container-org0cb7e29" class="outline-3">
<h3 id="org0cb7e29">Continuing this thread, jbeckford announced</h3>
<div class="outline-text-3" id="text-org0cb7e29">
<p>
The latest update <code>2.3.202505282324</code> (see top post for links) has several fixes:
</p>
<ol class="org-ol">
<li>Using <code>./dk -O ReleaseSmall Exe</code> now has a working Windows target. The generated Windows executables do not require Visual Studio at runtime.</li>
<li>A use-after-free bug has been fixed which mainly affected cross-compilation for the Linux target.</li>
<li>Using a new <code>./dk gc clear</code> command will remove all the cache space.</li>
<li>A bug has been fixed with the auto-updates where it downloaded up to 5 updates and then reverted to the original.</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="3">Uniqueness for Behavioural Types Â· KC Sivaramakrishnan</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/uniqueness-for-behavioural-types-kc-sivaramakrishnan/16737/1">https://discuss.ocaml.org/t/uniqueness-for-behavioural-types-kc-sivaramakrishnan/16737/1</a>
</p>
</div>
<div id="outline-container-org0806a8d" class="outline-3">
<h3 id="org0806a8d">Shon announced</h3>
<div class="outline-text-3" id="text-org0806a8d">
<p>
<a href="https://kcsrk.info/ocaml/modes/2025/05/29/uniqueness_and_behavioural_types/">https://kcsrk.info/ocaml/modes/2025/05/29/uniqueness_and_behavioural_types/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="4">A ppx for denoting unreachable branches</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-a-ppx-for-denoting-unreachable-branches/16742/1">https://discuss.ocaml.org/t/ann-a-ppx-for-denoting-unreachable-branches/16742/1</a>
</p>
</div>
<div id="outline-container-orga1805cc" class="outline-3">
<h3 id="orga1805cc">Charles Averill announced</h3>
<div class="outline-text-3" id="text-orga1805cc">
<p>
I wanted a semantic construct to specifically denote unreachable control-flow branches, so here it is. Prints out an error with file and line number upon being erroneously reached. 
</p>

<p>
<a href="https://opam.ocaml.org/packages/ppx_unreachable/ppx_unreachable.1.0/">https://opam.ocaml.org/packages/ppx_unreachable/ppx_unreachable.1.0/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="5">Sound on OCaml on Windows</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/sound-on-ocaml-on-windows/16746/1">https://discuss.ocaml.org/t/sound-on-ocaml-on-windows/16746/1</a>
</p>
</div>
<div id="outline-container-org92142a2" class="outline-3">
<h3 id="org92142a2">Steve Sherratt announced</h3>
<div class="outline-text-3" id="text-org92142a2">
<p>
<a href="https://www.gridbugs.org/sound-on-ocaml-on-windows/">https://www.gridbugs.org/sound-on-ocaml-on-windows/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-6" class="outline-2">
<h2 id="6">Opam repository archival, phase 3</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/opam-repository-archival-phase-3/16748/1">https://discuss.ocaml.org/t/opam-repository-archival-phase-3/16748/1</a>
</p>
</div>
<div id="outline-container-org0bf6bbd" class="outline-3">
<h3 id="org0bf6bbd">Hannes Mehnert announced</h3>
<div class="outline-text-3" id="text-org0bf6bbd">
<p>
Dear everyone,
</p>

<p>
the phase 3 of the opam repository archival (taking the x-maintenance-intent into account) is now ready. We ran on 30th of May the maintenance-intent filter, which resulted in 6463 candidates of which we'd like to archive 5714. The full list is below, the PRs are at <a href="https://github.com/ocaml/opam-repository-archive/pull/18">https://github.com/ocaml/opam-repository-archive/pull/18</a> and <a href="https://github.com/ocaml/opam-repository/pull/27977">https://github.com/ocaml/opam-repository/pull/27977</a>.
</p>

<p>
The proposed merge date is on June 9th, so a week from now.
</p>

<p>
In case you encounter (a) a breakage or (b) a package and version that you'd like to retain, please report this (best as a comment to <a href="https://github.com/ocaml/opam-repository-archive/pull/18">https://github.com/ocaml/opam-repository-archive/pull/18</a>)
</p>

<p>
The list of to-be-archived packages:
<i>editorâs note: please see the post link for the long list of packages</i>
</p>
</div>
</div>
</div>
<div id="outline-container-7" class="outline-2">
<h2 id="7">Peer-Programming in Modern OCaml with ChatGPT and Gemini</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/peer-programming-in-modern-ocaml-with-chatgpt-and-gemini/16750/1">https://discuss.ocaml.org/t/peer-programming-in-modern-ocaml-with-chatgpt-and-gemini/16750/1</a>
</p>
</div>
<div id="outline-container-orga944c72" class="outline-3">
<h3 id="orga944c72">Thomas Letan announced</h3>
<div class="outline-text-3" id="text-orga944c72">
<p>
Itâs 2025, and itâs becoming harder to ignore that LLMs are here to stay, and are changing the way we are programming at large. Or at least, it feels like it.
</p>

<p>
For a while, Iâve been kind of a <i>gaulois rÃ©fractaire</i> myself, when it comes to adopting this technology. Over the month of May, I decided to change that, and at least <i>try</i> to integrate them in my daily toolkit. Since I write OCaml professionally, I picked an arbitrary project in a domain I wasnât familiar for, to see the impact of LLMs on a more niche language (no offense ahah).
</p>

<p>
After the fact, <a href="https://soap.coffee/~lthms/posts/PeerProgrammingWithLLMs.html">I wrote a devlog of the exercise</a>.
</p>

<p>
In particular, I got myself familiar with EIO in the process, and I wanted to discuss the following part of my article with the OCaml community
</p>

<blockquote>
<p>
My personal conclusion is that LLMs are not ready for any real programming task involving Eio, and I am really curious to understand why. Do they keep hallucinating functions because Eio is a really generic name, and maybe they are mixing context from the Python library with the OCaml one? Or is it because the API of Eio has changed a lot over the years?
</p>

<p>
I am also wondering how, as a the author of a library, I can fix a similar situation. Assuming ChatGPT starts assuming false statements about <code>cohttp-connpool-eio</code>, how do I address this? I suspect being âLLMs-friendlyâ will be increasingly important for a software libraryâs success.
</p>
</blockquote>

<p>
For a while, people learnt to become search engine friendly. They turned themselves into export of Google algorithm, etc. Will we do the same thing with LLMs? Are there guidelines? How can we âfixâ at our level a situation where a LLM got a software library we wrote completely wrong?
</p>

<p>
Iâd be curious to hear your thoughts.
</p>
</div>
</div>
</div>
<div id="outline-container-org90770bd" class="outline-2">
<h2 id="org90770bd">Old CWN</h2>
<div class="outline-text-2" id="text-org90770bd">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="orge4529f3">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
