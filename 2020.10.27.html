<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-10-27 Tue 09:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.10.20.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.11.03.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of October 20 to 27, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Bisect_ppx, the coverage tool, now has excellent integration with Dune</a></li>
<li><a href="#2">Js_of_ocaml in the VSCode OCaml Platform</a></li>
<li><a href="#3">Training Sessions for "Fast Track to OCaml" and "Expert OCaml" in Paris (23-26 November 2020)</a></li>
<li><a href="#4">Set up OCaml 1.1.2</a></li>
<li><a href="#5">Set up OCaml 1.1.3</a></li>
<li><a href="#6">First release of FSML</a></li>
<li><a href="#7">Qrc 0.1.0, a QR code encoder</a></li>
<li><a href="#8">cumulus 0.0.1</a></li>
<li><a href="#9">Brr 0.0.1, a toolkit for programming browsers</a></li>
<li><a href="#org19ab6c5">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org1396ef0" class="outline-2">
<h2 id="1">Bisect_ppx, the coverage tool, now has excellent integration with Dune</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/bisect-ppx-the-coverage-tool-now-has-excellent-integration-with-dune/6634/1">https://discuss.ocaml.org/t/bisect-ppx-the-coverage-tool-now-has-excellent-integration-with-dune/6634/1</a>
</p>
</div>

<div id="outline-container-org8a34be5" class="outline-3">
<h3 id="org8a34be5">Anton Bachin announced</h3>
<div class="outline-text-3" id="text-org8a34be5">
<p>
<a href="https://github.com/aantron/bisect_ppx"><b>Bisect_ppx</b></a>, the coverage tool, has just had its <a href="https://github.com/aantron/bisect_ppx/releases/tag/2.5.0">2.5.0</a> release, in which the
main addition is a very neat integration with Dune:
</p>

<div class="org-src-container">
<pre class="src src-shell">dune runtest --instrument-with bisect_ppx --force
</pre>
</div>

<p>
This uses the new <a href="https://dune.readthedocs.io/en/stable/instrumentation.html?highlight=instrument-with">instrumentation support</a> added in Dune 2.7.0, and is a considerable
improvement over the dubious methods Bisect and its users were previously forced to rely on :)
</p>

<p>
It is no longer necessary to edit <code>dune</code> files for a release, as Bisect only becomes a dependency of
your project when <code>--instrument-with bisect_ppx</code> is supplied on the Dune command line, which is only
during development and in CI. This makes projects ready for release from any commit. Dune also now
knows to rebuild affected files when instrumentation is turned on or off, so you don't have to manually
run <code>dune clean</code> in between. Everything just works the way it should.
</p>

<p>
See the updated <a href="https://github.com/aantron/bisect_ppx#Dune">instructions</a> for all the details on how to use this integration.
</p>

<p>
I've also adapted <a href="https://github.com/aantron/lambdasoup">Lambda Soup</a> as a simple full-project example. See its
<a href="https://github.com/aantron/lambdasoup/blob/a0cbf54bf9affda00455c54369e473b905458114/lambdasoup.opam#L17-L22"><code>opam</code></a>,
<a href="https://github.com/aantron/lambdasoup/blob/master/dune-project#L1"><code>dune-project</code></a>,
<a href="https://github.com/aantron/lambdasoup/blob/a0cbf54bf9affda00455c54369e473b905458114/src/dune#L7"><code>dune</code></a>,
and
<a href="https://github.com/aantron/lambdasoup/blob/a0cbf54bf9affda00455c54369e473b905458114/Makefile#L15"><code>Makefile</code></a>.
</p>

<p>
Bisect_ppx still supports all the older integrations, so if you have an existing setup, you don't have
to edit it. Support may eventually be removed in the future, however, so I encourage users to gradually
update.
</p>

<p>
See the full <a href="https://github.com/aantron/bisect_ppx/releases/tag/2.5.0">changelog</a> for information on bugs fixed by the release.
</p>

<p>
Thanks to the Dune team for adding <code>--instrument-with</code>, to @undu for supporting it on the Bisect side,
and to all the Bisect_ppx users and contributors!
</p>

<p>
Happy testing!
</p>


<div class="figure">
<p><img src="https://aws1.discourse-cdn.com/standard11/uploads/ocaml/original/2X/1/1911adc6af898b6f4efd7dc69d2c1f90699031ba.gif" alt="1911adc6af898b6f4efd7dc69d2c1f90699031ba.gif" />
</p>
</div>

<p>
<a href="https://github.com/aantron/bisect_ppx">https://github.com/aantron/bisect_ppx</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org4c52344" class="outline-2">
<h2 id="2">Js_of_ocaml in the VSCode OCaml Platform</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/js-of-ocaml-in-the-vscode-ocaml-platform/6635/1">https://discuss.ocaml.org/t/js-of-ocaml-in-the-vscode-ocaml-platform/6635/1</a>
</p>
</div>

<div id="outline-container-orgf620fe1" class="outline-3">
<h3 id="orgf620fe1">Max LANTAS announced</h3>
<div class="outline-text-3" id="text-orgf620fe1">
<p>
I just finished a write-up about
<a href="https://github.com/ocamllabs/vscode-ocaml-platform/">vscode-ocaml-platform</a>'s recent transition to
Js_of_ocaml:
<a href="https://mnxn.github.io/blog/ocaml/vscode-jsoo/">https://mnxn.github.io/blog/ocaml/vscode-jsoo/</a>
</p>

<p>
I can answer any questions here.
</p>

<p>
This is also my first technical blog post, so any constructive criticism or comments about my writing
would be very helpful.
</p>
</div>
</div>
</div>




<div id="outline-container-org99465b0" class="outline-2">
<h2 id="3">Training Sessions for "Fast Track to OCaml" and "Expert OCaml" in Paris (23-26 November 2020)</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2020-10/msg00018.html">https://sympa.inria.fr/sympa/arc/caml-list/2020-10/msg00018.html</a>
</p>
</div>

<div id="outline-container-org10c56ae" class="outline-3">
<h3 id="org10c56ae">Laurène Gibaud announced</h3>
<div class="outline-text-3" id="text-org10c56ae">
<p>
At OCamlPro, we will be organizing 2 cross-company training sessions in French. Both sessions
interleave theory and practice. You'll have time to ask your specific questions and get personalized
feedback on your programs.
</p>

<ul class="org-ul">
<li>Our Beginner session will allow developers to build upon their experience of other programming languages (such as C, C++, Python, C# or Java) to program confidently in OCaml. Feel free to share the info with your coworkers or your network!</li>
<li>Our “Expert OCaml” training will allow you to master OCaml’s advanced features such as its type-system, OCaml’s open source tools and libraries, and how to write compact and efficient code.</li>
</ul>

<p>
More info on the program and prerequisites on <a href="http://www.ocamlpro.com/training-ocamlpro/">http://www.ocamlpro.com/training-ocamlpro/</a> or ask away
(answer this email or write at contact@ocamlpro.com).
</p>

<p>
When? The Beginner session is scheduled for November 23-24, 2020. The Expert session will be on
November 25-26, 2020.
</p>

<p>
Where? Paris 14, in OCamlPro's office.
</p>

<p>
How? Register on:
<a href="https://www.ocamlpro.com/pre-inscription-a-une-session-de-formation-inter-entreprises/">https://www.ocamlpro.com/pre-inscription-a-une-session-de-formation-inter-entreprises/</a>
</p>

<p>
We can also organize custom and on-site sessions upon request.
</p>
</div>
</div>
</div>




<div id="outline-container-org4ba5a43" class="outline-2">
<h2 id="4">Set up OCaml 1.1.2</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-2/6643/1">https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-2/6643/1</a>
</p>
</div>

<div id="outline-container-org2040cf0" class="outline-3">
<h3 id="org2040cf0">Sora Morimoto announced</h3>
<div class="outline-text-3" id="text-org2040cf0">
<p>
This release contains these changes:
</p>

<ul class="org-ul">
<li>Add the Cygwin setup to a known location for later steps</li>
<li>Check if the switch exists before creating the switch</li>
</ul>

<p>
<a href="https://github.com/avsm/setup-ocaml/releases/tag/v1.1.2">https://github.com/avsm/setup-ocaml/releases/tag/v1.1.2</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgb3804bf" class="outline-2">
<h2 id="5">Set up OCaml 1.1.3</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-3/6644/1">https://discuss.ocaml.org/t/ann-set-up-ocaml-1-1-3/6644/1</a>
</p>
</div>

<div id="outline-container-orgb2c6357" class="outline-3">
<h3 id="orgb2c6357">Sora Morimoto announced</h3>
<div class="outline-text-3" id="text-orgb2c6357">
<p>
This release contains these changes:
</p>

<ul class="org-ul">
<li>Update the  <code>@actions/core</code>  package to address <a href="https://github.com/advisories/GHSA-mfwh-5m23-j46w">CVE-2020-15228</a></li>
</ul>

<p>
<a href="https://github.com/avsm/setup-ocaml/releases/tag/v1.1.3">https://github.com/avsm/setup-ocaml/releases/tag/v1.1.3</a>
</p>
</div>
</div>
</div>




<div id="outline-container-orgaed48c1" class="outline-2">
<h2 id="6">First release of FSML</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-fsml/6645/1">https://discuss.ocaml.org/t/ann-first-release-of-fsml/6645/1</a>
</p>
</div>

<div id="outline-container-orgb96a72f" class="outline-3">
<h3 id="orgb96a72f">jserot announced</h3>
<div class="outline-text-3" id="text-orgb96a72f">
<p>
This is to announce the first public release of FSML, an OCaml library for describing and describing
synchronous finite state machines.
</p>

<p>
FSML is a simplified version of the library provided in the <a href="http://github.com/jserot/rfsm">Rfsm</a>
package for which
</p>

<ul class="org-ul">
<li>the system is composed of a single FSM</li>

<li>this FSM has a single, implicit, triggering event (typically called the  <b>clock</b> , hence the term <b>synchronous</b>  used in the description)</li>
</ul>

<p>
The FSML library provides
</p>

<ul class="org-ul">
<li>a type  <code>Fsm.t</code>  for describing FSMs
<ul class="org-ul">
<li>possibly having  <b>local variables</b></li>
<li>for which  <b>transitions</b> , implicitely triggered by a clock, are defined by a set of  <b>boolean guards</b>  and a set of  <b>actions</b></li>
</ul></li>

<li>a set of PPX extensions for building values of type  <code>Fsm.t</code></li>

<li>functions for producing and viewing graphical representations of FSMs in the  <code>.dot</code> format</li>

<li>functions for saving and reading FSM representations in files using the JSON format</li>

<li>functions for performing single or multi-step simulations of FSMs and generating trace files in the <code>.vcd</code>  format to be viewed by VCD viewers such as <a href="http://gtkwave.sourceforge.net/">gtkwave</a></li>

<li>functions for generating C or VHDL code from a FSM representation (for  integration into existing</li>
</ul>
<p>
code and/or simulation)
</p>

<p>
FSML is available from <a href="https://github.com/jserot/fsml">Github</a> or as an <a href="https://opam.ocaml.org/packages/fsml">OPAM
package</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-org329e0da" class="outline-2">
<h2 id="7">Qrc 0.1.0, a QR code encoder</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-qrc-0-1-0-a-qr-code-encoder/6647/1">https://discuss.ocaml.org/t/ann-qrc-0-1-0-a-qr-code-encoder/6647/1</a>
</p>
</div>

<div id="outline-container-org7edaf8e" class="outline-3">
<h3 id="org7edaf8e">Daniel Bünzli announced</h3>
<div class="outline-text-3" id="text-org7edaf8e">
<p>
QR codes are unsightly – a mirror of their specification. But they enable all sorts of neat tricks now
that scanners for them are in many pockets.
</p>

<p>
Qrc generate them:
</p>

<blockquote>
<p>
Qrc encodes your data into QR codes. It has built-in QR matrix
renderers for SVG, ANSI terminal and text.
</p>

<p>
Qrc is distributed under the ISC license. It has no dependencies.
</p>
</blockquote>

<p>
Homepage: <a href="https://erratique.ch/software/qrc">https://erratique.ch/software/qrc</a><br />
API docs: <a href="https://erratique.ch/software/qrc/doc/">https://erratique.ch/software/qrc/doc/</a>  or <code>odig doc qrc</code><br />
Install: <code>opam install qrc</code>
</p>
</div>
</div>
</div>




<div id="outline-container-orgaeb60f7" class="outline-2">
<h2 id="8">cumulus 0.0.1</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-cumulus-0-0-1/6655/1">https://discuss.ocaml.org/t/ann-cumulus-0-0-1/6655/1</a>
</p>
</div>

<div id="outline-container-orgd2c48ae" class="outline-3">
<h3 id="orgd2c48ae">Petter A. Urkedal announced</h3>
<div class="outline-text-3" id="text-orgd2c48ae">
<p>
I would like to announce a new FRP library built on the React library.  The purpose of
<a href="https://github.com/paurkedal/ocaml-cumulus/">cumulus</a> is to help organize code which work on
differential updates.  The main type is the <b>cumulus signal</b>, which is analogous to a react signal,
except that information about the difference from the previous value is provided to consumers along
with the new value, when the cumulus signal changes.
</p>

<p>
So, why does a cumulus signal provide both the state and the difference to downstream signals?  That
is, what is the difference between the following:?
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">t1</span> = state * change <span style="color: #228b22;">React.</span><span style="color: #000000; background-color: #ffffff;">E</span>     <span style="color: #b22222;">(* </span><span style="color: #b22222;">initial value and even of changes </span><span style="color: #b22222;">*)</span>
<span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">t2</span> = (state, change) <span style="color: #228b22;">Cumulus.</span>t  <span style="color: #b22222;">(* </span><span style="color: #b22222;">the cumulus signal </span><span style="color: #b22222;">*)</span>
</pre>
</div>
<p>
The former type presumes that after the consumer has received the initial state, it will only need to
know what changes on successive updates.  This seems quite natural.  It works well if, for instance, we
want to reconstruct a signal holding a set of strings, given an initial set and a series of additions
and removals:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">module</span> <span style="color: #228b22;">String_set</span> = <span style="color: #228b22;">Set.Make (String)</span>

<span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">'a set_patch</span> = [<span style="color: #000000; background-color: #ffffff;">`Add</span> <span style="color: #a020f0;">of</span> string | <span style="color: #000000; background-color: #ffffff;">`Remove</span> <span style="color: #a020f0;">of</span> string]
<span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">'a update</span> = 'a -&gt; 'a

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">patch_string_set</span> :<span style="color: #228b22;"> string set_patch -&gt; </span><span style="color: #228b22;">String_set.</span><span style="color: #228b22;">t update </span>= <span style="color: #a020f0;">function</span>
 | <span style="color: #000000; background-color: #ffffff;">`Add</span> x -&gt; <span style="color: #228b22;">String_set.</span>add x
 | <span style="color: #000000; background-color: #ffffff;">`Remove</span> x -&gt; <span style="color: #228b22;">String_set.</span>remove x

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">integrate_strings</span> (<span style="color: #a0522d;">init</span>, <span style="color: #a0522d;">changes</span>) =
  <span style="color: #228b22;">React.E.</span>fold (<span style="color: #a020f0;">fun</span> <span style="color: #a0522d;">l</span> <span style="color: #a0522d;">p</span> -&gt; patch_string_set p l) init changes
</pre>
</div>
<p>
But what if we want to maintain a signal holding the intersection of two sets of strings?  If we try to
lift the intersection operation to work on patches, we discover that learning about the addition of an
element to left-hand set is not sufficient to determine whether the element shall the added to the
resulting set; we also need to know whether the element is a member of the right-hand set.  So, in this
case we would instead use cumulus signals:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">cu</span> :<span style="color: #228b22;"> (</span><span style="color: #228b22;">String_set.</span><span style="color: #228b22;">t, string set_patch) </span><span style="color: #228b22;">Cumulus.</span><span style="color: #228b22;">t </span>= ...
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">cv</span> :<span style="color: #228b22;"> (</span><span style="color: #228b22;">String_set.</span><span style="color: #228b22;">t, string set_patch) </span><span style="color: #228b22;">Cumulus.</span><span style="color: #228b22;">t </span>= ...
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">cuv</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">init</span> <span style="color: #a0522d;">u</span> <span style="color: #a0522d;">v</span> = <span style="color: #228b22;">String_set.</span>inter u v <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">patch</span> (<span style="color: #a0522d;">u</span>, <span style="color: #a0522d;">du</span>) (<span style="color: #a0522d;">v</span>, <span style="color: #a0522d;">dv</span>) <span style="color: #a0522d;">r'</span> =
    (<span style="color: #a020f0;">match</span> du, dv <span style="color: #a020f0;">with</span>
     | <span style="color: #000000; background-color: #ffffff;">None</span>, <span style="color: #000000; background-color: #ffffff;">Some</span> x <span style="color: #a020f0;">when</span> <span style="color: #228b22;">String_set.</span>mem x u -&gt;
        <span style="color: #228b22;">Cumulus.</span><span style="color: #000000; background-color: #ffffff;">Patch</span> (<span style="color: #228b22;">String_set.</span>add x r', <span style="color: #000000; background-color: #ffffff;">`Add1</span> x)
     ...)
  <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #228b22;">Cumulus.</span>l2 ~init ~patch cu cv
</pre>
</div>
<p>
For the complete example, using integers instead of strings, see <a href="https://github.com/paurkedal/ocaml-cumulus/blob/master/tests/test_isecn.ml"><code>test_isecn.ml</code></a> from the
testsuite.
</p>

<p>
(Footnote:  If consumers know how to integrate the states they depend on, they could in principle keep
their own record of the full states of the arguments.  But this would be inefficient if there are many
consumers, and there is also a simplification of code and possibly improved abstraction in letting the
producer maintain its own state.)
</p>

<p>
Formally, we can understand the difference between <code>t1</code> and <code>t2</code> in terms of calculus.  For instance,
the differential of a product <code>d(x·y) = dx·y + x·dy</code> contains a mix of both the differentials and
values of the two variables.  But if the expression is linear, only differentials will will occur:
<code>d(a·x + b·y + c) = a·dx + b·dy</code>.  So, when <code>t1</code> is sufficient, we are dealing with the analogue of a
linear function.  The above example could be turned into a linear one by making <code>Labels.t</code> a multiset
type and considering the multiset union operation.
</p>

<p>
Thus far we only considered purely functional code, but a cumulus signal may chose to modify and return
the same physical state during an update.  Also note when designing the differential component of the
cumulus signal, that we may exploit the fact the consumers also may inspect the corresponding new
state.  Combining these two points, a cumulus signal holding an array might have the type <code>('a array,
[`Set of int | `Resize of int])</code>. Here the state may be reused for <code>`Set</code> and replaced for
<code>`Resize</code>.
</p>

<p>
On a related not, there is also the <a href="https://github.com/ocsigen/reactiveData">reactiveData</a> library which deals with (linear) patching of
containers.
</p>

<p>
I must also mention that there there is an <a href="https://github.com/Cumulus/Cumulus">OCaml project with the same name</a> (except casing). Sorry
for not checking thoroughly in advance. I hope it is not an issue in practise, otherwise there is still
time to rename while the library is fresh.
</p>
</div>
</div>
</div>




<div id="outline-container-org876f170" class="outline-2">
<h2 id="9">Brr 0.0.1, a toolkit for programming browsers</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-brr-0-0-1-a-toolkit-for-programming-browsers/6608/5">https://discuss.ocaml.org/t/ann-brr-0-0-1-a-toolkit-for-programming-browsers/6608/5</a>
</p>
</div>

<div id="outline-container-orgea96694" class="outline-3">
<h3 id="orgea96694">Continuing this thread, Yoann Padioleau asked Daniel Bünzli replied</h3>
<div class="outline-text-3" id="text-orgea96694">
<blockquote>
<p>
What are the differences with the default bindings provided in js_of_ocaml to the browser APIs (e.g.,
js.mli, dom.mli, etc.)?
</p>
</blockquote>

<p>
I'm not sure exactly what you are asking but:
</p>

<ol class="org-ol">
<li>If you are asking about the way API are exposed: <code>brr</code> does not type JavaScript's objects as phantom types. It simply relies on OCaml's abstract data types and plain functions. More about this can be found in brr's <a href="https://erratique.ch/software/brr/doc/ffi_manual.html">FFI manual</a> and <a href="https://erratique.ch/software/brr/doc/ffi_cookbook.html">FFI cookbook</a>.</li>
<li>If you are asking about binding coverage, you should be able to get a sense of what is bound in <code>brr</code> <a href="https://erratique.ch/software/brr/doc/index.html#supported_apis">here</a>.</li>
</ol>

<p>
Regarding 2. <code>brr</code>'s coverage of more recent browser APIs is broader and more consistent than in
<code>js_of_ocaml</code> – Promise support, Fetch, Service workers, Media capture APIs, WebGL2, Webcrypto,
WebAudio, etc. Conversly older APIs supported in <code>js_of_ocaml</code> may not supported in <code>brr</code> (e.g.
XMLHTTPRequest). Besides <code>brr</code>'s coverage of some of the DOM <b>element-specific</b> interfaces may be
shallower than in <code>js_of_ocaml</code>. There is however good coverage for the
<a href="https://erratique.ch/software/brr/doc/Brr_io/Media/index.html#el"><code>HTMLMediaElement</code></a>,
<a href="https://erratique.ch/software/brr/doc/Brr_canvas/Canvas/index.html"><code>HTMLCanvasElement</code></a>,
<a href="https://erratique.ch/software/brr/doc/Brr_io/Form/index.html"><code>HTMLFormElement</code></a> and
<a href="https://erratique.ch/software/brr/doc/Brr/El/index.html#ifaces"><code>HTMLInputElement</code></a> interfaces. For
the rest the <a href="https://erratique.ch/software/brr/doc/Brr/El/index.html#ats_and_props">attribute and property
API</a> and the occasional trivial
FFI method binding should be able to get you a long way.
</p>
</div>
</div>
</div>




<div id="outline-container-org19ab6c5" class="outline-2">
<h2 id="org19ab6c5">Old CWN</h2>
<div class="outline-text-2" id="text-org19ab6c5">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
