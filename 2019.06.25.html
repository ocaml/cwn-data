<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-06-25 Tue 11:17 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2019.06.18.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2019.07.02.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of June 18 to 25, 2019.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">PSA: ocaml/opam2 docker images updated to 4.08.0 release</a></li>
<li><a href="#2">Default key bindings for utop</a></li>
<li><a href="#3">Creating OCaml Platform</a></li>
<li><a href="#4">Other OCaml News</a></li>
<li><a href="#orgce2b83b">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org42b0723" class="outline-2">
<h2 id="1">PSA: ocaml/opam2 docker images updated to 4.08.0 release</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/psa-ocaml-opam2-docker-images-updated-to-4-08-0-release/3948/1">https://discuss.ocaml.org/t/psa-ocaml-opam2-docker-images-updated-to-4-08-0-release/3948/1</a>
</p>
</div>

<div id="outline-container-org13763e7" class="outline-3">
<h3 id="org13763e7">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-org13763e7">
<p>
The Docker images hosted at <a href="https://hub.docker.com/r/ocaml/opam2">ocaml/opam2</a> have now been updated to include the latest OCaml 4.08.0 release as well as the snapshots of 4.09 and 4.10.
</p>

<p>
One sideeffect of this is that the <code>ocaml/opam2</code> default image now has OCaml 4.08 as its default switch.  If you use it in CI, it may suddenly give you errors if your code has not yet been ported to work with that new release.
</p>

<p>
As a reminder, you can pin the OCaml version you use in CI easily by:
</p>

<ul class="org-ul">
<li>running <code>opam switch 4.07</code> as the first command in the Dockerfile after <code>FROM ocaml/opam2</code>.</li>
<li>using the <code>ocaml/opam2:4.07</code> image instead of the default one.  This image also includes several other 4.07.0 variants (such as afl, flambda and so on), which you can list with <code>docker run ocaml/opam2:4.07 opam switch</code>.</li>
</ul>

<p>
As always, please get in touch with me if you see any other breakage from these image updates.
</p>
</div>
</div>
</div>




<div id="outline-container-org4590dae" class="outline-2">
<h2 id="2">Default key bindings for utop</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/default-key-bindings-for-utop/3950/1">https://discuss.ocaml.org/t/default-key-bindings-for-utop/3950/1</a>
</p>
</div>

<div id="outline-container-org2c8a700" class="outline-3">
<h3 id="org2c8a700">Daniel Lim asked</h3>
<div class="outline-text-3" id="text-org2c8a700">
<p>
Just getting into OCaml, and utop is really nice, but I can't seem to find any of the default key bindings listed anywhere online.
</p>

<p>
It took quite some time to find out <code>C-p</code> can be used to move to the previous lines, which was really needed when coming across multiline use cases like this:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">ratio</span> <span style="color: #a0522d;">x</span> <span style="color: #a0522d;">y</span> =
  <span style="color: #228b22;">Float.</span>of_int x /. <span style="color: #228b22;">Float.</span>of_int y
<span style="color: #ff4500;">;;</span>
</pre>
</div>

<p>
Is there anywhere that I can find the default key bindings for the repl?
</p>
</div>
</div>


<div id="outline-container-orgfd8bef7" class="outline-3">
<h3 id="orgfd8bef7">Vladimir Keleshev replied</h3>
<div class="outline-text-3" id="text-orgfd8bef7">
<p>
You can use <code>#utop_bindings;;</code> command in the prompt. Check out other useful <code>#utop_*</code> commands as well.
</p>

<pre class="example">
$ utop
────────────────────────────────┬─────────────────────────────────────────────────────────────┬────────────────────────────────
                                │ Welcome to utop version 2.3.0 (using OCaml version 4.07.0)! │
                                └─────────────────────────────────────────────────────────────┘

Type #utop_help for help about using utop.

# #utop_bindings;;
enter       : accept                        -&gt; accept the current input.
escape      : cancel-search                 -&gt; cancel search mode.
tab         : complete                      -&gt; complete current input.
up          : history-prev                  -&gt; go to the previous entry of the history.
down        : history-next                  -&gt; go to the next entry of the history.
left        : prev-char                     -&gt; move the cursor to the previous character.
right       : next-char                     -&gt; move the cursor to the next character.
home        : goto-bot                      -&gt; move the cursor to the beginning of the text.
end         : goto-eot                      -&gt; move the cursor to the end of the text.
insert      : switch-erase-mode             -&gt; switch the current erasing mode.
delete      : delete-next-char              -&gt; delete the character after the cursor.
backspace   : delete-prev-char              -&gt; delete the character before the cursor.
M-enter     : newline                       -&gt; insert a newline character.
M-tab       : complete-bar                  -&gt; complete current input using the completion bar.
M-down      : complete-bar                  -&gt; complete current input using the completion bar.
M-left      : complete-bar-prev             -&gt; go to the previous possible completion in the completion bar.
M-right     : complete-bar-next             -&gt; go to the next possible completion in the completion bar.
M-home      : complete-bar-first            -&gt; go to the beginning of the completion bar.
M-end       : complete-bar-last             -&gt; go to the end of the completion bar.
M-delete    : kill-prev-word                -&gt; cut the word behind the cursor.
M-backspace : kill-prev-word                -&gt; cut the word behind the cursor.
M-b         : prev-word                     -&gt; move the cursor to the beginning of the previous word.
M-c         : capitalize-word               -&gt; capitalize the first word after the cursor.
M-d         : kill-next-word                -&gt; cut up until the next non-word character.
M-f         : next-word                     -&gt; move the cursor to the end of the next word.
M-l         : lowercase-word                -&gt; convert the first word after the cursor to lowercase.
M-n         : history-next                  -&gt; go to the next entry of the history.
M-p         : history-prev                  -&gt; go to the previous entry of the history.
M-u         : uppercase-word                -&gt; convert the first word after the cursor to uppercase.
M-w         : copy                          -&gt; copy the current region to the clipboard.
C-left      : prev-word                     -&gt; move the cursor to the beginning of the previous word.
C-right     : next-word                     -&gt; move the cursor to the end of the next word.
C-delete    : kill-next-word                -&gt; cut up until the next non-word character.
C-space     : set-mark                      -&gt; set the mark to the current position.
C-_         : undo                          -&gt; revert the last action.
C-a         : goto-bol                      -&gt; move the cursor to the beginning of the current line.
C-b         : prev-char                     -&gt; move the cursor to the previous character.
C-c         : break                         -&gt; cancel edition.
C-d         : interrupt-or-delete-next-char -&gt; interrupt if at the beginning of an empty line, or delete the next character.
C-e         : goto-eol                      -&gt; move the cursor to the end of the current line.
C-f         : next-char                     -&gt; move the cursor to the next character.
C-g         : cancel-macro                  -&gt; cancel the current macro.
C-h         : delete-prev-char              -&gt; delete the character before the cursor.
C-k         : kill-next-line                -&gt; cut everything until the end of the current line.
C-l         : clear-screen                  -&gt; clear the screen.
C-m         : accept                        -&gt; accept the current input.
C-n         : next-line                     -&gt; move the cursor to the next line.
C-p         : prev-line                     -&gt; move the cursor to the previous line.
C-r         : prev-search                   -&gt; search backward in the history.
C-s         : next-search                   -&gt; search forward in the history.
C-u         : kill-prev-line                -&gt; cut everything until the beginning of the current line.
C-w         : kill                          -&gt; cut the current region to the clipboard.
C-x (       : start-macro                   -&gt; start a new macro.
C-x )       : stop-macro                    -&gt; end the current macro.
C-x e       : play-macro                    -&gt; play the last recorded macro.
C-x C-e     : edit-with-external-editor     -&gt; edit input with external editor command.
C-x C-k tab : insert-macro-counter          -&gt; insert the current value of the macro counter.
C-x C-k C-a : add-macro-counter             -&gt; adds a value to the macro counter.
C-x C-k C-c : set-macro-counter             -&gt; sets the value of the macro counter.
C-y         : yank                          -&gt; paste the contents of the clipboard at current position.
C-z         : suspend                       -&gt; suspend edition.
#
</pre>

<p>
You can also override these in <code>~/.lambda-term-inputrc</code>. Here's what I have:
</p>

<pre class="example">
$ cat ~/.lambda-term-inputrc
[read-line]
C-p: complete-bar-prev
C-n: complete-bar-next
</pre>

<p>
I overrode these to use Ctrl (<code>C</code>) instead of Meta (<code>M</code>) because with my setup (Mac Terminal.app) the meta character (which I would expect to be mapped to the Command key) doesn't seem to work.
</p>
</div>
</div>
</div>




<div id="outline-container-org0626042" class="outline-2">
<h2 id="3">Creating OCaml Platform</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/creating-ocaml-platform/3971/1">https://discuss.ocaml.org/t/creating-ocaml-platform/3971/1</a>
</p>
</div>

<div id="outline-container-org803062f" class="outline-3">
<h3 id="org803062f">Anton Kochkov said</h3>
<div class="outline-text-3" id="text-org803062f">
<p>
Everyone knows there is a <a href="https://www.haskell.org/platform/">Haskell Platform</a> and <a href="https://docs.haskellstack.org/en/stable/README/">Stack</a>. And Rust is <a href="https://aturon.github.io/blog/2016/07/27/rust-platform/">working</a> with a similar concepts for a few years already. Maybe it makes sense to start working towards this goal in OCamlverse as well? The relevant thing is <a href="https://github.com/avsm/duniverse">Duniverse</a> by @avsm, but the platform concept should go further, helping to download the bundle at once, instead of installing hundreds of packages manually. I see there is actually a <a href="http://ocaml.org/platform/">site page</a> for the OCaml Platform, but it is basically empty.
</p>

<p>
It even makes sense to include Visual Studio Code with OCaml plugins installed.
</p>
</div>
</div>


<div id="outline-container-org3250b6e" class="outline-3">
<h3 id="org3250b6e">Vasile Rotaru replied</h3>
<div class="outline-text-3" id="text-org3250b6e">
<p>
As I understand it, is not there yet. See this <a href="https://www.youtube.com/watch?v=oyeKLAYPmQQ">talk</a> by Anil Madhavapeddy (@avsm)
</p>
</div>
</div>
</div>




<div id="outline-container-org4972181" class="outline-2">
<h2 id="4">Other OCaml News</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgfb8d4f6" class="outline-3">
<h3 id="orgfb8d4f6">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-orgfb8d4f6">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="http://frama-c.com/index.html">Frama-C 19.0 (Potassium) is out. Download ithere.</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgce2b83b" class="outline-2">
<h2 id="orgce2b83b">Old CWN</h2>
<div class="outline-text-2" id="text-orgce2b83b">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
