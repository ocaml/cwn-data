<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-12-09 Tue 16:04 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'JavaScript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2025.12.02.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2025.12.16.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of December 02 to 09, 2025.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">editors dev-meeting: 15th of December about the <code>ocaml.nvim</code> plugin</a></li>
<li><a href="#2">Mosaic - A Modern Terminal User Interface Framework for OCaml (Early Preview)</a></li>
<li><a href="#3">Making html_of_jsx ~10x faster</a></li>
<li><a href="#4">Tyre - type-safe regular expressions 1.0</a></li>
<li><a href="#5">Porting an OxCaml Project to Dune Package Management</a></li>
<li><a href="#6">Other OCaml News</a></li>
<li><a href="#org6eee6b2">Old CWN</a></li>
</ul>
</div>
</div>
<div id="outline-container-1" class="outline-2">
<h2 id="1">editors dev-meeting: 15th of December about the <code>ocaml.nvim</code> plugin</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-editors-dev-meeting-15th-of-december-about-the-ocaml-nvim-plugin/17559/1">https://discuss.ocaml.org/t/ann-editors-dev-meeting-15th-of-december-about-the-ocaml-nvim-plugin/17559/1</a>
</p>
</div>
<div id="outline-container-org9e50c5a" class="outline-3">
<h3 id="org9e50c5a">Charlène_Gros announced</h3>
<div class="outline-text-3" id="text-org9e50c5a">
<p>
Hi!
</p>

<p>
We are organizing the next public dev meeting about editors for OCaml!
</p>

<p>
It will take place on December 15th at 5 pm.
</p>

<p>
The focus will be on the new NeoVim plugin for OCaml, which adds extra features to the classical <code>lspconfig</code> for standard LSP support, to provide all of the Merlin features in Neovim.
</p>

<p>
We will explore why having this type of plugin is beneficial for maintaining OCaml editor tools, and we will dive into the codebase to understand how it works and see what happens in Neovim.
</p>

<p>
For the agenda:
</p>

<ul class="org-ul">
<li>A tour-de-table to allow the participants who wish to do so to present themselves and mention issues / PRs they are interested in.</li>

<li>Talk and Q&amp;A</li>

<li>Discuss issues and pull requests that were tagged in advance or mentioned during the tour-de-table.</li>
</ul>

<p>
Feel free to join!
</p>

<p>
Meeting link: <a href="https://meet.google.com/qxr-zxge-fvg">https://meet.google.com/qxr-zxge-fvg</a>
</p>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="2">Mosaic - A Modern Terminal User Interface Framework for OCaml (Early Preview)</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mosaic-a-modern-terminal-user-interface-framework-for-ocaml-early-preview/17572/1">https://discuss.ocaml.org/t/ann-mosaic-a-modern-terminal-user-interface-framework-for-ocaml-early-preview/17572/1</a>
</p>
</div>
<div id="outline-container-org3cc364b" class="outline-3">
<h3 id="org3cc364b">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-org3cc364b">
<p>
I'm excited to share an early preview of <a href="https://github.com/tmattio/mosaic">Mosaic</a>, a modern terminal user interface framework for OCaml.
</p>
</div>
<div id="outline-container-org3d68eca" class="outline-4">
<h4 id="org3d68eca">What is Mosaic?</h4>
<div class="outline-text-4" id="text-org3d68eca">
<p>
Mosaic is a high-level framework for building terminal user interfaces in OCaml. It provides a TEA (The Elm Architecture) runtime with a CSS-compatible flexbox layout engine and a rich set of composable components. It handles text shaping (styling, wrapping, selection), focus and event bubbling, z-ordering, and responsive layout.
</p>

<p>
Under the hood, it builds on two libraries that can also be used independently:
</p>

<ul class="org-ul">
<li><b>Matrix</b>: a terminal runtime focused on performance and modern protocols. Highlights: near-zero-allocation diffed rendering, immediate- mode API, Kitty keyboard, SGR/URXVT/X10 mouse, bracketed paste, focus tracking, inline/alt/split display modes, and built-in debug overlay/frame dumps. It also provides a virtual terminal emulator (VTE) and pseudo-terminal (PTY) management subsystems.</li>
<li><b>Toffee</b>: a CSS-compatible layout engine. It's a port of Rust’s <a href="https://github.com/DioxusLabs/taffy">Taffy</a> with Flexbox, CSS Grid, and Block layout; gap/padding/borders/titles; and layout caching for efficiency.</li>
</ul>
</div>
</div>
<div id="outline-container-orgf1d0eb5" class="outline-4">
<h4 id="orgf1d0eb5">Why Mosaic?</h4>
<div class="outline-text-4" id="text-orgf1d0eb5">
<p>
Terminal UIs are seeing a renaissance. Tools like Claude Code and OpenCode have gotten people excited about what can be built in the terminal and the TUI community is gaining momentum in other ecosystems.
</p>

<p>
OCaml has had LambdaTerm and Notty for terminal graphics for years, but there's been a gap when it comes to performance and high-level abstractions for building complex UIs.
</p>

<p>
Mosaic aims to fill that gap by providing Matrix as a solid terminal foundation, and building a high-level TEA framework with layout and components on top.
</p>

<p>
On a personal side, I'm building Mosaic to power the two projects I'm currently working on:
</p>

<ul class="org-ul">
<li>It will be the basis for a TUI dashboard for monitoring model training in <a href="https://github.com/raven-ml/raven">Raven</a>. We're starting an <a href="https://www.outreachy.org/">Outreachy</a> internship to build this out this Monday.</li>
<li>It powers Spice, the upcoming OCaml coding agent I announced at <a href="https://www.youtube.com/watch?v=BAvXqd0QeVM">FunOCaml 2025</a>.</li>
</ul>
</div>
</div>
<div id="outline-container-org964e73d" class="outline-4">
<h4 id="org964e73d">Try It Now</h4>
<div class="outline-text-4" id="text-org964e73d">
<p>
The libraries aren't on opam yet, but you can try them today:
</p>

<p>
<b>Option 1: Pin from GitHub</b>
</p>

<pre class="example" id="orgdda2f49">
opam pin add https://github.com/tmattio/mosaic.git
</pre>

<p>
<b>Option 2: Build from source</b>
</p>

<pre class="example" id="org65e5340">
git clone https://github.com/tmattio/mosaic
cd mosaic
opam install . --deps-only
dune build
</pre>

<p>
Then run some examples:
</p>

<pre class="example" id="org1284726">
# Interactive Game of Life (ported from Notty examples)
dune exec ./matrix/examples/02-life/main.exe

# Particles simulation with multiple display modes
dune exec ./matrix/examples/14-particles/main.exe

# High-level TEA counter
dune exec ./mosaic/examples/01-counter/main.exe
</pre>

<p>
Have a look at the examples directories (<a href="https://github.com/tmattio/mosaic/tree/main/matrix/examples">Matrix</a> and <a href="https://github.com/tmattio/mosaic/tree/main/mosaic/examples">Mosaic</a>) for more demos to explore!
</p>

<p>
As a bonus, we also have more complete demos for both projects:
</p>

<ul class="org-ul">
<li>A graphical terminal emulator built with Matrix: <a href="https://github.com/tmattio/mosaic/tree/main/matrix/examples/x-emulator">https://github.com/tmattio/mosaic/tree/main/matrix/examples/x-emulator</a></li>
<li>A dashboard app built with Mosaic: <a href="https://github.com/tmattio/mosaic/tree/main/mosaic/examples/x-dashboard">https://github.com/tmattio/mosaic/tree/main/mosaic/examples/x-dashboard</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgc11d755" class="outline-4">
<h4 id="orgc11d755">Quick Examples</h4>
<div class="outline-text-4" id="text-orgc11d755">
</div>
<ul class="org-ul">
<li><a id="org4c9b22a"></a>Mosaic: The Elm Architecture<br />
<div class="outline-text-5" id="text-org4c9b22a">
<p>
Mosaic follows TEA for building declarative UIs:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code><span style="color: #242521; font-weight: bold;">open </span><span style="color: #557400; font-weight: bold;">Mosaic_tea</span>

<span style="color: #242521; font-weight: bold;">type</span> <span style="color: #444fcf; font-weight: bold;">msg</span> = <span style="color: #242521;">Increment</span> | <span style="color: #242521;">Decrement</span> | <span style="color: #242521;">Quit</span>

<span style="color: #242521; font-weight: bold;">let</span> <span style="color: #a7601f;">init</span> () = (0, <span style="color: #557400; font-weight: bold;">Cmd.</span>none)

<span style="color: #242521; font-weight: bold;">let</span> <span style="color: #a7601f;">update</span> <span style="color: #007a9f;">msg</span> <span style="color: #007a9f;">model</span> =
  <span style="color: #006f00; font-weight: bold;">match</span> msg <span style="color: #006f00; font-weight: bold;">with</span>
  | <span style="color: #242521;">Increment</span> -&gt; (model + 1, <span style="color: #557400; font-weight: bold;">Cmd.</span>none)
  | <span style="color: #242521;">Decrement</span> -&gt; (model - 1, <span style="color: #557400; font-weight: bold;">Cmd.</span>none)
  | <span style="color: #242521;">Quit</span> -&gt; (model, <span style="color: #557400; font-weight: bold;">Cmd.</span>quit)

<span style="color: #242521; font-weight: bold;">let</span> <span style="color: #a7601f;">view</span> <span style="color: #007a9f;">model</span> =
  box <span style="color: #444fcf; font-weight: bold;">~align_items</span>:<span style="color: #242521;">Center</span> <span style="color: #444fcf; font-weight: bold;">~justify_content</span>:<span style="color: #242521;">Center</span>
    <span style="color: #444fcf; font-weight: bold;">~size</span>:{ width = pct 100; height = pct 100 }
    [
      box <span style="color: #444fcf; font-weight: bold;">~flex_direction</span>:<span style="color: #242521;">Column</span> <span style="color: #444fcf; font-weight: bold;">~align_items</span>:<span style="color: #242521;">Center</span> <span style="color: #444fcf; font-weight: bold;">~gap</span>:(gap 1)
        <span style="color: #444fcf; font-weight: bold;">~border</span>:<span style="color: #00824f;">true</span> <span style="color: #444fcf; font-weight: bold;">~padding</span>:(padding 2) <span style="color: #444fcf; font-weight: bold;">~title</span>:<span style="color: #ca3400;">"Counter"</span>
        [
          text <span style="color: #444fcf; font-weight: bold;">~content</span>:(<span style="color: #557400; font-weight: bold;">Printf.</span>sprintf <span style="color: #ca3400;">"Count: %d"</span> model) ();
          text <span style="color: #444fcf; font-weight: bold;">~content</span>:<span style="color: #ca3400;">"Press + or - to change, q to quit"</span> ();
        ];
    ]

<span style="color: #242521; font-weight: bold;">let</span> <span style="color: #a7601f;">subscriptions</span> <span style="color: #007a9f;">_model</span> =
  <span style="color: #557400; font-weight: bold;">Sub.</span>on_key (<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">ev</span> -&gt;
      <span style="color: #006f00; font-weight: bold;">match</span> (<span style="color: #557400; font-weight: bold;">Mosaic_ui.Event.Key.</span>data ev).key <span style="color: #006f00; font-weight: bold;">with</span>
      | <span style="color: #242521;">Char</span> c <span style="color: #006f00; font-weight: bold;">when</span> <span style="color: #557400; font-weight: bold;">Uchar.</span>equal c (<span style="color: #557400; font-weight: bold;">Uchar.</span>of_char <span style="color: #ca3400;">'+'</span>) -&gt; <span style="color: #242521;">Some</span> <span style="color: #242521;">Increment</span>
      | <span style="color: #242521;">Char</span> c <span style="color: #006f00; font-weight: bold;">when</span> <span style="color: #557400; font-weight: bold;">Uchar.</span>equal c (<span style="color: #557400; font-weight: bold;">Uchar.</span>of_char <span style="color: #ca3400;">'-'</span>) -&gt; <span style="color: #242521;">Some</span> <span style="color: #242521;">Decrement</span>
      | <span style="color: #242521;">Char</span> c <span style="color: #006f00; font-weight: bold;">when</span> <span style="color: #557400; font-weight: bold;">Uchar.</span>equal c (<span style="color: #557400; font-weight: bold;">Uchar.</span>of_char <span style="color: #ca3400;">'q'</span>) -&gt; <span style="color: #242521;">Some</span> <span style="color: #242521;">Quit</span>
      | <span style="color: #242521;">Escape</span> -&gt; <span style="color: #242521;">Some</span> <span style="color: #242521;">Quit</span>
      | _ -&gt; <span style="color: #242521;">None</span>)

<span style="color: #242521; font-weight: bold;">let</span> () = run { init; update; view; subscriptions }
</code></pre>
</div>
</div>
</li>
<li><a id="org457eb1f"></a>Matrix: Low-Level Power<br />
<div class="outline-text-5" id="text-org457eb1f">
<p>
For direct terminal control, Matrix provides an immediate-mode API:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code><span style="color: #242521; font-weight: bold;">open </span><span style="color: #557400; font-weight: bold;">Matrix</span>

<span style="color: #242521; font-weight: bold;">let</span> () =
  run
    <span style="color: #444fcf; font-weight: bold;">~on_render</span>:(<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">_ctx</span> -&gt;
      <span style="color: #557400; font-weight: bold;">Image.</span>(
        string <span style="color: #ca3400;">"Hello from Matrix!"</span> <span style="color: #9f0d0f;">|&gt;</span> bg <span style="color: #557400; font-weight: bold;">Color.</span>blue <span style="color: #9f0d0f;">|&gt;</span> pad <span style="color: #444fcf; font-weight: bold;">~l</span>:2 <span style="color: #444fcf; font-weight: bold;">~t</span>:1))
    <span style="color: #444fcf; font-weight: bold;">~on_input</span>:(<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">ctx</span> -&gt; <span style="color: #006f00; font-weight: bold;">function</span>
      | <span style="color: #242521;">Key</span> { key = <span style="color: #242521;">Escape</span>; _ } -&gt; quit ctx
      | _ -&gt; ())
    ()
</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org410a4e8" class="outline-4">
<h4 id="org410a4e8">Coming Soon: TUI for ML Training</h4>
<div class="outline-text-4" id="text-org410a4e8">
<p>
We're starting an <a href="https://www.outreachy.org/">Outreachy</a> internship to build a TUI for monitoring model training with <a href="https://github.com/raven-ml/raven">Raven</a>, the scientific computing ecosystem for OCaml. It will provide a <a href="https://www.tensorflow.org/tensorboard">TensorBoard</a> experience in the terminal, built entirely with Mosaic.
</p>

<p>
A good example of what we're aiming to build is Wandb's newly released TUI:
</p>


<div id="org7f30822" class="figure">
<p><img src="https://us1.discourse-cdn.com/flex020/uploads/ocaml/optimized/2X/1/1a0303418fba64bb4a168e4ae1488592d3cb96c0_2_1380x814.jpeg" alt="1a0303418fba64bb4a168e4ae1488592d3cb96c0_2_1380x814.jpeg" width="80%" />
</p>
</div>
</div>
</div>
<div id="outline-container-org337c84d" class="outline-4">
<h4 id="org337c84d">Mosaic vs Notty</h4>
<div class="outline-text-4" id="text-org337c84d">
<p>
Notty is the current go-to terminal UI library for OCaml, with a well-designed declarative image API. Mosaic sits a level above: it’s a TEA runtime with flexbox layout, rich components, focus/event bubbling, and diffed rendering via Matrix. In scope, Notty is closer to Matrix (the terminal infrastructure under Mosaic) than to Mosaic itself.
</p>

<p>
Matrix covers the low-level rendering, modern terminal protocols, and immediate-mode API that Notty doesn’t. For a detailed Matrix vs Notty comparison, see our <a href="https://github.com/tmattio/mosaic/tree/main/matrix#matrix-vs-notty">comparison table</a>.
</p>
</div>
</div>
<div id="outline-container-org52825f9" class="outline-4">
<h4 id="org52825f9">Acknowledgements</h4>
<div class="outline-text-4" id="text-org52825f9">
<p>
Mosaic stands on the shoulders of great work:
</p>

<ul class="org-ul">
<li><a href="https://github.com/charmbracelet/bubbletea">Bubble Tea</a> - inspiration for the high-level TEA runtime and app structure.</li>
<li><a href="https://github.com/pqwy/notty/">Notty</a> - Matrix's declarative Image API is directly copied from Notty's to provide a familiar interface for OCaml users.</li>
<li><a href="https://github.com/sst/opentui/">OpenTUI</a> - the biggest influence on Mosaic UI internals (render tree, text buffer, events, selection). Mosaic's UI internals have been rewritten to mirror OpenTUI's following its release, if you're working in TypeScript, I can't recommend it enough, it's a fantastic piece of engineering.</li>
<li><a href="https://github.com/Textualize/rich/">Rich</a> and <a href="https://github.com/Textualize/textual">Textual</a> - for ideas on rich text, diagnostics, and polished terminal UX.</li>
</ul>
</div>
</div>
<div id="outline-container-orgf517d96" class="outline-4">
<h4 id="orgf517d96">Feedback Welcome</h4>
<div class="outline-text-4" id="text-orgf517d96">
<p>
This is an early preview. APIs are stabilizing but may change. I'd love your feedback on:
</p>

<ul class="org-ul">
<li>API ergonomics</li>
<li>Missing components or features you need</li>
<li>Performance on your terminal</li>
<li>Bugs (please open issues!)</li>
</ul>

<p>
Give it a try and let me know what you think!
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="3">Making html_of_jsx ~10x faster</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/making-html-of-jsx-10x-faster/17579/1">https://discuss.ocaml.org/t/making-html-of-jsx-10x-faster/17579/1</a>
</p>
</div>
<div id="outline-container-orgad05ee2" class="outline-3">
<h3 id="orgad05ee2">David Sancho announced</h3>
<div class="outline-text-3" id="text-orgad05ee2">
<p>
Hello ocamlers,
</p>

<p>
I wrote a blog post about some optimizations I made in <a href="https://github.com/davesnx/html_of_jsx/">html_of_jsx</a>  
</p>

<p>
<a href="https://sancho.dev/blog/making-html-of-jsx-10x-faster">https://sancho.dev/blog/making-html-of-jsx-10x-faster</a>
</p>

<p>
I wanted to share it since those tricks are only possible at the preprocess stage, and a library would fall short. html_of_jsx is a small library that is used in a few places, but also a playground for server-reason-react (a bigger project).
</p>

<p>
Anyway, I'm still getting used to share some of the long forms of content, so feel free to give me some feedback/corrections or ask any question.
</p>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="4">Tyre - type-safe regular expressions 1.0</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-tyre-type-safe-regular-expressions-1-0/17584/1">https://discuss.ocaml.org/t/ann-tyre-type-safe-regular-expressions-1-0/17584/1</a>
</p>
</div>
<div id="outline-container-org68ad34f" class="outline-3">
<h3 id="org68ad34f">Emile Trotignon announced</h3>
<div class="outline-text-3" id="text-org68ad34f">
<p>
I am happy to announce the release of <a href="https://github.com/Drup/tyre/">Tyre</a> 1.0.
</p>

<p>
This release makes big changes to the typing: there is a whole host of far more practical combinators allowing you to write code like in a parser combinator library :
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><code><span style="color: #242521; font-weight: bold;">let</span> <span style="color: #007a9f;">url</span> =
  <span style="color: #242521; font-weight: bold;">let+</span> <span style="color: #007a9f;">scheme</span> = opt (const <span style="color: #242521;">Http</span> (str <span style="color: #ca3400;">"http"</span>) &lt;<span style="color: #9f0d0f;">|&gt;</span> const <span style="color: #242521;">Https</span> (str <span style="color: #ca3400;">"http"</span>) &lt;* str <span style="color: #ca3400;">"://"</span>) 
  <span style="color: #242521; font-weight: bold;">and+</span> <span style="color: #007a9f;">host</span> = rep_any
  <span style="color: #242521; font-weight: bold;">and+</span> <span style="color: #007a9f;">port</span> = opt (str <span style="color: #ca3400;">":"</span> *&gt; pos_int)
  <span style="color: #242521; font-weight: bold;">and+</span> <span style="color: #007a9f;">path</span> = list (str <span style="color: #ca3400;">"/"</span> *&gt; rep_any)
  <span style="color: #242521; font-weight: bold;">in</span>
  (scheme, host, port, path)
</code></pre>
</div>
<p>
(this is not a correct url parser by any means, its just to give an idea of how you can use this lib)
</p>

<p>
This does not allow you to use <code>eval</code>, because only one direction of the conversion is given (there is no code to convert from a url tuple). However in the cases where you don't need <code>eval</code> this is far easier to write. The difference is typed, you can't get runtime error by calling eval on the wrong regex.
</p>

<p>
There are also convencience changes such as charset and the <code>matched_string</code> function, that reduce the need to insert <code>Re</code> bits in your regexp.
</p>

<p>
Here is the full changelog:
</p>

<ul class="org-ul">
<li>Introduce charsets: contrary to <code>Re</code>, they have a different type from regex.</li>
<li>Type the difference between regexps that can be evaluated reversed and the
ones that cannot: <code>(evaluable, 'a) Tyre.t</code> and <code>(non_evaluable, 'a) Tyre.t</code>.</li>
<li>Introduce alias <code>type pattern</code> for <code>(non_evaluable, 'a) Tyre.t</code>.</li>
<li>Introduce <code>val lift : ('a -&gt; string) -&gt; 'a pattern -&gt; ('e, 'a) t</code> to transform
a pattern into an expression by giving an explicit conversion function.
Also <code>liftpp</code> that does the same with better performance by using <code>Format</code>.</li>
<li>Introduce <code>val unlift : (evaluable, 'a) t -&gt; 'a pattern</code>.</li>
<li>Introduce <code>val either: ('e, 'a) Tyre.t -&gt; ('e, 'b) Tyre.t -&gt; ('e, ('a, 'b) Either.t) Tyre.t</code>.</li>
<li>Change the type of <code>alt</code> to <code>(_, 'a) t -&gt; (_, 'a) t -&gt; 'a pattern</code>. Previous
users of <code>alt</code> should switch to <code>either</code>.</li>
<li>Introduce <code>~val alt_eval: ('a -&gt; [~Left | ~Right]) -&gt; ('e, 'a) t -&gt; ('e, 'a) t -&gt; ('e, 'a) t~</code>
This has flat typing but is compatible with <code>eval</code>.</li>
<li>Operators: <code>&lt;|&gt;</code> is <code>alt</code>, <code>&lt;||&gt;</code> is <code>either</code>.</li>
<li>Introduce <code>val map : ('a -&gt; 'b) -&gt; (_, 'a) t -&gt; 'b pattern</code> and its
corresponding operators: <code>let+</code> and <code>&lt;$&gt;</code>.</li>
<li>Introduce <code>(and+)</code> which is an alias of <code>seq</code>.</li>
<li>Introduce <code>val app: ('e, 'a -&gt; 'b) t -&gt; ('e, 'a) t -&gt; 'b pattern</code> and its
corresponding operator <code>&lt;*&gt;</code></li>
<li>Introduce <code>val matched_string : (_, 'a) t -&gt; (_, string) t</code> that discards the
computed value and just return the string that was matched.</li>
<li>Drop dependency on <code>Result</code> library. Stdlib is now used.</li>
<li>Introduce <code>val rep_charset: Charset.t -&gt; (_, string) t</code>, and shortcut
<code>val rep_any: (_, string) t</code>.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="5">Porting an OxCaml Project to Dune Package Management</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-porting-an-oxcaml-project-to-dune-package-management/17582/1">https://discuss.ocaml.org/t/blog-porting-an-oxcaml-project-to-dune-package-management/17582/1</a>
</p>
</div>
<div id="outline-container-orgdae79f1" class="outline-3">
<h3 id="orgdae79f1">Sudha Parimala announced</h3>
<div class="outline-text-3" id="text-orgdae79f1">
<p>
I recently worked on porting the <a href="https://github.com/oxcaml/tutorial-icfp25">OxCaml tutorial</a> to build with Dune Package Management. What was initially anticipated as a straightforward change ended up uncovering a few issues and requiring several patches. I wrote about the experience here: <a href="https://tensors.ink/posts/oxcaml-dune-pkg">https://tensors.ink/posts/oxcaml-dune-pkg</a>. Any questions or feedback welcome!
</p>
</div>
</div>
</div>
<div id="outline-container-6" class="outline-2">
<h2 id="6">Other OCaml News</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgc51d5e3" class="outline-3">
<h3 id="orgc51d5e3">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-orgc51d5e3">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://tarides.com/blog/2025-12-04-icfp-2025-looking-back-at-the-biggest-functional-programming-conference-of-the-year">ICFP 2025: Looking Back at the Biggest Functional Programming Conference of the Year</a></li>
<li><a href="https://anil.recoil.org/notes/foundational-ecosystem-workshop">Foundational AI for Ecosystem Resilience workshop</a></li>
<li><a href="https://www.tunbury.org/2025/12/02/tessera-stac/">Tile Server</a></li>
<li><a href="https://watch.ocaml.org/videos/watch/b959eeaf-e8c1-48e4-9d16-f8084a7bdda9">A Vision for OCaml in the AI Era - Thibaut Mattio - FUN OCaml 2025</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6eee6b2" class="outline-2">
<h2 id="org6eee6b2">Old CWN</h2>
<div class="outline-text-2" id="text-org6eee6b2">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="org30ad2f6">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
