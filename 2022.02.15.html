<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-02-15 Tue 10:20 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.02.08.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.02.22.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of February 08 to 15, 2022.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">OCaml 4.14.0, second alpha release</a></li>
<li><a href="#2">Multicore OCaml: January 2022 and post-merge activity</a></li>
<li><a href="#3">Cmdliner 1.1.0</a></li>
<li><a href="#4">stdcompat.18: forward compatibility for OCaml 4.14 standard library</a></li>
<li><a href="#5">Eio 0.1 - effects-based direct-style IO for OCaml 5</a></li>
<li><a href="#6">OCaml job at genomics company</a></li>
<li><a href="#7">MirageOS 4.0 Beta Release</a></li>
<li><a href="#8">VSCode OCaml Platform 1.9.0</a></li>
<li><a href="#9">ocaml-lsp-server 1.10.0</a></li>
<li><a href="#10">SiFun1.0.0 released</a></li>
<li><a href="#11">First release of prbnmcn-dagger</a></li>
<li><a href="#12">First Release of ppx_pyformat 0.1.1</a></li>
<li><a href="#13">Caqti 1.7.0</a></li>
<li><a href="#14">Gg 1.0.0 – Basic types for computer graphics</a></li>
<li><a href="#org366029c">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">OCaml 4.14.0, second alpha release</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-14-0-second-alpha-release/9293/1">https://discuss.ocaml.org/t/ocaml-4-14-0-second-alpha-release/9293/1</a>
</p>
</div>

<div id="outline-container-org10f0314" class="outline-3">
<h3 id="org10f0314">octachron announced</h3>
<div class="outline-text-3" id="text-org10f0314">
<p>
The release of OCaml 4.14.0 is approaching. We have released a second alpha version to help fellow hackers join us
early in our bug hunting and opam ecosystem fixing fun (see below for the installation instructions). You can see the
progress on this front at <a href="https://github.com/ocaml/opam-repository/issues/20501">https://github.com/ocaml/opam-repository/issues/20501</a> .
</p>

<p>
If you find any bugs, please report them here:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/issues">https://github.com/ocaml/ocaml/issues</a>
</p>

<p>
Compared to the last alpha release, we have exceptionally a new feature for writing future-compatible early thread
exit in 4.14.0 .
The second notable change is a major fix in the typechecker for escaping existential types when using GADTs, that
might break existing code that relied on the broken types. However, there are currently no known instance of package
broken by this change in the opam repository.
The other fixes are more usual and should be fairly safe.
</p>
</div>

<div id="outline-container-org8110c5a" class="outline-4">
<h4 id="org8110c5a">Changes compared to the first alpha</h4>
<div class="outline-text-4" id="text-org8110c5a">
<p>
The full list of new features and bug fixes, is available at:
</p>

<p>
<a href="https://github.com/ocaml/ocaml/blob/4.14/Changes">https://github.com/ocaml/ocaml/blob/4.14/Changes</a>
</p>
</div>

<div id="outline-container-org30a1955" class="outline-5">
<h5 id="org30a1955">New feature</h5>
<div class="outline-text-5" id="text-org30a1955">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10951">10951</a>: Introduce the Thread.Exit exception as an alternative way to terminate threads prematurely.  This alternative way will become the standard way in 5.00. (Xavier Leroy, review by Florian Angeletti)</li>
</ul>
</div>
</div>

<div id="outline-container-org9aba093" class="outline-5">
<h5 id="org9aba093">Major new bug fix</h5>
<div class="outline-text-5" id="text-org9aba093">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10907">10907</a>, <a href="https://github.com/ocaml/ocaml/issues/10959">10959</a>: Wrong type inferred from existential types (Jacques Garrigue and Gabriel Scherer, report by @dyzsr, review by Leo White)</li>
</ul>
</div>
</div>

<div id="outline-container-orgce758d8" class="outline-5">
<h5 id="orgce758d8">New bug fixes</h5>
<div class="outline-text-5" id="text-orgce758d8">
<ul class="org-ul">
<li><b>additional fixes</b> <a href="https://github.com/ocaml/ocaml/issues/10596">10596</a>, +<a href="https://github.com/ocaml/ocaml/issues/10978">10978</a>: Add with_open_bin, with_open_text and with_open_gen to In_channel and Out_channel. Also, add In_channel.input_all. (Nicolás Ojeda Bär, review by Daniel Bünzli, Jérémie Dimino, Damien Doligez and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10839">10839</a>: Fix regression of #show when printing class type
(Élie Brami, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10836">10836</a>, <a href="https://github.com/ocaml/ocaml/issues/10952">10952</a>: avoid internal typechecker errors when checking signature inclusion in presence of incompatible types. (Florian Angeletti, report by Craig Ferguson, review by Gabriel Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-orga3824c2" class="outline-5">
<h5 id="orga3824c2">Deprecation fine tuning</h5>
<div class="outline-text-5" id="text-orga3824c2">
<ul class="org-ul">
<li><b>additional fixes</b> <a href="https://github.com/ocaml/ocaml/issues/10675">10675</a>, +<a href="https://github.com/ocaml/ocaml/issues/10937">10937</a>: Emit deprecation warnings when old C runtime function names are used.  This will break C stub code that uses these old names and treats warnings as errors.  The workaround is to use the new names. (Xavier Leroy and David Allsopp, review by Sébastien Hinderer and Damien Doligez)</li>
</ul>
</div>
</div>

<div id="outline-container-org3db4e17" class="outline-5">
<h5 id="org3db4e17">Tools fine tuning</h5>
<div class="outline-text-5" id="text-org3db4e17">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10846">10846</a>: add the <code>-shape</code> command-line option to ocamlobjinfo. When reading a <code>cmt</code> file, shape information will only be shown if that option is used. (Ulysse Gérard, review by Florian Angeletti)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org547006e" class="outline-4">
<h4 id="org547006e">Installation instructions</h4>
<div class="outline-text-4" id="text-org547006e">
<p>
The base compiler can be installed as an opam switch with the following commands
</p>
<pre class="example" id="org07d95c7">
opam update
opam switch create 4.14.0~alpha2 --repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
<p>
With opam 2.1, the previous command line can be simplified to
</p>
<pre class="example" id="org7185519">
opam update
opam switch create 4.14.0~alpha2
</pre>
<p>
If you want to tweak the configuration of the compiler, you can switch to the option variant with:
</p>
<pre class="example" id="org5fedf24">
opam update
opam switch create &lt;switch_name&gt; --packages=ocaml-variants.4.14.0~alpha2+options,&lt;option_list&gt;
--repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</pre>
<p>
or with opam 2.1:
</p>
<pre class="example" id="orgc866c44">
opam update
opam switch create &lt;switch_name&gt; ocaml-variants.4.14.0~alpha2+options &lt;option_list&gt;
</pre>

<p>
where &lt;option_list&gt; is a comma separated list of ocaml-option-* packages. For instance, for a flambda and
no-flat-float-array switch:
</p>
<pre class="example" id="orgdb181a6">
opam switch create 4.14.0~alpha2+flambda+nffa ocaml-variants.4.14.0~alpha2+options ocaml-option-flambda
ocaml-option-no-flat-float-array
</pre>
<p>
All available options can be listed with "opam search ocaml-option".
</p>

<p>
If you want to test this version, it is advised to install the alpha opam repository
</p>

<p>
<a href="https://github.com/kit-ty-kate/opam-alpha-repository">https://github.com/kit-ty-kate/opam-alpha-repository</a>
</p>

<p>
with
</p>
<pre class="example" id="orge3a9a5e">
opam repo add alpha git://github.com/kit-ty-kate/opam-alpha-repository.git
</pre>
<p>
This alpha repository contains various fixes in the process of being upstreamed.
</p>

<p>
The source code for the alpha is also available at these addresses:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/4.14.0-alpha2.tar.gz">https://github.com/ocaml/ocaml/archive/4.14.0-alpha2.tar.gz</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.0~alpha2.tar.gz">https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.0~alpha2.tar.gz</a></li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Multicore OCaml: January 2022 and post-merge activity</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/multicore-ocaml-january-2022-and-post-merge-activity/9294/1">https://discuss.ocaml.org/t/multicore-ocaml-january-2022-and-post-merge-activity/9294/1</a>
</p>
</div>

<div id="outline-container-orge11a957" class="outline-3">
<h3 id="orge11a957">Anil Madhavapeddy announced</h3>
<div class="outline-text-3" id="text-orge11a957">
<p>
Welcome to the January 2022 <a href="https://github.com/ocaml-multicore/ocaml-multicore">Multicore OCaml</a> monthly update!
This update along with the <a href="https://discuss.ocaml.org/tag/multicore-monthly">previous updates</a> has been compiled by
@avsm, @ctk21, @kayceesrk and @shakthimaan.
</p>

<p>
@xavierleroy clicked "merge" on the <a href="https://github.com/ocaml/ocaml/pull/10831#issuecomment-1008935795">upstream Multicore OCaml
PR#10831</a> to upstream OCaml, which simultaneously
made for a great start to the new year and prepared us for the hard work ahead to get to a stable release of OCaml
5.00.0! Since the merge, we have continued to work on the release via bug fixes, code improvements, and tooling
support directly in the main ocaml repository. Notably, a new draft PR for <a href="https://github.com/ocaml/ocaml/pull/10972">ARM64 backend
support</a> has already been proposed.
</p>

<p>
OCaml 5.0 trunk also <a href="https://github.com/ocaml/ocaml/blob/3e622e41aca318df0d8ccfeb5c65272a0d2acfa3/Changes#L47-L66">removes a number of deprecated
modules</a>, and renames
<code>EffectHandlers</code> to <code>Effect</code> for consistency with the rest of the standard library. In the ecosystem, several of the
key support libraries like <code>uring</code>, <code>multicore-opam</code>, and <code>domainslib</code> have had updates to work with 5.0.0+trunk. The
Eio effects-based direct-style parallel IO for OCaml has had significant enhancements, and now also builds with OCaml
5.00.0+trunk. The Sandmark benchmarking suite now provides a <code>5.00.0+stable</code> and <code>5.00.0+trunk</code> OCaml variants to
build the benchmarks for trunk.
</p>
</div>

<div id="outline-container-org200aa4f" class="outline-4">
<h4 id="org200aa4f">OCaml 5.00 Release Planning</h4>
<div class="outline-text-4" id="text-org200aa4f">
<p>
The core development team is currently pinning down exactly what will constitute the OCaml 5.00 release in terms of
supported features. Anything that will be part of OCaml 5.00 but not currently supported must be in this list so that
we can plan for its implementation.  If you spot something that isn't below but should be, please get in touch or
post a reply.  This list is, as always, subject to change as the core development team plans and implements the
release.
</p>
</div>

<div id="outline-container-orgd57431a" class="outline-5">
<h5 id="orgd57431a">Runtime</h5>
<div class="outline-text-5" id="text-orgd57431a">
<ul class="org-ul">
<li>Mark stack overflow
<ul class="org-ul">
<li>Currently the mark-stack is allowed to grow to an unbounded size. There is a multicore implementation of mark stack overflow in <a href="https://github.com/ocaml-multicore/ocaml-multicore/issues/466">mc#466</a> . This design is complex and concurrently touches the major GC logic for determining when marking is complete. There is a feeling that a better design is to handle mark stack overflow with a stop-the-world section, but this has not yet been tried.</li>
</ul></li>
<li>Statmemprof</li>
<li>Make the runtime memory model safe
<ul class="org-ul">
<li>Ensure that the implementation of <code>caml_modify</code> is correct.</li>
<li>Fix warnings reported by Thread Sanitizer on the testsuite.</li>
</ul></li>
<li>Mark pre-fetching optimisation</li>
<li>Minor heap design that reduces virtual memory consumption
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/pull/10955">#10955</a> proposes deciding size of the minor area at program startup rather than fixed 256GB reservation now. Fixes Valgrind and AFL (with default limited virtual memory).</li>
<li>Designs exploring alternative organisation of minor heap (DLAB, BiBoP) is
<ol class="org-ol">
<li>Too risky to undertake now due to code change</li>
<li>Benefits unclear. See experiments in <a href="https://github.com/ocaml-multicore/ocaml-multicore/pull/508">mc#508</a>.</li>
</ol></li>
</ul></li>
<li>Make runtime safe for async callbacks
<ul class="org-ul">
<li>See the meta issue on asynchronous callback handling in <a href="https://github.com/ocaml/ocaml/issues/10915">#10915</a></li>
<li>Potentially requires changes to both the stop-the-world mechanism and major GC logic</li>
<li>Currently no proposed plan or implementation. Implementation will require significant testing and benchmarking</li>
<li>May make sense to complete as part of statmemprof work as both will potentially encounter similar implementation issues</li>
</ul></li>
<li>Eventring runtime tracing eventlog replacement
<ul class="org-ul">
<li>Monitoring and optimising GC in multicore programs is difficult, current multicore eventlog was a temporary fix</li>
<li>PR that adds eventring support to trunk in <a href="https://github.com/ocaml/ocaml/pull/10964">#10964</a></li>
</ul></li>
<li>Runtime is capable of running bytecode-only for 32-bit platforms?
<ul class="org-ul">
<li>sequential or multiple domains?</li>
</ul></li>
<li>Remove the use of mmap for <code>Caml_state</code>  (see <a href="https://github.com/ocaml-multicore/ocaml-multicore/issues/796">mc#796</a>)</li>
</ul>
</div>
</div>

<div id="outline-container-org0413d20" class="outline-5">
<h5 id="org0413d20">Stdlib</h5>
<div class="outline-text-5" id="text-org0413d20">
<ul class="org-ul">
<li>Finish the Stdlib audit (<a href="https://github.com/ocaml/ocaml/issues/10960">#10960</a>)</li>
<li>Domains, Mutex, Semaphore, Condition in 4.14
<ul class="org-ul">
<li>Support systhread based implementation of Domains and related modules. Mutex, Semaphore and Condition work as is.</li>
<li>4.14 is pretty much frozen already; so an emulation of Domains can be provided by a separate compatibility library.</li>
</ul></li>
<li>API Docs
<ul class="org-ul">
<li>Write API docs for effect handlers and domains</li>
</ul></li>
<li>Manual chapters
<ul class="org-ul">
<li>New manual chapters for effect handlers, domains and memory model</li>
</ul></li>
<li>OCamldoc thread-safety annotations
<ul class="org-ul">
<li>Introduce an OCamldoc tag for thread-safety (<a href="https://github.com/ocaml/ocaml/pull/10983">#10983</a>).</li>
<li>Partial order between <code>domain-safe</code>, <code>systhread-safe</code>, <code>fiber-safe</code>. <code>not-concurrency-safe</code> as default placeholder for those API functions, modules not audited for thread-safety.</li>
</ul></li>
<li>Atomic arrays</li>
<li>Atomic mutable record fields</li>
<li>Concurrency-safe lazy
<ul class="org-ul">
<li>Lazy that is safe for domains, systhreads and fibers</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org3732d56" class="outline-5">
<h5 id="org3732d56">Backend / middle-end</h5>
<div class="outline-text-5" id="text-org3732d56">
<ul class="org-ul">
<li>Flambda support</li>
<li>Arm64 support
<ul class="org-ul">
<li>Currently being worked on in trunk.</li>
<li>Targets are Mac M1 and AWS Graviton</li>
</ul></li>
<li>32-bit support
<ul class="org-ul">
<li>Sequential-only native backend is achievable on x86.  32-bit ARM can probably support multiple domains.  Time to drop x86-32 to bytecode only?</li>
<li>Wasm is 32-bit only now.</li>
</ul></li>
<li>RISC-V, Power, &#x2026;</li>
<li>OpenBSD, FreeBSD merged.
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/pull/10875">#10875</a> adds OpenBSD support</li>
</ul></li>
<li>Framepointer support
<ul class="org-ul">
<li>Useful for <code>perf</code> based performance benchmarking.</li>
<li>x86 and/or arm64?</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org0f495e7" class="outline-5">
<h5 id="org0f495e7">Tooling</h5>
<div class="outline-text-5" id="text-org0f495e7">
<ul class="org-ul">
<li>Revive `ocamldebug`</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga6e0ca3" class="outline-4">
<h4 id="orga6e0ca3">January 2021 updates</h4>
<div class="outline-text-4" id="text-orga6e0ca3">
<p>
As always, the Multicore OCaml updates are listed first, which are then followed by the ecosystem tooling updates.
Finally, the Sandmark benchmarking tasks are listed for your reference.
</p>

<p>
<i>editor’s note: please find the detailed notes at the archive link above</i>
</p>
</div>
</div>
</div>


<div id="outline-container-orgdf1d06d" class="outline-3">
<h3 id="orgdf1d06d">octachron later said</h3>
<div class="outline-text-3" id="text-orgdf1d06d">
<p>
After a meeting last week, the core compiler team has agreed on a short-list of blocking issues for the OCaml 5.0 at
<a href="https://github.com/ocaml/ocaml/issues/11013">https://github.com/ocaml/ocaml/issues/11013</a> .
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Cmdliner 1.1.0</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-cmdliner-1-1-0/9295/1">https://discuss.ocaml.org/t/ann-cmdliner-1-1-0/9295/1</a>
</p>
</div>

<div id="outline-container-org0520fe9" class="outline-3">
<h3 id="org0520fe9">Daniel Bünzli announced</h3>
<div class="outline-text-3" id="text-org0520fe9">
<p>
It's my pleasure to announce the release 1.1.0 of cmdliner. Cmdliner allows the declarative definition of command
line interfaces in OCaml.
</p>

<p>
The main points of this release are:
</p>

<ul class="org-ul">
<li>Support for UTF-8 man pages.</li>
<li>Support for deprecating commands, arguments and environment variables.</li>
<li>Arbitrary sub command nesting, each with its own command line syntax and help page.</li>
</ul>

<p>
To bring in the latter but limit cruft and confusion, the API was reorganized around the notion of [command]. But
except for the vagaries of introducing a new module in your scope, no existing program should be broken due to this.
</p>

<p>
However <i>all</i> programs will be subject to deprecation warnings to migrate to this new API. This being mostly a
reorganization rather than a redesign, transitioning to it should be smooth
(<a href="https://github.com/dbuenzli/uuidm/commit/5898246570f5d74343d08ba279d07fbfcd27fbb1">example</a> for a simple tool), but
a few defaults have been changed along the way.
</p>

<p>
Therefore make sure to read the [release notes][notes] which have all the details and credits the people who gave a
hand for this long delayed release; many thanks to them.
</p>

<p>
Finally a special thanks to @kit-ty-kate for her tremendous help and dedicated boring work in having this merged into
the opam package repository.
</p>

<p>
If you have any question about the new API, use this thread.
</p>

<ul class="org-ul">
<li>Home page: <a href="https://erratique.ch/software/cmdliner">https://erratique.ch/software/cmdliner</a></li>
<li>API docs &amp; manuals: <a href="https://erratique.ch/software/cmdliner/doc/">https://erratique.ch/software/cmdliner/doc/</a>  or <code>odig doc cmdliner</code></li>
<li>Install: <code>opam install cmdliner</code></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">stdcompat.18: forward compatibility for OCaml 4.14 standard library</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-stdcompat-18-forward-compatibility-for-ocaml-4-14-standard-library/9297/1">https://discuss.ocaml.org/t/ann-stdcompat-18-forward-compatibility-for-ocaml-4-14-standard-library/9297/1</a>
</p>
</div>

<div id="outline-container-org914873f" class="outline-3">
<h3 id="org914873f">Thierry Martinez announced</h3>
<div class="outline-text-3" id="text-org914873f">
<p>
It's my pleasure to announce a new release (#18) of <code>stdcompat</code>, providing an implementation of OCaml 4.14 standard
library which is compatible with all versions of OCaml from 3.07.
</p>

<p>
In particular, the new modules <code>In_channel</code> and <code>Out_channel</code>, and the new functions introduced in <code>Seq</code> are now
available whatever the version of OCaml you use.
</p>

<p>
Available through <code>opam</code>: <code>opam install stdcompat</code>
</p>

<p>
Development repository: <a href="https://github.com/thierry-martinez/stdcompat">https://github.com/thierry-martinez/stdcompat</a>
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Eio 0.1 - effects-based direct-style IO for OCaml 5</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/eio-0-1-effects-based-direct-style-io-for-ocaml-5/9298/1">https://discuss.ocaml.org/t/eio-0-1-effects-based-direct-style-io-for-ocaml-5/9298/1</a>
</p>
</div>

<div id="outline-container-org60d88c7" class="outline-3">
<h3 id="org60d88c7">Thomas Leonard announced</h3>
<div class="outline-text-3" id="text-org60d88c7">
<p>
<a href="https://github.com/ocaml-multicore/eio">Eio</a> provides an effects-based direct-style IO stack for OCaml 5.0. It aims
to be easy to use, secure, well documented, and fast. It consists of a generic cross-platform API, plus optimised
backends for different platforms.
</p>

<p>
This 0.1 release is for early adopters to try it out and provide feedback. It works with OCaml 5.00.0+trunk at the
time of writing, but as that is a moving target we suggest using 4.12.0+domains for now:
</p>

<pre class="example" id="org23e4f6d">
opam switch create 4.12.0+domains
--repositories=multicore=git+https://github.com/ocaml-multicore/multicore-opam.git,default
opam install eio_main
</pre>

<p>
There is a <a href="https://github.com/ocaml-multicore/eio/blob/main/README.md">tutorial</a> giving a tour of the main features:
</p>

<ul class="org-ul">
<li>Concurrent code without a need for monads or special syntax: no more <code>&gt;&gt;=</code>, <code>let%lwt</code>, <code>Lwt_list.iter_s</code>, etc. Just use plain OCaml code (<code>|&gt;</code>, <code>let</code>, <code>List.iter</code>).</li>
<li>Concurrency primitives (promises, streams, semaphores), as usual.</li>
<li>Run multiple fibres on a single core, or distribute work across multiple CPUs.</li>
<li>Replace any OS features (files, networks, clocks, etc) with mocks for testing.</li>
<li>Structured concurrency, to prevent leaking resources (such as open file descriptors or fibres).</li>
<li>Automatic handling of cancellation, so that if one part of your program fails then other fibres are cancelled automatically until the exception is handled or the program exits with a stack trace.</li>
<li>Capability-based security. For example, a <code>Dir.t</code> only grants access within some sub-tree of the filesystem, and prevents escaping it using <code>..</code> or by following symlinks out of the tree.</li>
</ul>

<p>
Various libraries are in the process of being ported to Eio. Examples include a <a href="https://gitlab.com/talex5/gemini-eio">Gemini
client</a> (including ports of angstrom, httpaf, notty and ocaml-tls), and
<a href="https://github.com/aantron/dream/pull/194">Dream</a> (providing a direct-style API to users while using
<a href="https://github.com/talex5/lwt_eio">lwt-eio</a> internally to integrate with existing libraries).
</p>

<p>
Performance seems good, especially on recent versions of Linux were Eio can take advantage of io_uring. For example,
this graph shows how various HTTP servers cope with increasing load:
</p>


<div id="org89bb9fb" class="figure">
<p><img src="https://user-images.githubusercontent.com/554131/151006021-2eb8f55e-40b3-409c-bbce-3cd582ac1231.png" alt="151006021-2eb8f55e-40b3-409c-bbce-3cd582ac1231.png" />
</p>
</div>

<p>
<code>httpaf_eio</code> is currently at the top (though note that the Rust server, rust_hyper, is not using io_uring, so this is
not a completely fair comparison).
</p>

<p>
Useful resources:
</p>
<ul class="org-ul">
<li><a href="https://github.com/ocaml-multicore/eio">Eio</a> &#x2013; the main project</li>
<li><a href="https://github.com/talex5/lwt_eio">Lwt_eio</a> &#x2013; integration with or porting from Lwt</li>
<li><a href="https://github.com/patricoferris/awesome-multicore-ocaml">awesome-multicore-ocaml</a> &#x2013; list of multicore resources</li>
</ul>

<p>
Feedback, and PRs adding missing features, are welcome!
</p>
</div>
</div>


<div id="outline-container-org4b03e7e" class="outline-3">
<h3 id="org4b03e7e">The editor says</h3>
<div class="outline-text-3" id="text-org4b03e7e">
<p>
A huge debate followed this message. Please follow the archive link above if you want to read more.
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">OCaml job at genomics company</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-job-at-genomics-company/9301/1">https://discuss.ocaml.org/t/ocaml-job-at-genomics-company/9301/1</a>
</p>
</div>

<div id="outline-container-orgfb77b0d" class="outline-3">
<h3 id="orgfb77b0d">Ashish Agarwal announced</h3>
<div class="outline-text-3" id="text-orgfb77b0d">
<p>
At Solvuu, we develop software for the life sciences industry. Our projects touch human health in various ways, from
pursuing cancer therapies to improving agricultural output. We use OCaml across the full stack: cloud infrastructure
management, job scheduling, data management and security, statistical data analysis, clients and servers for many
APIs, and web based UIs for data exploration.
</p>

<p>
We currently have a full-time position open for an OCaml programmer with cloud computing experience. The ideal
candidate would have at least 2 years of professional software development experience in OCaml, and 2 years of
experience building systems on AWS. Other requirements include exceptionally good written and verbal communication
skills, organizational skills, and attention to detail. We insist on clean elegant code and a team-first attitude,
and will want to be convinced that you do too. Though not required, the following would all strengthen your
application: a PhD in distributed systems or programming languages, experience with IaC technologies like Terraform,
or experience in the life science industry.
</p>

<p>
To apply, please send an email to jobs@solvuu.com expressing your interest, and please attach your CV. This is a
full-time position and requires authorization to work in the US. Ideally, you would work from one of our offices in
Manhattan or San Francisco (which immerse you in an ecosystem of innovative companies alongside Solvuu), but we
welcome remote work from anywhere in the US. Our compensation package includes a competitive salary, equity, and
health insurance for you and your family.
</p>

<p>
If the above sounds exciting, but you are outside the US, available only part-time, or feel you don’t quite meet the
requirements, please do still reach out. We are keen to meet anyone passionate about OCaml programming as a career,
and we will be happy to explore options for working together. You do not need to know any Biology.
</p>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">MirageOS 4.0 Beta Release</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/mirageos-4-0-beta-release/9302/1">https://discuss.ocaml.org/t/mirageos-4-0-beta-release/9302/1</a>
</p>
</div>

<div id="outline-container-org1083d65" class="outline-3">
<h3 id="org1083d65">Thomas Gazagnaire announced</h3>
<div class="outline-text-3" id="text-org1083d65">
<p>
<b>On behalf of the Mirage team, I am delighted to announce the beta release of MirageOS 4.0!</b>
</p>

<p>
<a href="https://mirage.io">MirageOS</a> is a library operating system that constructs unikernels for secure, high-performance
network applications across a variety of hypervisor and embedded platforms. For example, OCaml code can be developed
on a standard OS, such as Linux or macOS, and then compiled into a fully standalone, specialised unikernel that runs
under a Xen or KVM hypervisor. The MirageOS project also supplies several protocol and storage implementations
written in pure OCaml, ranging from TCP/IP to TLS to a full Git-like storage stack.
</p>

<p>
The beta of the MirageOS 4.00 release contains:
</p>
<ul class="org-ul">
<li><code>mirage.4.0.0~beta</code>: the CLI tool;</li>
<li><code>ocaml-freestanding.0.7.0</code>: a libc-free OCaml runtime;</li>
<li>and <code>solo5.0.7.0</code>: a cross-compiler for OCaml.</li>
</ul>

<p>
They are all available in <code>opam</code> by using:
</p>
<pre class="example" id="org792de52">
opam install 'mirage&gt;=4.0'
</pre>

<p>
<i>Note</i>: you need to explicitly add the <code>4.0&gt;=0</code> version here, otherwise <code>opam</code> will select the latest <code>3.*</code> stable
release. For a good experience, check that at least version <code>4.0.0~beta3</code> is installed.
</p>
</div>

<div id="outline-container-org0bb7ab3" class="outline-4">
<h4 id="org0bb7ab3">New Features</h4>
<div class="outline-text-4" id="text-org0bb7ab3">
<p>
This new release of MirageOS adds systematic support for cross-compilation to all supported unikernel targets. This
means that libraries that use C stubs (like Base, for example) can now seamlessly have those stubs cross-compiled to
the desired target.  Previous releases of MirageOS required specific support to accomplish this by adding the stubs
to a central package.
</p>

<p>
MirageOS implements cross-compilation using <i>Dune Workspaces</i>, which can take a whole collection of OCaml code
(including all transitive dependencies) and compile it with a given set of C and OCaml compiler flags. This workflow
also unlocks support for familiar IDE tools (such as <code>ocaml-lsp-server</code> and Merlin) while developing unikernels in
OCaml. It makes day-to-day coding much faster because builds are decoupled from configuration and package updates.
This means that live-builds, such as Dune's watch mode, now work fine even for exotic build targets!
</p>

<p>
A complete list of features can be found on the <a href="https://mirage.io/docs/mirage-4">MirageOS 4 release page</a>.
</p>
</div>
</div>

<div id="outline-container-orgbe66787" class="outline-4">
<h4 id="orgbe66787">Cross-Compilation and Dune Overlays</h4>
<div class="outline-text-4" id="text-orgbe66787">
<p>
This release introduces a significant change in the way MirageOS projects are compiled based on Dune Workspaces. This
required implementing a new developer experience for Opam users in order to simplify cross-compilation of large OCaml
projects.
</p>

<p>
That new tool, called <a href="https://github.com/ocamllabs/opam-monorepo">opam-monorepo</a> (née duniverse), separates package
management from building the resulting source code. It is an Opam plugin that:
</p>
<ul class="org-ul">
<li>creates a lock file for the project dependencies</li>
<li>downloads and extracts the dependency sources locally</li>
<li>sets up a Dune Workspace so that <code>dune build</code> builds everything in one go.</li>
</ul>

<p>
<a href="https://asciinema.org/a/rRf6s8cNyHUbBsDDfZkBjkf7X?speed=2">https://asciinema.org/a/rRf6s8cNyHUbBsDDfZkBjkf7X?speed=2</a>
</p>

<p>
<code>opam-monorepo</code> is already available in Opam and can be used on many projects which use <code>dune</code> as a build system.
However, as we don't expect the complete set of OCaml dependencies to use <code>dune</code>, we MirageOS maintainers are
committed to maintaining patches to build the most common dependencies with <code>dune</code>. These packages are hosted in a
separate <a href="https://github.com/mirage/opam-overlays">dune-universe/mirage-opam-overlays</a> repository, which can be used
by <code>opam-monorepo</code> and is enabled by default when using the Mirage CLI tool.
</p>
</div>
</div>

<div id="outline-container-orgd90bde5" class="outline-4">
<h4 id="orgd90bde5">Next Steps</h4>
<div class="outline-text-4" id="text-orgd90bde5">
<p>
Your feedback on this beta release is very much appreciated. You can follow the tutorials on
<a href="https://mirage.io/wiki/mirage-4">https://mirage.io/wiki/mirage-4</a>, our self-hosted staging site using MirageOS 4. Issues are very welcome on
<a href="https://github.com/mirage/mirage/issues">https://github.com/mirage/mirage/issues</a>, or come find us on Matrix in the MirageOS channel:
<a href="https://matrix.to/#/%23mirageos:matrix.org">#mirageos:matrix.org</a>.
</p>

<p>
The <b>final release</b> will happen in about a month. This release will incorporate your early feedback. It will also
ensure the existing MirageOS ecosystem is compatible with MirageOS 4 by reducing the overlay packages to the bare
minimum. We also plan to write more on <code>opam-monorepo</code> and all the new things MirageOS 4.0 will bring.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">VSCode OCaml Platform 1.9.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-vscode-ocaml-platform-1-9-0/9305/1">https://discuss.ocaml.org/t/ann-vscode-ocaml-platform-1-9-0/9305/1</a>
</p>
</div>

<div id="outline-container-org66b9c0a" class="outline-3">
<h3 id="org66b9c0a">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-org66b9c0a">
<p>
On behalf of our vscode team, I’m excited to announce the long awaited version 1.9.0 of our vscode extension.
</p>

<p>
This release is rich in new features, but I’d like to highlight one in particular. @arozovyk added a full blown
interactive AST explorer for PPX development. So long to flipping back and forth between your project and
<code>parsetree.mli</code> during development.
</p>

<p>
This release also features work from three new contributors: @tatchi, @SaySayo and @arozovyk. I thank them for their
work and wish them luck in participating in our cozy open source community.
</p>

<p>
Happy Hacking.
</p>
</div>

<div id="outline-container-orgde58033" class="outline-4">
<h4 id="orgde58033">1.9.0</h4>
<div class="outline-text-4" id="text-orgde58033">
<ul class="org-ul">
<li><p>
Dune syntax highlighting fix (#742)
</p>

<p>
The syntax for dune files has been re-written from scratch for a more correct
implementation. Every dune stanza documented by Dune is now supported, and
only the correct fields in each stanza are recognized.
</p></li>

<li>Fix the detection of opam's root directory when no switch is detected (#831)</li>

<li><p>
Add support for opening compilation artifacts in human-readable form in the
editor (#798)
</p>

<p>
Currently supported artifacts include <code>.cmi</code>, <code>.cmt(i)</code>, <code>.cmo</code>, <code>.cma</code>,
<code>.cmx(a/s)</code>, and <code>.bc</code> files.
</p>

<p>
To learn more about these files, see: <a href="https://ocaml.org/manual/comp.html">https://ocaml.org/manual/comp.html</a>
</p></li>

<li>Warn if the extension sees not the latest OCaml-LSP version compatible with
the OCaml distribution installed in the current sandbox.</li>

<li>Highlighted the UNREACHABLE element in cram .t files (#754)</li>

<li>Activate extension on cram files, or when the workspace contains
dune-workspace or dune files. (#750)</li>

<li><p>
Add commands <code>Jump to Next Typed Hole</code> (shortcut: <code>Alt + L</code>) and
<code>Jump to Previous Typed Hole</code> (shortcut: <code>Alt + Shift + L</code>)
</p>

<p>
<span class="underline">What typed holes are</span>
</p>

<p>
Merlin has a concept of "typed holes" that are syntactically represented as
<code>_</code>. Files that incorporate typed holes are not considered valid OCaml, but
Merlin and OCaml-LSP support them. One example when such typed holes can occur
is when one "destructs" a value, e.g., destructing <code>(Some 1)</code> will generate
code <code>match Some 1 with Some _ -&gt; _ | None -&gt; _</code>. While the first underscore
is a valid "match-all"/wildcard pattern, the rest of underscores are typed
holes that one needs to replace with valid OCaml code. These new commands help
to navigate easily from one hole to another (#643)
</p></li>

<li>Rename the extension's section in VS Code Settings from <code>OCaml configuration</code>
to <code>OCaml Platform</code> (#674)</li>

<li>Add <code>ocaml.server.extraEnv</code> configuration option to pass extra environment
variables to the language server, i.e., OCaml-LSP (#674)</li>

<li>Parsetree exploration and development tools. It is now possible to explore the
structure of the parsetree in a custom editor. Additionally, it is possible to
view preprocessed source of any OCaml source file (when applicable). Full
functionality is available only for dune projects. (#666)</li>

<li>Add commands <code>Show OCaml Language Server Output</code>,
<code>Show OCaml Platform Extension Output</code>, and <code>Show OCaml Commands Output</code>.
(#745)</li>

<li>Fix highlighting of escaped odoc source code braces (#690)</li>

<li><code>opam exec</code> is now called with <code>--set-switch</code> flag; this is useful when we
launch a terminal within a certain sandbox set in the extension (#744, fixes
#655)</li>

<li>The currently active OPAM switch in the workspace folder (project root) is
shown first in the list of sandboxes when selecting a sandbox. (#751)</li>

<li>Show a different icon for the currently active OPAM switch in the "OPAM
Switches" tree view (#751)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">ocaml-lsp-server 1.10.0</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-lsp-server-1-10-0/9307/1">https://discuss.ocaml.org/t/ann-ocaml-lsp-server-1-10-0/9307/1</a>
</p>
</div>

<div id="outline-container-orgc418ee7" class="outline-3">
<h3 id="orgc418ee7">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-orgc418ee7">
<p>
On behalf of the ocamllsp team, I’m pleased to announce version 1.10.0.  The only new feature this release offers is
better code folding, but there are some important bug fixes and performance improvements. If you encounter any
sluggishness with our server, do not hesitate to report it.
</p>

<p>
Unless there are serious bugs with this release, this will be the last release for OCaml 4.13.
</p>

<p>
Happy Hacking.
</p>
</div>

<div id="outline-container-org585f1b9" class="outline-4">
<h4 id="org585f1b9">1.10.0</h4>
<div class="outline-text-4" id="text-org585f1b9">
</div>
<div id="outline-container-org11235c6" class="outline-5">
<h5 id="org11235c6">Features</h5>
<div class="outline-text-5" id="text-org11235c6">
<ul class="org-ul">
<li>Add better support for code folding: more folds and more precise folds</li>
</ul>
</div>
</div>

<div id="outline-container-orgca07547" class="outline-5">
<h5 id="orgca07547">Fixes</h5>
<div class="outline-text-5" id="text-orgca07547">
<ul class="org-ul">
<li>Fix infer interface code action crash when implementation source does not
exist (#597)</li>

<li>Improve error message when the reason plugin for merlin is absent (#608)</li>

<li>Fix <code>chdir</code> races when running ppx (#550)</li>

<li>More accurate completion kinds.
New completion kinds for variants and fields. Removed inaccurate completion
kinds for constructors and types. (#510)</li>

<li>Fix handling request cancellation (#616)</li>
</ul>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-10" class="outline-2">
<h2 id="10">SiFun1.0.0 released</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-sifun1-0-0-released/9308/1">https://discuss.ocaml.org/t/ann-sifun1-0-0-released/9308/1</a>
</p>
</div>

<div id="outline-container-org66a4671" class="outline-3">
<h3 id="org66a4671">Krzysztof Druciarek announced</h3>
<div class="outline-text-3" id="text-org66a4671">
<p>
I wanted to announce the first release of the SiFun project!!!
</p>

<p>
SiFun is a Simple Functional language created by me as the part of my bachelor's dissertation project. The aim of the
project is to create a language that supports higher rank polymorphism (unlike OCaml). So far I created two type
systems: Hindley–Milner (which is just a simply typed lambda calculus) and System F (which extends HM system and adds
features of type abstractions, typed functions and visible type application).
</p>

<p>
The next part of the project is currently under development - the Bidirectional Type checking, which will fully
support higher rank types, as expected.
</p>

<p>
Feel free to play around with this simple interpreter (I've added support of interactive REPL command line) and raise
any issues you find. :blush:
</p>

<p>
Link to the GitHub repo:
<a href="https://github.com/kkd26/SiFun">https://github.com/kkd26/SiFun</a>
</p>
</div>
</div>
</div>




<div id="outline-container-11" class="outline-2">
<h2 id="11">First release of prbnmcn-dagger</h2>
<div class="outline-text-2" id="text-11">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-prbnmcn-dagger/9311/1">https://discuss.ocaml.org/t/ann-first-release-of-prbnmcn-dagger/9311/1</a>
</p>
</div>

<div id="outline-container-orgfc9d7db" class="outline-3">
<h3 id="orgfc9d7db">Igarnier announced</h3>
<div class="outline-text-3" id="text-orgfc9d7db">
<p>
I'm pleased to announce the first release of <a href="https://github.com/igarnier/prbnmcn-dagger">prbnmcn-dagger</a> (dagger for
short).
</p>

<p>
dagger is a library/edsl for <a href="https://en.wikipedia.org/wiki/Probabilistic_programming">probabilistic programming</a>.
Models are written in a monadic language and inference is performed by backends implementing that monadic interface.
In this first release, dagger only implements variants of <a href="http://proceedings.mlr.press/v15/wingate11a.html">lightweight
Metropolis-Hastings</a>.
</p>

<p>
You can have a look at the <a href="https://github.com/igarnier/prbnmcn-dagger#readme">README</a> or jump straight at the
<a href="https://igarnier.github.io/prbnmcn-dagger/prbnmcn-dagger/index.html">documentation</a>
</p>

<p>
Some notable sources of inspiration for this project are:
</p>
<ul class="org-ul">
<li><a href="https://dl.acm.org/doi/10.1145/3236778">Functional programming for modular Bayesian inference</a></li>
<li><a href="https://okmij.org/ftp/kakuritu/Hakaru10/">Hakaru10</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-12" class="outline-2">
<h2 id="12">First Release of ppx_pyformat 0.1.1</h2>
<div class="outline-text-2" id="text-12">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-ppx-pyformat-0-1-1/9321/1">https://discuss.ocaml.org/t/ann-first-release-of-ppx-pyformat-0-1-1/9321/1</a>
</p>
</div>

<div id="outline-container-org8430005" class="outline-3">
<h3 id="org8430005">Boning announced</h3>
<div class="outline-text-3" id="text-org8430005">
<p>
I am very glad to announce the first release of <a href="https://opam.ocaml.org/packages/ppx_pyformat/"><code>ppx_pyformat</code></a>!
</p>

<p>
<code>ppx_pyformat</code> is a ppxlib based rewriter inspired by Python string <code>format()</code> . This rewriter allows the user to do
complex variable substitutions and value formatting. The format string syntax of <code>ppx_pyformat</code> is closely modeled
after <a href="https://docs.python.org/3.10/library/string.html#format-string-syntax">that of Python3.10</a> (with several
enhancements). Most Python format strings should be compatible with <code>ppx_pyformat</code> with minor modifications. And the
behavior is also very similar. So Python users should be able to quickly pick up this rewriter.
</p>

<p>
The rewriter takes a required format string following with optional input arguments. The rewriter will parse the
format string, substitute/format the replacement fields and finally return everything as a single <code>string</code>.
</p>

<p>
For more details about this package, please check the
<a href="https://github.com/bn-d/ppx_pyformat/blob/master/README.md">README.md</a>.
</p>

<p>
Here is some sample code
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">_</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">hello</span> = <span style="color: #8b2252;">"Hello"</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">world</span> = <span style="color: #8b2252;">"world"</span> <span style="color: #000000; font-weight: bold;">in</span>
  print_endline <span style="color: #483d8b; background-color: #ebebeb;">[%pyformat</span> <span style="color: #8b2252;">"{hello} {world}!"</span><span style="color: #483d8b; background-color: #ebebeb;">]</span>
<span style="color: #b22222;">(*</span><span style="color: #b22222;">Hello world!</span><span style="color: #b22222;">*)</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">_</span> =
  print_endline <span style="color: #483d8b; background-color: #ebebeb;">[%pyformat</span> <span style="color: #8b2252;">"pi = {Float.pi:.10f}"</span><span style="color: #483d8b; background-color: #ebebeb;">]</span>
<span style="color: #b22222;">(*</span><span style="color: #b22222;">pi = 3.141592653</span><span style="color: #b22222;">*)</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">_</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #0000ff;">string_of_tuple</span> (<span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span>) = <span style="color: #8b2252;">"("</span><span style="color: #a52a2a;">^</span>a<span style="color: #a52a2a;">^</span><span style="color: #8b2252;">", "</span><span style="color: #a52a2a;">^</span>b<span style="color: #a52a2a;">^</span><span style="color: #8b2252;">")"</span> <span style="color: #000000; font-weight: bold;">in</span>
  print_endline <span style="color: #483d8b; background-color: #ebebeb;">[%pyformat</span> <span style="color: #8b2252;">"{!string_of_tuple}"</span>; (<span style="color: #8b2252;">"foo"</span>, <span style="color: #8b2252;">"bar"</span>)<span style="color: #483d8b; background-color: #ebebeb;">]</span>
<span style="color: #b22222;">(*</span><span style="color: #b22222;">(foo, bar)</span><span style="color: #b22222;">*)</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a0522d;">_</span> =
  print_endline <span style="color: #483d8b; background-color: #ebebeb;">[%pyformat</span> <span style="color: #8b2252;">"the answer to life the universe and everything {0:#020_b}"</span>; 42<span style="color: #483d8b; background-color: #ebebeb;">]</span>
<span style="color: #b22222;">(*</span><span style="color: #b22222;">the answer to life the universe and everything 0b000_0000_0010_1010</span><span style="color: #b22222;">*)</span>
</pre>
</div>

<p>
Hope this plugin can make logging/debugging in OCaml a bit easier. Feel free to leave any feedback! Thanks.
</p>
</div>
</div>
</div>




<div id="outline-container-13" class="outline-2">
<h2 id="13">Caqti 1.7.0</h2>
<div class="outline-text-2" id="text-13">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-caqti-1-7-0/9326/1">https://discuss.ocaml.org/t/ann-caqti-1-7-0/9326/1</a>
</p>
</div>

<div id="outline-container-org4bf5db9" class="outline-3">
<h3 id="org4bf5db9">Petter A. Urkedal announced</h3>
<div class="outline-text-3" id="text-org4bf5db9">
<p>
I am pleased to announce the release of <a href="https://github.com/paurkedal/ocaml-caqti">Caqti</a> 1.7.0.  Caqti is a generic
RDBMS client interface supporting MariaDB, PostgreSQL, and Sqlite3 via the corresponding bindings to the client
libraries.  The full release notes follows.
</p>
</div>

<div id="outline-container-orgba2f8a3" class="outline-4">
<h4 id="orgba2f8a3">v1.7.0 - 2022-02-13</h4>
<div class="outline-text-4" id="text-orgba2f8a3">
<p>
New features:
</p>

<ul class="org-ul">
<li>Added a new query-string parser based on Angstrom.  Its main advantage
is that it can be used stand-alone e.g. to load SQL schemas from files
split into individual statements which can be sent to the database.</li>

<li>Support passing a query environment to the connect and pool construction
functions.  This avoids using globals to modify the environment and
facilitates e.g. targeting different database schemas with different
connetions or connection pools.</li>

<li>A new <code>Caqti_query.E</code> case was added to support the two above cases.
This is a breaking change, but hopefully does not break existing code.
The exception (not counting <code>module type of</code>) would be if the
constructors are aliased along with an alias of the type.  On the other
hand, pattern matching should be compatible since the new constructor is
only emitted by newly introduced functions.</li>

<li>Added a module <code>Caqti_request.Infix</code> providing a new high-level API for
constructing requests.  It uses two-stage combinators, first to apply
type arguments then to apply the query string.  Apart from allowing
nicer looking code, this solves the problem of switching to a the query
string parser while maintaining backwards compatibility.</li>

<li>Added <code>set_statement_timeout</code> to connection modules, used to set query
timeout.  It is only supported for PostgreSQL and MariaDB. (#74)</li>

<li>Added <code>with_transaction</code> function to connection modules.  This is just
fail-safed wrapper around <code>start</code>, <code>commit</code>, and <code>rollback</code>.</li>
</ul>

<p>
Fixes:
</p>

<ul class="org-ul">
<li>Fixed delayed recovery of connection pools after loosing connections to
PostgreSQL.  Due to a missing call to consume inputs, the pool validator
did not discover that a connection was lost before it was attempted
reused.</li>

<li>Improved resilience against exceptions and monadic errors in callbacks
and fixed in-use checking.</li>

<li>Changed Sqlite3 driver to use non-linear parameters and improve error
reporting when the wrong number of arguments are received (#77 &amp; GPR#79
Reynir Björnsson).</li>
</ul>

<p>
Other changes:
</p>

<ul class="org-ul">
<li>The Caqti license now uses the LGPL-3.0 Linking Exception instead of a
rephrasing of the OCaml LGPL Linking Exception which was written for
LGPL-2.1.</li>

<li>Improved documentation, pretty-printing, logging, and exception details.</li>

<li>The test suite has been switched to use Alcotest; not without some
struggle due to the use of test harness and argument-dependent test
suite, but the result seems like a clear improvement.</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-14" class="outline-2">
<h2 id="14">Gg 1.0.0 – Basic types for computer graphics</h2>
<div class="outline-text-2" id="text-14">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-gg-1-0-0-basic-types-for-computer-graphics/9330/1">https://discuss.ocaml.org/t/ann-gg-1-0-0-basic-types-for-computer-graphics/9330/1</a>
</p>
</div>

<div id="outline-container-orgd9c5f35" class="outline-3">
<h3 id="orgd9c5f35">Daniel Bünzli announced</h3>
<div class="outline-text-3" id="text-orgd9c5f35">
<p>
It's my pleasure to announce the release 1.0.0 of Gg. Gg provides basic types for computer graphics.
</p>

<p>
The big change of this release is that the <code>Gg.Float</code> module now includes the <code>Stdlib.Float</code> module introduced in
OCaml 4.07. This means that the additions made there are also in the <code>Float</code> module in your scope when you <code>open Gg</code>.
</p>

<p>
Ideally the <a href="https://erratique.ch/software/gg/doc/Gg/Float/index.html"><code>Gg.Float</code></a> module would have disappeared but some values remain in it that are not in
<code>Stdlib.Float</code> and which are unlikely to be ever added there.
</p>

<p>
Be <b>very</b> careful on upgrading since this entails subtle changes to three of the existing functions of <code>Gg.Float</code>.
Besides the semantics of <code>Gg.Float.pp</code> and <code>Box{1,2,4}.inset</code> was also changed.
</p>

<p>
All of this is carefully documented in the <a href="https://github.com/dbuenzli/gg/blob/master/CHANGES.md#v100-2022-02-15-la-forclaz-vs">release notes</a>.
</p>

<p>
Sorry for these silent semantic changes.
</p>

<ul class="org-ul">
<li>Home page: <a href="https://erratique.ch/software/gg">https://erratique.ch/software/gg</a></li>
<li>API docs &amp; manuals: <a href="https://erratique.ch/software/gg/doc/">https://erratique.ch/software/gg/doc/</a></li>
<li>Install: <code>opam install gg</code></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org366029c" class="outline-2">
<h2 id="org366029c">Old CWN</h2>
<div class="outline-text-2" id="text-org366029c">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org69a3348">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
