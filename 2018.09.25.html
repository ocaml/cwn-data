<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-09-25 Tue 07:25 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2018.09.18.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2018.10.02.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of September 18 to 25, 2018.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Release of Teash 0.1.0</a></li>
<li><a href="#2">OCaml wrapper on top of a Random Forests implementation</a></li>
<li><a href="#3">opam 2.0.0 final release and repository upgrade</a></li>
<li><a href="#4">A client library for the Zeit API and Δ now.sh</a></li>
<li><a href="#5">Next OUPS meetup October 1st 2018</a></li>
<li><a href="#6">Release Candidate 4.07.1+rc1</a></li>
<li><a href="#7">Caqti 1.0.0</a></li>
<li><a href="#8">Mirage 3.2.0</a></li>
<li><a href="#9">Other OCaml News</a></li>
<li><a href="#org254144b">Old CWN</a></li>
</ul>
</div>
</div>


<hr />

<div id="outline-container-org1c46473" class="outline-2">
<h2 id="1"><a id="org1c46473"></a>Release of Teash 0.1.0</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-release-of-teash-0-1-0/2577/1">https://discuss.ocaml.org/t/ann-release-of-teash-0-1-0/2577/1</a>
</p>
</div>

<div id="outline-container-org0a682c3" class="outline-3">
<h3 id="org0a682c3">Johan Stenqvist announced</h3>
<div class="outline-text-3" id="text-org0a682c3">
<p>
Hi, I'm happy to announce that the initial release of Teash is now available from opam.
</p>

<p>
Teash is an implementation of "The Elm Architecture", for the shell. It may be used to build interactive terminal applications that adheres to the <code>Model -&gt; Update -&gt; View</code> paradigm.
</p>

<p>
Please don't hesitate to drop by <a href="https://github.com/neochrome/teash">https://github.com/neochrome/teash</a> and leave feedback/issues if you find it useful.
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-org4e9b857" class="outline-2">
<h2 id="2"><a id="org4e9b857"></a>OCaml wrapper on top of a Random Forests implementation</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-wrapper-on-top-of-a-random-forests-implementation/2579/1">https://discuss.ocaml.org/t/ocaml-wrapper-on-top-of-a-random-forests-implementation/2579/1</a>
</p>
</div>

<div id="outline-container-org8e8e416" class="outline-3">
<h3 id="org8e8e416">UnixJunkie announced</h3>
<div class="outline-text-3" id="text-org8e8e416">
<p>
I made yet another wrapper.
It is here:
<a href="https://github.com/UnixJunkie/oranger">https://github.com/UnixJunkie/oranger</a>
</p>

<p>
It can be used for classification and regression.
There is a test here:
<a href="https://github.com/UnixJunkie/oranger/blob/master/src/test.ml">https://github.com/UnixJunkie/oranger/blob/master/src/test.ml</a>
</p>

<p>
This package relies on the C++ ranger implementation:
<a href="https://github.com/imbs-hl/ranger">https://github.com/imbs-hl/ranger</a>
</p>

<p>
this package does not depend on R.
</p>

<p>
It is quite hackish and doesn't support sparse data also (I need to know how ranger
supports them first).
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-org37fc37c" class="outline-2">
<h2 id="3"><a id="org37fc37c"></a>opam 2.0.0 final release and repository upgrade</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opam-2-0-0-final-release-and-repository-upgrade/2585/1">https://discuss.ocaml.org/t/ann-opam-2-0-0-final-release-and-repository-upgrade/2585/1</a>
</p>
</div>

<div id="outline-container-org7c3ab45" class="outline-3">
<h3 id="org7c3ab45">R. Boujbel announced</h3>
<div class="outline-text-3" id="text-org7c3ab45">
<p>
We are happy to announce the <b>opam 2.0.0 final release</b>.
</p>

<p>
A few weeks ago, we released a last release candidate to be later promoted to 2.0.0, synchronised with the opam package repository upgrade to 2.0.0.
</p>

<p>
More information in this <a href="https://opam.ocaml.org/blog/opam-2-0-0/">blog post</a>.
</p>

<p>
We want to thank opam repository maintainers and OS maintainers for their help.
</p>
</div>
</div>


<div id="outline-container-org93a4d90" class="outline-3">
<h3 id="org93a4d90">Perry E. Metzger said</h3>
<div class="outline-text-3" id="text-org93a4d90">
<p>
I've upgraded the opam package in MacPorts to 2.0.0, so MacPorts users can upgrade opam that way quite easily.
</p>
</div>
</div>


<div id="outline-container-org9265919" class="outline-3">
<h3 id="org9265919">Marek Kubica also said</h3>
<div class="outline-text-3" id="text-org9265919">
<p>
Same with homebrew, the pull request was just merged today.
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-org36d198c" class="outline-2">
<h2 id="4"><a id="org36d198c"></a>A client library for the Zeit API and Δ now.sh</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-a-client-library-for-the-zeit-api-and-now-sh/2589/1">https://discuss.ocaml.org/t/ann-a-client-library-for-the-zeit-api-and-now-sh/2589/1</a>
</p>
</div>

<div id="outline-container-org96ac689" class="outline-3">
<h3 id="org96ac689">Etienne Millon announced</h3>
<div class="outline-text-3" id="text-org96ac689">
<p>
<a href="https://now.sh">https://now.sh</a> is a service to do easy serverless deployments. It's a way to
deploy a web site or application without managing a server directly. Deployments
are handled through the <a href="https://zeit.co/api">Zeit API</a>. The official client is
a Node application, which might be a bit heavy for some use cases.
</p>

<p>
I am happy to announce the release of an OCaml client for this API. It can be
used to trigger deployments from an OCaml application. It is available <a href="https://github.com/emillon/ocaml-zeit">on
github</a> &amp; <a href="http://opam.ocaml.org/packages/zeit/">on
opam</a> as <code>opam install zeit</code>. <a href="https://github.com/emillon/ocaml-zeit/blob/cdcdd0b155d406d1b8c8947e3c620527c3c9ecf7/bin/maintenant.ml">An example
program</a>
is included to demonstrate what the API looks like.
</p>

<p>
This exposes very few endpoints at the moment, but we plan to use this in the near future to make a better story around deploying OCaml applications.
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-orga079941" class="outline-2">
<h2 id="5"><a id="orga079941"></a>Next OUPS meetup October 1st 2018</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2018-09/msg00033.html">https://sympa.inria.fr/sympa/arc/caml-list/2018-09/msg00033.html</a>
</p>
</div>

<div id="outline-container-org50f82c2" class="outline-3">
<h3 id="org50f82c2">Bruno Bernardo announced</h3>
<div class="outline-text-3" id="text-org50f82c2">
<p>
The OUPS meetup is back. The next one will take place on Monday,
October 1, 7pm at IRILL on the Jussieu campus.
As usual, we will have a few talks, followed by pizzas and drinks.
</p>

<p>
The talks will be the following:
</p>
<ul class="org-ul">
<li>Berke Durak: OCaml in space: embedded software and numerical analysis</li>
<li>Armaël Guéneau: Complexity proofs for OCaml programs with CFML</li>
<li>Paul Laforgue: Copattern matching in OCaml</li>
</ul>

<p>
Please do note that we are always in demand of talk <i>proposals</i> for future
meetups.
</p>

<p>
To register, or for more information, go here:
<a href="https://www.meetup.com/ocaml-paris/events/254849756/">https://www.meetup.com/ocaml-paris/events/254849756/</a>
</p>

<p>
<i>Registration is required! Access is not guaranteed after 7pm if
you're not registered.</i> (It also helps us to order the right amount of
food.)
</p>

<p>
Access map: <br />
IRILL - Université Pierre et Marie Curie (Paris VI) <br />
Barre 15-16 1er étage <br />
4 Place Jussieu <br />
75005 Paris <br />
<a href="https://www.irill.org/pages/access.html">https://www.irill.org/pages/access.html</a>
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-orgdf4f16b" class="outline-2">
<h2 id="6"><a id="orgdf4f16b"></a>Release Candidate 4.07.1+rc1</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2018-09/msg00040.html">https://sympa.inria.fr/sympa/arc/caml-list/2018-09/msg00040.html</a>
</p>
</div>

<div id="outline-container-org7e6c16a" class="outline-3">
<h3 id="org7e6c16a">Damien Doligez announced</h3>
<div class="outline-text-3" id="text-org7e6c16a">
<p>
Dear OCaml users,
</p>

<p>
The release of OCaml version 4.07.1 is imminent.  We have
created a release candidate for your testing pleasure.  Please
try it in opam and test your favourite software with it.  Then
let me know whether it works for you.
</p>

<p>
We want to know about any show-stopping bugs, especially in the
compilation and installation phases.
</p>

<p>
This release candidate will soon be available as a bunch of OPAM
switches. It is also available as source code at this address:
  <a href="http://caml.inria.fr/pub/distrib/ocaml-4.07/">http://caml.inria.fr/pub/distrib/ocaml-4.07/</a>
</p>

<p>
Happy hacking,
</p>

<p>
&#x2013; Damien Doligez for the OCaml team.
</p>
</div>
</div>


<div id="outline-container-org956bd84" class="outline-3">
<h3 id="org956bd84">Damien Doligez then added</h3>
<div class="outline-text-3" id="text-org956bd84">
<p>
Sorry, I forgot to include the Changes list. See the end of this mail.
</p>
</div>

<div id="outline-container-org327901b" class="outline-4">
<h4 id="org327901b">Bug fixes:</h4>
<div class="outline-text-4" id="text-org327901b">
<ul class="org-ul">
<li>MPR#7815, GPR#1896: major GC crash with first-fit policy
(Stephen Dolan and Damien Doligez, report by Joris Giovannangeli)</li>

<li>* MPR#7818, GPR#2051: Remove local aliases in functor argument types,
to prevent the aliasing of their target.
(Jacques Garrigue, report by mandrykin, review by Leo White)</li>

<li>MPR#7820, GPR#1897: Fix Array.of_seq. This function used to apply a circular
permutation of one cell to the right on the sequence.
(Thierry Martinez, review by Nicolás Ojeda Bär)</li>

<li>MPR#7821, GPR#1908: make sure that the compilation of extension
constructors doesn't cause the compiler to load more cmi files
(Jérémie Dimino)</li>

<li>MPR#7824, GPR#1914: subtype_row: filter out absent fields when row is closed
(Leo White and Thomas Refis, report by talex, review by Jacques Garrigue)</li>

<li>GPR#1915: rec_check.ml is too permissive for certain class declarations.
(Alban Reynaud with Gabriel Scherer, review by Jeremy Yallop)</li>

<li>MPR#7833, MPR#7835, MPR#7822, GPR#1997: Track newtype level again
(Leo White, reports by Jerome Simeon, Thomas Refis and Florian
Angeletti, review by Jacques Garrigue)</li>

<li>MPR#7838: -principal causes assertion failure in type checker
(Jacques Garrigue, report by Markus Mottl, review by Thomas Refis)</li>
</ul>




<hr />
</div>
</div>
</div>
</div>

<div id="outline-container-org4054715" class="outline-2">
<h2 id="7"><a id="org4054715"></a>Caqti 1.0.0</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-caqti-1-0-0/2609/1">https://discuss.ocaml.org/t/ann-caqti-1-0-0/2609/1</a>
</p>
</div>

<div id="outline-container-orge579129" class="outline-3">
<h3 id="orge579129">Petter A. Urkedal announced</h3>
<div class="outline-text-3" id="text-orge579129">
<p>
Caqti is an abstraction layer over relational database client libraries,
currently supporting MariaDB, PostgreSQL and Sqlite3 providing monadic
concurrency, connection pools, and unified parameter handling.
</p>

<p>
I am please to announce the first formally stable release, with the following highlights from the change log:
</p>

<ul class="org-ul">
<li>Applied an essential fix of ptime to string conversion for PostgreSQL by @monstasat, with apologies for the delayed release to anyone who might have encountered the issue.</li>
<li>Support microsecond precision for MariaDB.  This completes the support for full time precision in all drivers.</li>
</ul>

<p>
and some adjustments of the API:
</p>

<ul class="org-ul">
<li>Added <code>Caqti_type.Std : Caqti_type_sig.Std</code>, containing type descriptors needed for building requests, for easy inclusion in custom modules.</li>
<li>Removed <code>Caqti_type.Field.ex</code> and renamed <code>Caqti_type.ex</code> to  <code>Caqti_type.any</code> and related functions.</li>
<li>Removed other deprecated definitions.</li>
<li>Moved <code>Caqti_system_sig</code> into <code>Caqti_driver</code> and split up the signature to  make room for future drivers on alternative platforms.</li>
</ul>
</div>
</div>


<div id="outline-container-org959a869" class="outline-3">
<h3 id="org959a869">Petter A. Urkedal later added</h3>
<div class="outline-text-3" id="text-org959a869">
<ul class="org-ul">
<li><a href="https://github.com/paurkedal/ocaml-caqti">Project page</a></li>
<li><a href="http://paurkedal.github.io/ocaml-caqti/index.html">API reference</a></li>
</ul>

<p>
There is also a nice <a href="https://medium.com/@bobbypriambodo/interfacing-ocaml-and-postgresql-with-caqti-a92515bdaa11">introductory tutorial</a> on Medium.
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-orgd79cc80" class="outline-2">
<h2 id="8"><a id="orgd79cc80"></a>Mirage 3.2.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mirage-3-2-0/2613/1">https://discuss.ocaml.org/t/ann-mirage-3-2-0/2613/1</a>
</p>
</div>

<div id="outline-container-orgc9c8b4a" class="outline-3">
<h3 id="orgc9c8b4a">Hannes Mehnert announced</h3>
<div class="outline-text-3" id="text-orgc9c8b4a">
<p>
it is my pleasure to announce that mirage 3.2.0 has been released to opam-repository(<code>*</code>).  This release contains breaking changes with earlier releases:
</p>

<p>
It requires solo5 0.4.0, which renames "ukvm" to "hvt" (thanks to Martin Lucina)
It requires tcpip 3.5.0, which removes complexity from stack initialisation (thanks to Hannes Mehnert)
</p>

<p>
Mirage now comes with the hvt (Hardware Virtualization Tender) target (earlier known as ukvm), which works on Linux/KVM, OpenBSD/VMM (since 6.4), and FreeBSD/VMM|BHyve.
</p>
</div>

<div id="outline-container-orga7a4ff4" class="outline-4">
<h4 id="orga7a4ff4">Upgrading from Mirage 3.1.x or earlier</h4>
<div class="outline-text-4" id="text-orga7a4ff4">
<p>
Due to conflicting packages, opam will not upgrade mirage to version 3.2.0 or
newer if a version of mirage-solo5 older than 0.4.0 is installed in the switch.
To perform the upgrade you must run <code>opam upgrade mirage</code> explicitly.
</p>
</div>

<ul class="org-ul">
<li><a id="orgdabffb1"></a>Changes required to rebuild and run ukvm unikernels<br />
<div class="outline-text-5" id="text-orgdabffb1">
<p>
As of Solo5 0.4.0, the ukvm target has been renamed to hvt. If you are working out of an existing, dirty, source tree, you should initially run:
</p>

<div class="org-src-container">
<pre class="src src-shell">mirage configure -t hvt
mirage clean
mirage configure -t hvt
</pre>
</div>

<p>
and then proceed as normal. If you are working with a clean source tree, then simply configuring with the new hvt target is sufficient:
</p>

<p>
<code>mirage configure -t hvt</code>
</p>

<p>
Note that the build products have changed:
</p>

<p>
The unikernel binary is now named <code>&lt;unikernel&gt;.hvt</code>, the <code>ukvm-bin</code> binary is now named <code>solo5-hvt</code>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org0d8b3fd" class="outline-4">
<h4 id="org0d8b3fd">adapt to mirage-protocols, mirage-stack, tcpip changes</h4>
<div class="outline-text-4" id="text-org0d8b3fd">
<p>
This is a breaking change: mirage 3.2.0 requires mirage-protocols 1.4.0,
mirage-stack 1.3.0, and tcpip 3.5.0 to work (charru-client-mirage 0.10 and
mirage-qubes-ipv4 0.6 are adapted to the changes). An older mirage won't be able
to use these new libraries correctly. Conflicts were introduced in the
opam-repository.
</p>

<p>
In more detail, direct and socket stack initialisation changed, which is
automatically generated by the mirage tool for each unikernel (as part of
<code>main.ml</code>). A record was built up, which is no longer needed.
</p>

<p>
Several unneeded type aliases were removed:
</p>
<ul class="org-ul">
<li><code>netif</code> from Mirage_protocols.ETHIF</li>
<li><code>ethif</code> and <code>prefix</code> from Mirage_protocols.IP</li>
<li><code>ip</code> from Mirage_protocols.{UDP,TCP}</li>
<li><code>netif</code> and <code>'netif config</code> from Mirage_stack.V4</li>
<li><code>'netif stackv4_config</code> and <code>socket_stack_config</code> in Mirage_stack</li>
</ul>


<p>
Regards,
</p>

<p>
hannes
</p>

<p>
<code>*</code>: which since a week switched to opam 2.0, and thus you'll only see updates if you upgraded your opam to 2.0 (you can do so by following the instructions on <a href="https://opam.ocaml.org/blog/opam-2-0-0/">https://opam.ocaml.org/blog/opam-2-0-0/</a>)
</p>
</div>
</div>
</div>


<div id="outline-container-orgcd15850" class="outline-3">
<h3 id="orgcd15850">Christian Lindig asked and Thomas Gazagnaire replied</h3>
<div class="outline-text-3" id="text-orgcd15850">
<p>
&gt; Could you give a summary (or provide a link) what Mirage is and what it is good for?
</p>

<p>
You can see Mirage as the sum of three components:
</p>

<ol class="org-ol">
<li>A set of system APIs. We have module types for each of the main device drivers (low-level like network and storage but also higher level drivers like HTTP and TLS devices). See for instance <a href="https://github.com/mirage/mirage-protocols">mirage-protocols</a> for the module types related to our TCP/IP stack.</li>

<li>A set of packages implementing these API. These could be backend-specific (like <a href="https://github.com/mirage/mirage-net-unix">Unix</a>, <a href="https://github.com/mirage/mirage-net-xen">Xen</a>, or <a href="https://github.com/mirage/mirage-net-solo5">solo5</a> (to target kvm), or <a href="https://github.com/well-typed-lightbulbs/mirage-net-impl-esp32">ESP32</a>) or generic (like an <a href="https://github.com/mirage/ocaml-cohttp/tree/master/cohttp-mirage/src">HTTP server</a>, a Git implementation, etc). The generic implementations are functors over the set of APIs defined in 1.</li>

<li>A configuration DSL (<a href="https://github.com/mirage/functoria">functoria</a>) and a command-line tool (<a href="https://github.com/mirage/mirage">mirage</a>) to bind them all.</li>
</ol>

<p>
You can read more about this on the <a href="https://mirage.io">MirageOS</a> website, including links to papers, tutorials, etc.
</p>
</div>
</div>


<div id="outline-container-org0134daf" class="outline-3">
<h3 id="org0134daf">Thomas Gazagnaire then added</h3>
<div class="outline-text-3" id="text-org0134daf">
<p>
And here a few examples of how to use MirageOS:
</p>

<ul class="org-ul">
<li>you want to have a total control on your runtime environment: you can use mirage to build a very specialised OS that you can statically link to your application. This removes the need an underlying general purpose OS and produce small deployment images (a few Mo) with low ressource consumptions (a few Mo), so you could increase the density of your deployments. The images are also secure as the attack surfaces is reduced, see for instance the <a href="http://ownme.ipredator.se/">bitcoin pinata</a>.</li>

<li>you want to build a "system" application (e.g. a firewall, a reverse TCP/IP stack): you can pick the Mirage libraries that you need an include these in your application. See for instance <a href="https://github.com/moby/vpnkit">VPNKit</a> or <a href="http://roscidus.com/blog/blog/2016/01/01/a-unikernel-firewall-for-qubesos/">Qubes firewall</a>.</li>
</ul>
</div>
</div>


<div id="outline-container-org2881eaa" class="outline-3">
<h3 id="org2881eaa">Perry E. Metzger also replied</h3>
<div class="outline-text-3" id="text-org2881eaa">
<p>
&gt; Could you give a summary (or provide a link) what Mirage is and what it is good for?
</p>

<p>
Perhaps as an outsider I can give a somewhat different summary.
</p>

<p>
Mirage is a library that acts as an operating system — it allows you to
construct an OCaml program that boots directly on top of a virtual machine
hypervisor by providing your program all the system services it needs to boot on
not-quite-bare metal. It has all the services you would usually expect in an
operating system, like a TCP/IP stack and drivers and all the rest.
</p>

<p>
(The <a href="https://en.wikipedia.org/wiki/Unikernel">Unikernel wikipedia page</a> gives some more explanation of the approach.)
</p>

<p>
This lets you construct very small, very specialized machine images where the
entire stack is written in OCaml. If you want to build (say) a very small, very
secure system appliance (like a small firewall + router), this is one cool way
to do it. That said, you can in theory build any sort of "boots on bare metal"
system you like with it, just as you can put any application you like on top of
Unix. The limitation is that everything runs in one address space, but that's
also the joy of it.
</p>
</div>
</div>


<div id="outline-container-orgb223b6a" class="outline-3">
<h3 id="orgb223b6a">Perry E. Metzger asked and Martin Lucina replied</h3>
<div class="outline-text-3" id="text-orgb223b6a">
<p>
&gt; How does Mirage handle multiple processors?
</p>

<p>
It doesn't; like most unikernels I've seen to date the design choice is to
remain single-core and use a cooperative scheduler. If you want to scale out to
multiple cores then the idea is you run multiple instances of your unikernel,
and the scheduling of unikernels to cores is handled by the hypervisor (or other
"host" system).
</p>

<p>
&gt; Can Mirage boot on actual bare metal?
</p>

<p>
It can, but the only example I know of to date is the ESP32 port (<a href="https://www.lortex.org/esp32/">blog</a>, <a href="https://github.com/well-typed-lightbulbs/mirage-impl-esp32/">implementation</a>).
</p>

<p>
The OCaml runtime is extremely easy to re-target to anything and requires only
minimal C dependencies (see e.g.
<a href="https://github.com/mirage/ocaml-freestanding">ocaml-freestanding</a>), so actual
bare metal is mainly a question of writing the low-level platform startup code,
and then the actual hardware drivers you might need (which can be in OCaml).
</p>

<p>
By the way, thank you for your summary write-up of Mirage. Sometimes it's hard to explain to people as an insider what exactly a project is good for.
</p>
</div>
</div>


<div id="outline-container-org789ebe1" class="outline-3">
<h3 id="org789ebe1">Perry E. Metzger asked and Hannes Mehnert replied</h3>
<div class="outline-text-3" id="text-org789ebe1">
<p>
&gt; the Mirage repository have USB controller and similar drivers?
</p>

<p>
No, there isn't any USB (or other) drivers yet.
</p>

<p>
Just to clear up the wording here: there is no "mirage repository", but being a
library operating system, each MirageOS unikernel consists of hundreds of OCaml
libraries, all released to the opam-repository.
</p>




<hr />
</div>
</div>
</div>

<div id="outline-container-org6d07bf1" class="outline-2">
<h2 id="9"><a id="org6d07bf1"></a>Other OCaml News</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orga30dcc2" class="outline-3">
<h3 id="orga30dcc2">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-orga30dcc2">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="http://www.ocamlpro.com/2018/09/19/opam-2-0-0-release-and-repository-upgrade/">opam 2.0.0 release and repository upgrade</a></li>
</ul>




<hr />
</div>
</div>
</div>

<div id="outline-container-org254144b" class="outline-2">
<h2 id="org254144b">Old CWN</h2>
<div class="outline-text-2" id="text-org254144b">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>
<hr />
<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
