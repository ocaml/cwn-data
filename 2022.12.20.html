<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-12-20 Tue 10:30 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.12.13.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.12.27.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of December 13 to 20, 2022.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">B·o·B, an universal and secure peer-to-peer file-transfer in OCaml</a></li>
<li><a href="#2">OCaml 5.0.0 is out!</a></li>
<li><a href="#3">ThreadSanitizer support for OCaml 5.0.0 – first public release</a></li>
<li><a href="#4">Parany for OCaml-5</a></li>
<li><a href="#5">WebAssembly/Wasm and OCaml, by OCamlPro</a></li>
<li><a href="#6">opam 2.1.4, opam-publish 2.2.0, opam-file-format 2.1.5</a></li>
<li><a href="#orgf863143">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">B·o·B, an universal and secure peer-to-peer file-transfer in OCaml</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-b-o-b-an-universal-secure-peer-to-peer-file-transfer-in-ocaml/10833/8">https://discuss.ocaml.org/t/ann-b-o-b-an-universal-secure-peer-to-peer-file-transfer-in-ocaml/10833/8</a>
</p>
</div>

<div id="outline-container-org3b421ec" class="outline-3">
<h3 id="org3b421ec">Calascibetta Romain announced</h3>
<div class="outline-text-3" id="text-org3b421ec">
<p>
As we said, the announcement of Bob being experimental, we had various feedbacks to improve Bob but also bugs on its use
(particularly <a href="https://github.com/dinosaure/bob/issues/27">on MacOS</a>).
</p>

<p>
In this, we fixed the problems and decided to offer an Atom feed to follow the development of Bob but also the changes made on our
relay (available to users).
</p>

<p>
<a href="https://bob.osau.re">The website</a> has been improved by implementing a &ldquo;dark&rdquo; mode to make it easier to read. We therefore advise
you not only to download the latest version of Bob if you are a user, but also to subscribe to <a href="https://bob.osau.re/feed.xml">our
feed</a> in order to keep up to date with our development.
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">OCaml 5.0.0 is out!</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-5-0-0-is-out/10974/1">https://discuss.ocaml.org/t/ocaml-5-0-0-is-out/10974/1</a>
</p>
</div>

<div id="outline-container-org982383e" class="outline-3">
<h3 id="org982383e">octachron announced</h3>
<div class="outline-text-3" id="text-org982383e">
<p>
We have the pleasure of celebrating the birthdays of Jane Austen and Arthur C. Clarke by
announcing the release of OCaml version 5.0.0.
</p>

<p>
The highlight of this new major version of OCaml is the long-awaited runtime support
for <a href="https://v2.ocaml.org/releases/5.0/manual/parallelism.html">shared memory parallelism</a> and <a href="https://v2.ocaml.org/releases/5.0/manual/effects.html">effect
handlers</a>.
</p>

<p>
This multicore support is the culmination of more than 8 years of effort,
and required a full rewrite of the OCaml runtime environment.
Consequently, OCaml 5.0.0 is expected to be a more experimental version of
OCaml than the usual OCaml releases.
</p>

<p>
In this release, the native compiler only supports the x86-64 and arm64 architectures. In terms of operating systems, Linux, the
BSDs, macOS and mingw64 on Windows
are supported.
</p>

<p>
We are planning to restore the support for most previously supported architectures and operating systems, and address remaining
known issues over the course of the next year.
</p>

<p>
Don&rsquo;t let those words of caution hinder your experimentation with OCaml 5:
OCaml 5 as a language is fully compatible with OCaml 4 down to the performance
characteristics of your programs. In other words, any code that works with OCaml 4 should work the same with OCaml 5.
</p>

<p>
The currently known exceptions to this rule are:
</p>
<ul class="org-ul">
<li>the removal of many long-deprecated functions and modules</li>
<li>changes to the internal runtime API</li>
<li>the performance of ephemerons is currently (and temporarily) strongly degraded.</li>
</ul>

<p>
Please report any unexpected behaviours on the [OCaml issue tracker]
(<a href="https://github.com/ocaml/ocaml/issues">https://github.com/ocaml/ocaml/issues</a>).
</p>

<p>
During the maturing period for OCaml 5, the OCaml 4.14 branch will be maintained
by backporting bug fixes from the OCaml 5 branch at regular intervals.
The next release on the OCaml 4.14 branch, OCaml 4.14.1, should soon follow this release.
</p>

<p>
The full list of changes can be found in the changelog below.
</p>
</div>

<div id="outline-container-org0517be7" class="outline-4">
<h4 id="org0517be7">Installation Instructions</h4>
<div class="outline-text-4" id="text-org0517be7">
<p>
The base compiler can be installed as an opam switch with the following commands:
</p>
<div class="org-src-container">
<pre class="src src-shell">opam update
opam switch create 5.0.0
</pre>
</div>

<p>
It might be also interesting to check the new support for parallelism by installing the <code>domainslib</code> library with
</p>
<div class="org-src-container">
<pre class="src src-shell">opam install domainslib
</pre>
</div>
<p>
The source code for the release candidate is also directly available on:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/5.0.0.tar.gz">GitHub</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-5.0/ocaml-5.0.0.tar.gz">OCaml archives at Inria</a></li>
</ul>
</div>

<ul class="org-ul">
<li><a id="org422a7cb"></a>Fine-Tuned Compiler Configuration<br />
<div class="outline-text-5" id="text-org422a7cb">
<p>
If you want to tweak the configuration of the compiler, you can switch to the option variant with:
</p>
<div class="org-src-container">
<pre class="src src-shell">opam update
opam switch create &lt;switch_name&gt; ocaml-variants.5.0.0+options &lt;option_list&gt;
</pre>
</div>
<p>
where <code>&lt;option_list&gt;</code> is a comma-separated list of <code>ocaml-option-*</code> packages. For instance, for a <code>flambda</code> and
<code>no-flat-float-array</code> switch:
</p>
<div class="org-src-container">
<pre class="src src-shell">opam switch create 5.0.0+flambda+nffa ocaml-variants.5.0.0+options ocaml-option-flambda ocaml-option-no-flat-float-array
</pre>
</div>

<p>
The command line above is slightly more complicated for opam versions before 2.1:
</p>

<div class="org-src-container">
<pre class="src src-shell">opam update
opam switch create &lt;switch_name&gt; --packages=ocaml-variants.5.0.0+options,&lt;option_list&gt;
</pre>
</div>
<p>
In both cases, all available options can be listed with <code>opam search ocaml-option</code>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org2b0d75f" class="outline-4">
<h4 id="org2b0d75f">Changelog for OCaml 5.0.0 (16 December 2022)</h4>
<div class="outline-text-4" id="text-org2b0d75f">
<p>
<i>Editor’s note</i>: as the Changelog is huge, please follow the archive link above to read it.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">ThreadSanitizer support for OCaml 5.0.0 – first public release</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-threadsanitizer-support-for-ocaml-5-0-0-first-public-release/10975/1">https://discuss.ocaml.org/t/ann-threadsanitizer-support-for-ocaml-5-0-0-first-public-release/10975/1</a>
</p>
</div>

<div id="outline-container-org04453d9" class="outline-3">
<h3 id="org04453d9">Olivier Nicole announced</h3>
<div class="outline-text-3" id="text-org04453d9">
<p>
We are happy to announce the first release of ThreadSanitizer support for OCaml 5.
</p>
</div>

<div id="outline-container-org197b5bd" class="outline-4">
<h4 id="org197b5bd">Motivation in a nutshell</h4>
<div class="outline-text-4" id="text-org197b5bd">
<p>
With OCaml 5 comes parallel programming, and, with it, the possibility of introducing <b>data races</b>. A data race is when two or
more threads access the same memory location concurrently, and at least one of the accesses is a write. Data races can lead to
particularly hard-to-debug problems.
</p>

<p>
ThreadSanitizer (TSan for short) is an approach developed by Google to locate data races in code bases. It consists in instrumenting
your executables to keep a history of previous memory accesses (at a certain performance cost), in order to detect a potential data
race, <b>even when this race has no visible effect on the execution</b>. ThreadSanitizer has proved very effective in detecting
hundreds of concurrency bugs in large projects.
</p>

<p>
There is now a new opam switch, <code>5.0.0+tsan</code>, on which all your libraries and executables will be compiled with ThreadSanitizer
instrumentation. On that switch, the ThreadSanitizer runtime will run as part of your executables and emit reports when it detects a
potential data race:
</p>
<pre class="example" id="orgf619383">
==================
WARNING: ThreadSanitizer: data race (pid=4170290)
  Read of size 8 at 0x7f072bbfe498 by thread T4 (mutexes: write M0):
    #0 camlSimpleRace__fun_524 /tmp/simpleRace.ml:7 (simpleRace.exe+0x43dc9d)
    #1 camlStdlib__Domain__body_696 /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/stdlib/domain.ml:202
(simpleRace.exe+0x47b5dc)
    #2 caml_start_program ??:? (simpleRace.exe+0x4f51c3)
    #3 caml_callback_exn /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/callback.c:168
(simpleRace.exe+0x4c2b93)
    #4 caml_callback /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/callback.c:256
(simpleRace.exe+0x4c36e3)
    #5 domain_thread_func /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/domain.c:1093
(simpleRace.exe+0x4c6ad1)

  Previous write of size 8 at 0x7f072bbfe498 by thread T1 (mutexes: write M1):
    #0 camlSimpleRace__fun_520 /tmp/simpleRace.ml:6 (simpleRace.exe+0x43dc45)
    #1 camlStdlib__Domain__body_696 /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/stdlib/domain.ml:202
(simpleRace.exe+0x47b5dc)
    #2 caml_start_program ??:? (simpleRace.exe+0x4f51c3)
    #3 caml_callback_exn /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/callback.c:168
(simpleRace.exe+0x4c2b93)
    #4 caml_callback /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/callback.c:256
(simpleRace.exe+0x4c36e3)
    #5 domain_thread_func /home/olivier/.opam/5.0.0+tsan/.opam-switch/build/ocaml-variants.5.0.0+tsan/runtime/domain.c:1093
(simpleRace.exe+0x4c6ad1)

  Mutex M0 (0x000000567ad8) created at:
    #0 pthread_mutex_init /home/olivier/other_projects/llvm-project/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1316
(libtsan.so.0+0x3cafb)
    [...]

SUMMARY: ThreadSanitizer: data race /tmp/simpleRace.ml:7 in camlSimpleRace__fun_524
==================
ThreadSanitizer: reported 1 warnings
</pre>
<p>
OCaml executables are instrumented so that ThreadSanitizer will show precise backtraces, including when using exceptions, effect
handlers, or C stubs.
</p>

<p>
ThreadSanitizer support for OCaml is a joint work with Fabrice Buoro, based on the work of Anmol Sahoo.
</p>
</div>
</div>

<div id="outline-container-orgc1bbe53" class="outline-4">
<h4 id="orgc1bbe53">Usage instructions</h4>
<div class="outline-text-4" id="text-orgc1bbe53">
<p>
At this stage, ThreadSanitizer for OCaml is supported only on the x86_64 architecture, and is not available on Windows.
</p>

<p>
Internally, the OCaml instrumentation uses the <a href="https://github.com/libunwind/libunwind">libunwind</a> library, so if you’re on Linux
you will need to install it using your system’s package manager. If you’re a macOS user, you have nothing to do: libunwind is
installed by default.
</p>

<p>
Then you simply need to build and run your programs in the <code>5.0.0+tsan</code> switch:
</p>
<div class="org-src-container">
<pre class="src src-shell">opam update
opam switch create 5.0.0+tsan
</pre>
</div>

<p>
Usage examples and further information can be found in <a href="https://github.com/ocaml-multicore/ocaml-tsan/blob/tsan/README.adoc">the
README</a> of the project.
</p>

<p>
We are eager to get your feedback! We believe that running your Multicore programs or test suites with TSan can be a huge time-saver
in debugging.
</p>
</div>
</div>
</div>


<div id="outline-container-orgbf57bd8" class="outline-3">
<h3 id="orgbf57bd8">Guillaume Munch-Maccagnoni asked and Olivier Nicole replied</h3>
<div class="outline-text-3" id="text-orgbf57bd8">
<blockquote>
<p>
This is using the C memory model to analyze OCaml programs, right?
</p>
</blockquote>

<p>
It works by instrumenting the executables with calls to the TSan runtime whose API follows the C model, yes. That’s why we use the
mapping between the OCaml and C11 memory models described in <a href="https://github.com/ocaml/ocaml/pull/10995">https://github.com/ocaml/ocaml/pull/10995</a>. As a consequence, every data
race reported by TSan should be a data race in the OCaml sense, and conversely all OCaml races (on code paths that are actually
executed at runtime) should be reported.
</p>

<p>
For instance, from the point of view of TSan, all OCaml non-atomic stores are release stores (more precisely a sequence consisting
of an acquire fence and a release store).
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">Parany for OCaml-5</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/parany-for-ocaml-5/10968/1">https://discuss.ocaml.org/t/parany-for-ocaml-5/10968/1</a>
</p>
</div>

<div id="outline-container-org7295802" class="outline-3">
<h3 id="org7295802">UnixJunkie announced</h3>
<div class="outline-text-3" id="text-org7295802">
<p>
Parany: generalized map reduce for parallel / mluti-core computers.
</p>

<p>
Version v13.0.0 of Parany is made for OCaml &gt;= 5.0.0.
<a href="https://github.com/UnixJunkie/parany/tree/domains">https://github.com/UnixJunkie/parany/tree/domains</a>
If you observe some performance improvement of your parallel programs, don&rsquo;t hesitate to share!
</p>

<p>
PS: apparently github doesn&rsquo;t show the latest version of parany&rsquo;s git repository; but the tagged
v13.0.0 is the right version of the code for ocaml&gt;=5
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">WebAssembly/Wasm and OCaml, by OCamlPro</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-webassembly-wasm-and-ocaml-by-ocamlpro/10973/1">https://discuss.ocaml.org/t/blog-webassembly-wasm-and-ocaml-by-ocamlpro/10973/1</a>
</p>
</div>

<div id="outline-container-orgdec8af7" class="outline-3">
<h3 id="orgdec8af7">OCamlPro announced</h3>
<div class="outline-text-3" id="text-orgdec8af7">
<p>
We just published a blog post “WebAssembly/Wasm and OCaml” introducing our contributions to the GC-related Working Group on Wasm:
</p>

<p>
<a href="https://ocamlpro.com/blog/2022_12_14_wasm_and_ocaml">https://ocamlpro.com/blog/2022_12_14_wasm_and_ocaml</a>
This post will be followed in January by more technical posts.
</p>

<p>
We are also looking for sponsors to fund our work on Wasm. Contact us if you are interested in the topic !
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">opam 2.1.4, opam-publish 2.2.0, opam-file-format 2.1.5</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opam-2-1-4-opam-publish-2-2-0-opam-file-format-2-1-5/10999/1">https://discuss.ocaml.org/t/ann-opam-2-1-4-opam-publish-2-2-0-opam-file-format-2-1-5/10999/1</a>
</p>
</div>

<div id="outline-container-org38b5802" class="outline-3">
<h3 id="org38b5802">Kate announced</h3>
<div class="outline-text-3" id="text-org38b5802">
<p>
We are pleased to announce the minor release of <a href="https://github.com/ocaml/opam/releases/tag/2.1.4">opam 2.1.4</a>, <a href="https://github.com/ocaml-opam/opam-publish/releases/tag/2.2.0">opam-publish
2.2.0</a> and <a href="https://github.com/ocaml/opam-file-format/releases/tag/2.1.5">opam-file-format
2.1.5</a>.
</p>

<p>
This opam release consists of backported fixes:
</p>

<ul class="org-ul">
<li>Make opam able to fully build with OCaml 5.0. `dose3 &gt;= 6.1` and `base64 &gt;= 3.1.0` are now required (<a href="https://github.com/ocaml/opam/issues/5357">#5357</a>)</li>
<li>Fix a bug where opam would not output any explanation when a conflict arises when attempting to install a package (<a href="https://github.com/ocaml/opam/issues/5378">#5378</a>)</li>
</ul>

<p>
The opam-publish release consists of the following breaking change:
</p>

<ul class="org-ul">
<li>Shorten the generated branch name. This is breaking change for people who want to force-push changes on an already opened PR using a previous version of opam-publish as the branch name might not be the same (<a href="https://github.com/ocaml-opam/opam-publish/issues/141">#141</a>)</li>
</ul>

<p>
and the following fixes:
</p>

<ul class="org-ul">
<li>Fix the github markdown syntax generated by opam-publish (<a href="https://github.com/ocaml-opam/opam-publish/issues/131">#131</a>)</li>
<li>Disambiguate GitHub archive URL computed from repository and tag (<a href="https://github.com/ocaml-opam/opam-publish/issues/135">#135</a>)</li>
<li>Upgrade to cmdliner &gt;= 1.1.0 (<a href="https://github.com/ocaml-opam/opam-publish/issues/134">#134</a>)</li>
<li>Support git remotes with multiple push targets (<a href="https://github.com/ocaml-opam/opam-publish/issues/137">#137</a>)</li>
<li>Fix broken state if the initial opam-repository clone fails (<a href="https://github.com/ocaml-opam/opam-publish/issues/140">#140</a>)</li>
</ul>

<p>
The opam-file-format release consists of the following fixes:
</p>

<ul class="org-ul">
<li>Fix extra lines on non empty headers (<a href="https://github.com/ocaml/opam-file-format/issues/49">#49</a>)</li>
<li>Make the tests flambda2-ready (<a href="https://github.com/ocaml/opam-file-format/issues/52">#52</a>)</li>
<li>Fix build failure on OCaml 5.0 when using the non-dune build mode (<a href="https://github.com/ocaml/opam-file-format/issues/50">#50</a>)</li>
</ul>

<p>
To upgrade opam simply run:
</p>

<div class="org-src-container">
<pre class="src src-shell">bash -c <span style="color: #ca3400;">"sh &lt;(</span><span style="color: #ca3400;">curl</span><span style="color: #ca3400;"> -fsSL https://raw.githubusercontent.com/ocaml/opam/master/shell/install.sh) --version 2.1.4"</span>
</pre>
</div>
<p>
For the rest, simply run:
</p>
<div class="org-src-container">
<pre class="src src-shell">opam update
opam upgrade opam-publish opam-file-format
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-orgf863143" class="outline-2">
<h2 id="orgf863143">Old CWN</h2>
<div class="outline-text-2" id="text-orgf863143">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org20e4804">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>