<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-03-02 Tue 15:07 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2021.02.23.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2021.03.09.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of February 23 to March 02, 2021.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">Release of <code>fmlib.0.1.0</code></a></li>
<li><a href="#2">Resources for building a Polymorphic Lambda Calculus compiler?</a></li>
<li><a href="#3">OCaml 4.12.0 released (with 4.11.2 too)</a></li>
<li><a href="#4">latest batteries release: v3.3.0</a></li>
<li><a href="#5">Other OCaml News</a></li>
<li><a href="#org64f2b54">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgda8c731" class="outline-2">
<h2 id="1">Release of <code>fmlib.0.1.0</code></h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-release-of-fmlib-0-1-0/7352/1">https://discuss.ocaml.org/t/ann-release-of-fmlib-0-1-0/7352/1</a>
</p>
</div>

<div id="outline-container-orgd921e0d" class="outline-3">
<h3 id="orgd921e0d">Hbr announced</h3>
<div class="outline-text-3" id="text-orgd921e0d">
<p>
I am pleased to announce the release of the first version (0.1) of <code>fmlib</code>, a functional monadic library.
</p>

<p>
Beside some primitive data types <code>fmlib</code> has support for
</p>

<ul class="org-ul">
<li>pretty printing</li>

<li>combinator parsing</li>
</ul>

<p>
It features a functional monadic style of programming.
</p>

<p>
The pretty printer does not actually print. It generates a lazy stream of characters and can therefore adapted to
any input/output method.
</p>

<p>
The parsers are combinator parsers which can parse indentation sensitive content easily. The combinators are
<code>parsec</code> like. The parsers are fully incremental and do not read any data. Therefore you can choose your on input
method and just push the read characters (or bytes) into the parser until success or failure is reached.
</p>

<p>
<code>fmlib</code> can be installed from opam via <code>opam install fmlib</code>.
</p>

<p>
Please read the <a href="https://hbr.github.io/fmlib/odoc">documentation here</a>
</p>

<p>
Any comments, issues etc. are welcome.
</p>
</div>
</div>
</div>




<div id="outline-container-org6e6755f" class="outline-2">
<h2 id="2">Resources for building a Polymorphic Lambda Calculus compiler?</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/resources-for-building-a-polymorphic-lambda-calculus-compiler/7357/1">https://discuss.ocaml.org/t/resources-for-building-a-polymorphic-lambda-calculus-compiler/7357/1</a>
</p>
</div>

<div id="outline-container-orgf2ab168" class="outline-3">
<h3 id="orgf2ab168">Tom Brunoli asked</h3>
<div class="outline-text-3" id="text-orgf2ab168">
<p>
Hey all, apologies if this isn't a good place to post this, but this board seems like a good intersection of folks
interested in FP, type theory, and compilers (and obviously OCaml).
</p>

<p>
I'm currently trying to write a functional programming language in OCaml without formal knowledge of type theory or
compilers (I don't have a CS degree). I've been reading up as much as I can across a lot of different papers, github
projects, and some books that I've found online. Slowly I think I've started to build some of the knowledge I may
have gotten from a compilers course.
</p>

<p>
So far I've implemented a type checker for higher-kinded polymorphic lambda calculus (System F omega - <a href="https://github.com/tominated/system_f_omega/">code is
here</a>), but I've found it incredibly hard to find resources on going
from this to a call-by-value compiled program. I decided to implement System F Omega because I read that it's what
one of Haskell's intermediate representations are built upon. System F is a really painful term to google, and most
resources I've found are about formal verification or are nigh impenetrable for a hobbyist.
</p>

<p>
Ideally i'd like to take a type-checked System-F-omega AST and output LLVM, Cranelift or webassembly IR, but I don't
know what steps I'm missing in the middle. I have read enough to know that I'll probably need some kind of abstract
machine, and need to somehow convert that to CPS or SSA form before I can get it to machine code. I have heard about
a few different abstract machines (Like G-Machine, SECD, Krivine), and have read about the CPS transform, but I
don't think I have enough knowledge or context to put them all together in practice.
</p>

<p>
I have found plenty of resources on the type-inference side of things so I don't think that'll be a big issue
(famous last words :sweat_smile:).
</p>

<p>
Does anyone know any resources I should check out related to the above? Again, apologies for the somewhat off-topic
post.
</p>
</div>
</div>


<div id="outline-container-org92da37a" class="outline-3">
<h3 id="org92da37a">Jack Feser replied</h3>
<div class="outline-text-3" id="text-org92da37a">
<p>
Have you seen "Implementing functional languages: a tutorial"? Might have some more of the practical side that
you're looking for.
</p>

<p>
<a href="https://www.microsoft.com/en-us/research/publication/implementing-functional-languages-a-tutorial/">https://www.microsoft.com/en-us/research/publication/implementing-functional-languages-a-tutorial/</a>
</p>
</div>
</div>


<div id="outline-container-org63d10ef" class="outline-3">
<h3 id="org63d10ef">Josh Berdine also replied</h3>
<div class="outline-text-3" id="text-org63d10ef">
<p>
I think you probably can't go wrong by having a read of:
</p>

<p>
J. Gregory Morrisett, David Walker, Karl Crary, Neal Glew:
From system F to typed assembly language. ACM Trans. Program. Lang. Syst. 21(3): 527-568 (1999)
</p>

<p>
Also, while not about the type systems you mention, the Rabbit and series of "Lambda the Ultimate" papers are
excellent.
</p>
</div>
</div>


<div id="outline-container-org262d797" class="outline-3">
<h3 id="org262d797">dimitris also replied</h3>
<div class="outline-text-3" id="text-org262d797">
<p>
Hi, maybe this is a good starting point or at least useful reading:
</p>

<ul class="org-ul">
<li>"Compiling functional languages"  <a href="https://xavierleroy.org/talks/compilation-agay.pdf">https://xavierleroy.org/talks/compilation-agay.pdf</a></li>
<li>"From Krivine’s machine to the Caml implementations" <a href="https://xavierleroy.org/talks/zam-kazam05.pdf">https://xavierleroy.org/talks/zam-kazam05.pdf</a></li>
</ul>
</div>
</div>


<div id="outline-container-org882780d" class="outline-3">
<h3 id="org882780d">Qifan Wang also replied</h3>
<div class="outline-text-3" id="text-org882780d">
<p>
I think Appel’s famous book <i>Compiling with Continuations</i> is still practically enough for compiling call by value
typed programs to assembly using CPS along.
</p>
</div>
</div>
</div>




<div id="outline-container-orgb6cb282" class="outline-2">
<h2 id="3">OCaml 4.12.0 released (with 4.11.2 too)</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-4-12-0-released-with-4-11-2-too/7358/2">https://discuss.ocaml.org/t/ocaml-4-12-0-released-with-4-11-2-too/7358/2</a>
</p>
</div>

<div id="outline-container-org80fcfef" class="outline-3">
<h3 id="org80fcfef">octachron announced</h3>
<div class="outline-text-3" id="text-org80fcfef">
<p>
The OCaml team has the pleasure of celebrating the birthday of Jacques de Vaucanson
by announcing the joint releases of OCaml version 4.12.0 and 4.11.2.
</p>

<p>
Some of the highlights in the 4.12.0 release are:
</p>

<ul class="org-ul">
<li>Major progress in reducing the difference between the mainline and multicore runtime</li>
<li>A new configuration option <code>ocaml-option-nnpchecker</code> which emits an alarm
when the garbage collector finds out-of-heap pointers that could cause a crash
in the multicore runtime</li>
<li>Support for macOS/arm64</li>
<li>Mnemonic names for warnings</li>
<li>Many quality of life improvements</li>
<li>Many bug fixes</li>
</ul>

<p>
The 4.11.2 release is a collection of safe bug fixes, cherry-picked from the 4.12.0 development
cycle. If you were using OCaml 4.11.1 and cannot yet upgrade to 4.12.0, this release is for you.
</p>

<p>
The full list of changes can be found in the changelogs below.
</p>

<p>
Those releases are available as OPAM switches, and as a source download here:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/4.12.0.tar.gz">https://github.com/ocaml/ocaml/archive/4.12.0.tar.gz</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-4.12/">https://caml.inria.fr/pub/distrib/ocaml-4.12/</a></li>
</ul>

<p>
and there:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/archive/4.11.2.tar.gz">https://github.com/ocaml/ocaml/archive/4.11.2.tar.gz</a></li>
<li><a href="https://caml.inria.fr/pub/distrib/ocaml-4.11/">https://caml.inria.fr/pub/distrib/ocaml-4.11/</a></li>
</ul>

<p>
Happy hacking,
</p>

<p>
&#x2013; Florian Angeletti for the OCaml team.
</p>
</div>

<div id="outline-container-org57a5ed4" class="outline-4">
<h4 id="org57a5ed4">OCaml 4.11.2 (24 February 2021)</h4>
<div class="outline-text-4" id="text-org57a5ed4">
</div>
<div id="outline-container-org4f5bdb2" class="outline-5">
<h5 id="org4f5bdb2">Build system:</h5>
<div class="outline-text-5" id="text-org4f5bdb2">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9938">9938</a>, <a href="https://github.com/ocaml/ocaml/issues/9939">9939</a>: Define __USE_MINGW_ANSI_STDIO=0 for the mingw-w64 ports to prevent their C99-compliant snprintf conflicting with ours. (David Allsopp, report by Michael Soegtrop, review by Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-orgaf8c843" class="outline-5">
<h5 id="orgaf8c843">Runtime system:</h5>
<div class="outline-text-5" id="text-orgaf8c843">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10056">10056</a>: Memprof: ensure young_trigger is within the bounds of the minor heap in caml_memprof_renew_minor_sample (regression from <a href="https://github.com/ocaml/ocaml/issues/8684">8684</a>) (David Allsopp, review by Guillaume Munch-Maccagnoni and Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9654">9654</a>: More efficient management of code fragments. (Xavier Leroy, review by Jacques-Henri Jourdan, Damien Doligez, and Stephen Dolan)</li>
</ul>
</div>
</div>

<div id="outline-container-org9b7f4a4" class="outline-5">
<h5 id="org9b7f4a4">Tools:</h5>
<div class="outline-text-5" id="text-org9b7f4a4">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9606">9606</a>, <a href="https://github.com/ocaml/ocaml/issues/9635">9635</a>, <a href="https://github.com/ocaml/ocaml/issues/9637">9637</a>: fix performance regression in the debugger (behaviors quadratic in the size of the debugged program) (Xavier Leroy, report by Jacques Garrigue and Virgile Prevosto, review by David Allsopp and Jacques-Henri Jourdan)</li>
</ul>
</div>
</div>

<div id="outline-container-org1da0a93" class="outline-5">
<h5 id="org1da0a93">Code generation and optimizations:</h5>
<div class="outline-text-5" id="text-org1da0a93">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9969">9969</a>, <a href="https://github.com/ocaml/ocaml/issues/9981">9981</a>: Added mergeable flag to ELF sections containing mergeable constants.  Fixes compatibility with the integrated assembler in clang 11.0.0. (Jacob Young, review by Nicolás Ojeda Bär)</li>
</ul>
</div>
</div>

<div id="outline-container-orgafb6718" class="outline-5">
<h5 id="orgafb6718">Bug fixes:</h5>
<div class="outline-text-5" id="text-orgafb6718">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9970">9970</a>, <a href="https://github.com/ocaml/ocaml/issues/10010">10010</a>: fix the declaration scope of extensible-datatype constructors. A regression that dates back to 4.08 makes extensible-datatype constructors with inline records very fragile, for example: <code>type 'a t += X of {x : 'a}</code> (Gabriel Scherer, review by Thomas Refis and Leo White, report by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9096">9096</a>, <a href="https://github.com/ocaml/ocaml/issues/10096">10096</a>: fix a 4.11.0 performance regression in classes/objects declared within a function (Gabriel Scherer, review by Leo White, report by Sacha Ayoun)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9326">9326</a>, <a href="https://github.com/ocaml/ocaml/issues/10125">10125</a>: Gc.set incorrectly handles the three <code>custom_*</code> fields, causing a performance regression (report by Emilio Jesús Gallego Arias, analysis and fix by Stephen Dolan, code by Xavier Leroy, review by Hugo Heuzard and Gabriel Scherer)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgcd5b093" class="outline-4">
<h4 id="orgcd5b093">OCaml 4.12.0 (24 February 2021)</h4>
<div class="outline-text-4" id="text-orgcd5b093">
</div>
<div id="outline-container-orgc0b2dbd" class="outline-5">
<h5 id="orgc0b2dbd">Supported platforms (highlights):</h5>
<div class="outline-text-5" id="text-orgc0b2dbd">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9699">9699</a>: add support for iOS and macOS on ARM 64 bits (Eduardo Rafael, review by Xavier Leroy, Nicolás Ojeda Bär and Anil Madhavapeddy, additional testing by Michael Schmidt)</li>
</ul>
</div>
</div>

<div id="outline-container-org2aba3cd" class="outline-5">
<h5 id="org2aba3cd">Standard library (highlights):</h5>
<div class="outline-text-5" id="text-org2aba3cd">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9797">9797</a>: Add Sys.mkdir and Sys.rmdir. (David Allsopp, review by Nicolás Ojeda Bär, Sébastien Hinderer and Xavier Leroy)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9765">9765</a>: add init functions to Bigarray. (Jeremy Yallop, review by Gabriel Scherer, Nicolás Ojeda Bär, and Xavier Leroy)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9668">9668</a>: List.equal, List.compare (This could break code using "open List" by shadowing Stdlib.{equal,compare}.) (Gabriel Scherer, review by Nicolás Ojeda Bär, Daniel Bünzli and Alain Frisch)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9066">9066</a>: a new Either module with <code>type 'a Either.t = Left of 'a | Right of 'b</code> (Gabriel Scherer, review by Daniel Bünzli, Thomas Refis, Jeremy Yallop)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9066">9066</a>: <code>List.partition_map : ('a -&gt; ('b, 'c) Either.t) -&gt; 'a list -&gt; 'b list * 'c list</code> (Gabriel Scherer, review by Jeremy Yallop)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9865">9865</a>: add Format.pp_print_seq (Raphaël Proust, review by Nicolás Ojeda Bär)</li>
</ul>
</div>
</div>

<div id="outline-container-org8822aa7" class="outline-5">
<h5 id="org8822aa7">Compiler user-interface and warnings (highlights):</h5>
<div class="outline-text-5" id="text-org8822aa7">
<ul class="org-ul">
<li><p>
<a href="https://github.com/ocaml/ocaml/issues/9657">9657</a>: Warnings can now be referred to by their mnemonic name. The names are displayed using `-warn-help` and can be utilized anywhere where a warning list specification is expected.
</p>
<pre class="example">
ocamlc -w +fragile-match
...[@@ocaml.warning "-fragile-match"]
</pre>
<p>
Note that only a single warning name at a time is supported for now:
"-w +foo-bar" does not work, you must use "-w +foo -w -bar".
(Nicolás Ojeda Bär, review by Gabriel Scherer, Florian Angeletti and
 Leo White)
</p></li>

<li><a href="https://github.com/ocaml/ocaml/issues/8939">8939</a>: Command-line option to save Linear IR before emit.
(Greta Yorsh, review by Mark Shinwell, Sébastien Hinderer and Frédéric Bour)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9003">9003</a>: Start compilation from Emit when the input file is in Linear IR format. (Greta Yorsh, review by Jérémie Dimino, Gabriel Scherer and Frédéric Bour)</li>
</ul>
</div>
</div>

<div id="outline-container-orgf3a7d16" class="outline-5">
<h5 id="orgf3a7d16">Language features (highlights):</h5>
<div class="outline-text-5" id="text-orgf3a7d16">
<ul class="org-ul">
<li><p>
<b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9500">9500</a>, <a href="https://github.com/ocaml/ocaml/issues/9727">9727</a>, <a href="https://github.com/ocaml/ocaml/issues/9866">9866</a>, <a href="https://github.com/ocaml/ocaml/issues/9870">9870</a>, <a href="https://github.com/ocaml/ocaml/issues/9873">9873</a>: Injectivity annotations One can now mark type parameters as injective, which is useful for abstract types:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">module</span> <span style="color: #228b22;">Vec</span> : <span style="color: #000000; font-weight: bold;">sig</span> <span style="color: #000000; font-weight: bold;">type</span> <span style="color: #a52a2a;">!</span>'a t <span style="color: #000000; font-weight: bold;">end</span> = <span style="color: #000000; font-weight: bold;">struct</span> <span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">'a t</span> = 'a array <span style="color: #000000; font-weight: bold;">end</span>
</pre>
</div>
<p>
On non-abstract types, this can be used to check the injectivity of
parameters. Since all parameters of record and sum types are by definition
injective, this only makes sense for type abbreviations:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">type</span> <span style="color: #a52a2a;">!</span>'a t = 'a list
</pre>
</div>
<p>
Note that this change required making the regularity check stricter.
(Jacques Garrigue, review by Jeremy Yallop and Leo White)
</p></li>
</ul>
</div>
</div>

<div id="outline-container-orgb2edb21" class="outline-5">
<h5 id="orgb2edb21">Runtime system (highlights):</h5>
<div class="outline-text-5" id="text-orgb2edb21">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9534">9534</a>, <a href="https://github.com/ocaml/ocaml/issues/9947">9947</a>: Introduce a naked pointers checker mode to the runtime (configure option &#x2013;enable-naked-pointers-checker).  Alarms are printed when the garbage collector finds out-of-heap pointers that could cause a crash in no-naked-pointers mode. (Enguerrand Decorne, KC Sivaramakrishnan, Xavier Leroy, Stephen Dolan, David Allsopp, Nicolás Ojeda Bär review by Xavier Leroy, Nicolás Ojeda Bär)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/1128">1128</a>, <a href="https://github.com/ocaml/ocaml/issues/7503">7503</a>, <a href="https://github.com/ocaml/ocaml/issues/9036">9036</a>, <a href="https://github.com/ocaml/ocaml/issues/9722">9722</a>, <a href="https://github.com/ocaml/ocaml/issues/10069">10069</a>: EINTR-based signal handling. When a signal arrives, avoid running its OCaml handler in the middle of a blocking section. Instead, allow control to return quickly to a polling point where the signal handler can safely run, ensuring that I/O locks are not held while it runs. A polling point was removed from caml_leave_blocking_section, and one added to caml_raise. (Stephen Dolan, review by Goswin von Brederlow, Xavier Leroy, Damien Doligez, Anil Madhavapeddy, Guillaume Munch-Maccagnoni and Jacques- Henri Jourdan)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/5154">5154</a>, <a href="https://github.com/ocaml/ocaml/issues/9569">9569</a>, <a href="https://github.com/ocaml/ocaml/issues/9734">9734</a>: Add <code>Val_none</code>, <code>Some_val</code>, <code>Is_none</code>, <code>Is_some</code>, <code>caml_alloc_some</code>, and <code>Tag_some</code>. As these macros are sometimes defined by authors of C bindings, this change may cause warnings/errors in case of redefinition. (Nicolás Ojeda Bär, review by Stephen Dolan, Gabriel Scherer, Mark Shinwell, and Xavier Leroy)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9674">9674</a>: Memprof: guarantee that an allocation callback is always run in the same thread the allocation takes place (Jacques-Henri Jourdan, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10025">10025</a>: Track custom blocks (e.g. Bigarray) with Memprof (Stephen Dolan, review by Leo White, Gabriel Scherer and Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9619">9619</a>: Change representation of function closures so that code pointers can be easily distinguished from environment variables (Xavier Leroy, review by Mark Shinwell and Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9654">9654</a>: More efficient management of code fragments. (Xavier Leroy, review by Jacques-Henri Jourdan, Damien Doligez, and Stephen Dolan)</li>
</ul>
</div>
</div>

<div id="outline-container-org343a5d1" class="outline-5">
<h5 id="org343a5d1">Other libraries (highlights):</h5>
<div class="outline-text-5" id="text-org343a5d1">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9573">9573</a>: reimplement Unix.create_process and related functions without
Unix.fork, for better efficiency and compatibility with threads.
(Xavier Leroy, review by Gabriel Scherer and Anil Madhavapeddy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9575">9575</a>: Add Unix.is_inet6_addr
(Nicolás Ojeda Bär, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9930">9930</a>: new module Semaphore in the thread library, implementing
counting semaphores and binary semaphores
(Xavier Leroy, review by Daniel Bünzli and Damien Doligez,
 additional suggestions by Stephen Dolan and Craig Ferguson)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9206">9206</a>, <a href="https://github.com/ocaml/ocaml/issues/9419">9419</a>: update documentation of the threads library;
deprecate Thread.kill, Thread.wait_read, Thread.wait_write,
and the whole ThreadUnix module.
(Xavier Leroy, review by Florian Angeletti, Guillaume Munch-Maccagnoni,
 and Gabriel Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-org8a66462" class="outline-5">
<h5 id="org8a66462">Manual and documentation (highlights):</h5>
<div class="outline-text-5" id="text-org8a66462">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9755">9755</a>: Manual: post-processing the html generated by ocamldoc and
hevea. Improvements on design and navigation, including a mobile
version, and a quick-search functionality for the API.
(San Vũ Ngọc, review by David Allsopp and Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9468">9468</a>: HACKING.adoc: using dune to get merlin support
(Thomas Refis, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9684">9684</a>: document in address_class.h the runtime value model in
naked-pointers and no-naked-pointers mode
(Xavier Leroy and Gabriel Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-org969341a" class="outline-5">
<h5 id="org969341a">Internal/compiler-libs changes (highlights):</h5>
<div class="outline-text-5" id="text-org969341a">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9464">9464</a>, <a href="https://github.com/ocaml/ocaml/issues/9493">9493</a>, <a href="https://github.com/ocaml/ocaml/issues/9520">9520</a>, <a href="https://github.com/ocaml/ocaml/issues/9563">9563</a>, <a href="https://github.com/ocaml/ocaml/issues/9599">9599</a>, <a href="https://github.com/ocaml/ocaml/issues/9608">9608</a>, <a href="https://github.com/ocaml/ocaml/issues/9647">9647</a>: refactor the pattern-matching compiler
(Thomas Refis and Gabriel Scherer, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9696">9696</a>: ocamltest now shows its log when a test fails. In addition, the log
contains the output of executed programs.
(Nicolás Ojeda Bär, review by David Allsopp, Sébastien Hinderer and Gabriel
Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-org81aabce" class="outline-5">
<h5 id="org81aabce">Build system (highlights):</h5>
<div class="outline-text-5" id="text-org81aabce">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9824">9824</a>, <a href="https://github.com/ocaml/ocaml/issues/9837">9837</a>: Honour the CFLAGS and CPPFLAGS variables. (Sébastien Hinderer, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10063">10063</a>: (Re-)enable building on illumos (SmartOS, OmniOS, &#x2026;) and
Oracle Solaris; x86_64/GCC and 64-bit SPARC/Sun PRO C compilers.
(partially revert <a href="https://github.com/ocaml/ocaml/issues/2024">2024</a>).
(Tõivo Leedjärv and Konstantin Romanov,
 review by Gabriel Scherer, Sébastien Hinderer and Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-org86b7613" class="outline-5">
<h5 id="org86b7613">Language features:</h5>
<div class="outline-text-5" id="text-org86b7613">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/1655">1655</a>: pattern aliases do not ignore type constraints
(Thomas Refis, review by Jacques Garrigue and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9429">9429</a>: Add unary operators containing <code>#</code> to the parser for use in ppx rewriters (Leo White, review by Damien Doligez)</li>
</ul>
</div>
</div>

<div id="outline-container-orgab1176b" class="outline-5">
<h5 id="orgab1176b">Runtime system:</h5>
<div class="outline-text-5" id="text-orgab1176b">
<ul class="org-ul">
<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9697">9697</a>: Remove the Is_in_code_area macro and the registration of DLL code
areas in the page table, subsumed by the new code fragment management API
(Xavier Leroy, review by Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9756">9756</a>: garbage collector colors change
removes the gray color from the major gc
(Sadiq Jaffer and Stephen Dolan reviewed by Xavier Leroy,
KC Sivaramakrishnan, Damien Doligez and Jacques-Henri Jourdan)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9513">9513</a>: Selectively initialise blocks in <code>Obj.new_block</code>. Reject <code>Custom_tag</code>
objects and zero-length <code>String_tag</code> objects.
(KC Sivaramakrishnan, review by David Allsopp, Xavier Leroy, Mark Shinwell
and Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9564">9564</a>: Add a macro to construct out-of-heap block header.
(KC Sivaramakrishnan, review by Stephen Dolan, Gabriel Scherer,
 and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9951">9951</a>: Ensure that the mark stack push optimisation handles naked pointers
(KC Sivaramakrishnan, reported by Enguerrand Decorne, review by Gabriel
 Scherer, and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9678">9678</a>: Reimplement <code>Obj.reachable_words</code> using a hash table to
detect sharing, instead of temporary in-place modifications.  This
is a prerequisite for Multicore OCaml.
(Xavier Leroy, review by Jacques-Henri Jourdan and Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/1795">1795</a>, <a href="https://github.com/ocaml/ocaml/issues/9543">9543</a>: modernize signal handling on Linux i386, PowerPC, and s390x,
adding support for Musl ppc64le along the way.
(Xavier Leroy and Anil Madhavapeddy, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9648">9648</a>, <a href="https://github.com/ocaml/ocaml/issues/9689">9689</a>: Update the generic hash function to take advantage
of the new representation for function closures
(Xavier Leroy, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9649">9649</a>: Update the marshaler (output_value) to take advantage
of the new representation for function closures
(Xavier Leroy, review by Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10050">10050</a>: update {PUSH,}OFFSETCLOSURE* bytecode instructions to match new
representation for closures
(Nathanaël Courant, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9728">9728</a>: Take advantage of the new closure representation to simplify the
compaction algorithm and remove its dependence on the page table
(Damien Doligez, review by Jacques-Henri Jourdan and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/2195">2195</a>: Improve error message in bytecode stack trace printing and load
debug information during bytecode startup if OCAMLRUNPARAM=b=2.
(David Allsopp, review by Gabriel Scherer and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9466">9466</a>: Memprof: optimize random samples generation.
(Jacques-Henri Jourdan, review by Xavier Leroy and Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9628">9628</a>: Memprof: disable sampling when memprof is suspended.
(Jacques-Henri Jourdan, review by Gabriel Scherer and Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10056">10056</a>: Memprof: ensure young_trigger is within the bounds of the minor
heap in caml_memprof_renew_minor_sample (regression from <a href="https://github.com/ocaml/ocaml/issues/8684">8684</a>)
(David Allsopp, review by Guillaume Munch-Maccagnoni and
Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9506">9506</a>: Remove support for FreeBSD prior to 4.0R, that required explicit
floating-point initialization to behave like IEEE standard
(Hannes Mehnert, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8807">8807</a>, <a href="https://github.com/ocaml/ocaml/issues/9503">9503</a>: Use different symbols for do_local_roots on bytecode and native
(Stephen Dolan, review by David Allsopp and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9670">9670</a>: Report full major collections in Gc stats.
(Leo White, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9675">9675</a>: Remove the caml_static_{alloc,free,resize} primitives, now unused.
(Xavier Leroy, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9710">9710</a>: Drop "support" for an hypothetical JIT for OCaml bytecode
 which has never existed.
(Jacques-Henri Jourdan, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9742">9742</a>, <a href="https://github.com/ocaml/ocaml/issues/9989">9989</a>: Ephemerons are now compatible with infix pointers occurring
when using mutually recursive functions.
(Jacques-Henri Jourdan, review by François Bobot)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9888">9888</a>, <a href="https://github.com/ocaml/ocaml/issues/9890">9890</a>: Fixes a bug in the <code>riscv</code> backend where register t0 was not
saved/restored when performing a GC. This could potentially lead to a
segfault.
(Nicolás Ojeda Bär, report by Xavier Leroy, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9907">9907</a>: Fix native toplevel on native Windows.
(David Allsopp, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9909">9909</a>: Remove caml_code_area_start and caml_code_area_end globals (no longer
needed as the pagetable heads towards retirement).
(David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9949">9949</a>: Clarify documentation of GC message 0x1 and make sure it is
displayed every time a major cycle is forcibly finished.
(Damien Doligez, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10062">10062</a>: set ARCH_INT64_PRINTF_FORMAT correctly for both modes of mingw-w64
(David Allsopp, review by Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-org922f31d" class="outline-5">
<h5 id="org922f31d">Code generation and optimizations:</h5>
<div class="outline-text-5" id="text-org922f31d">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9551">9551</a>: ocamlc no longer loads DLLs at link time to check that
external functions referenced from OCaml code are defined.
Instead, .so/.dll files are parsed directly by pure OCaml code.
(Nicolás Ojeda Bär, review by Daniel Bünzli, Gabriel Scherer,
 Anil Madhavapeddy, and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9620">9620</a>: Limit the number of parameters for an uncurried or untupled
function.  Functions with more parameters than that are left
partially curried or tupled.
(Xavier Leroy, review by Mark Shinwell)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9752">9752</a>: Revised handling of calling conventions for external C functions.
Provide a more precise description of the types of unboxed arguments,
so that the ARM64 iOS/macOS calling conventions can be honored.
(Xavier Leroy, review by Mark Shinwell and Eduardo Rafael)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9838">9838</a>: Ensure that Cmm immediates are generated as Cconst_int where
possible, improving instruction selection.
(Stephen Dolan, review by Leo White and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9864">9864</a>: Revised recognition of immediate arguments to integer operations.
Fixes several issues that could have led to producing assembly code
that is rejected by the assembler.
(Xavier Leroy, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9969">9969</a>, <a href="https://github.com/ocaml/ocaml/issues/9981">9981</a>: Added mergeable flag to ELF sections containing mergeable
constants.  Fixes compatibility with the integrated assembler in clang 11.0.0.
(Jacob Young, review by Nicolás Ojeda Bär)</li>
</ul>
</div>
</div>

<div id="outline-container-orgb6293fd" class="outline-5">
<h5 id="orgb6293fd">Standard library:</h5>
<div class="outline-text-5" id="text-orgb6293fd">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9781">9781</a>: add injectivity annotations to parameterized abstract types
(Jeremy Yallop, review by Nicolás Ojeda Bär)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9554">9554</a>: add primitive <span class="underline"><span class="underline">FUNCTION</span></span> that returns the name of the current method
or function, including any enclosing module or class.
(Nicolás Ojeda Bär, Stephen Dolan, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9075">9075</a>: define to_rev_seq in Set and Map modules.
(Sébastien Briais, review by Gabriel Scherer and Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9561">9561</a>: Unbox Unix.gettimeofday and Unix.time
(Stephen Dolan, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9570">9570</a>: Provide an Atomic module with a trivial purely-sequential
implementation, to help write code that is compatible with Multicore
OCaml.
(Gabriel Scherer, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10035">10035</a>: Make sure that flambda respects atomicity in the Atomic module.
(Guillaume Munch-Maccagnoni, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9571">9571</a>: Make at_exit and Printexc.register_printer thread-safe.
(Guillaume Munch-Maccagnoni, review by Gabriel Scherer and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9587">9587</a>: Arg: new Rest_all spec to get all rest arguments in a list
(this is similar to Rest, but makes it possible to detect when there
 are no arguments (an empty list) after the rest marker)
(Gabriel Scherer, review by Nicolás Ojeda Bär and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9655">9655</a>: Obj: introduce type raw_data and functions raw_field, set_raw_field
to manipulate out-of-heap pointers in no-naked-pointer mode,
and more generally all other data that is not a well-formed OCaml value
(Xavier Leroy, review by Damien Doligez and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9663">9663</a>: Extend Printexc API for raw backtrace entries.
(Stephen Dolan, review by Nicolás Ojeda Bär and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9763">9763</a>: Add function Hashtbl.rebuild to convert from old hash table
formats (that may have been saved to persistent storage) to the
current hash table format.  Remove leftover support for the hash
table format and generic hash function that were in use before OCaml 4.00.
(Xavier Leroy, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10070">10070</a>: Fix Float.Array.blit when source and destination arrays coincide.
(Nicolás Ojeda Bär, review by Alain Frisch and Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-orgf7b2623" class="outline-5">
<h5 id="orgf7b2623">Other libraries:</h5>
<div class="outline-text-5" id="text-orgf7b2623">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/8796">8796</a>: On Windows, make Unix.utimes use FILE_FLAG_BACKUP_SEMANTICS flag
to allow it to work with directories.
(Daniil Baturin, review by Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9593">9593</a>: Use new flag for non-elevated symbolic links and test for Developer
Mode on Windows
(Manuel Hornung, review by David Allsopp and Nicolás Ojeda Bär)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9601">9601</a>: Return EPERM for EUNKNOWN -1314 in win32unix (principally affects
error handling when Unix.symlink is unavailable)
(David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9338">9338</a>, <a href="https://github.com/ocaml/ocaml/issues/9790">9790</a>: Dynlink: make sure *_units () functions report accurate
information before the first load.
(Daniel Bünzli, review by Xavier Leroy and Nicolás Ojeda Bär)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9757">9757</a>, <a href="https://github.com/ocaml/ocaml/issues/9846">9846</a>, <a href="https://github.com/ocaml/ocaml/issues/10161">10161</a>: check proper ownership when operating over mutexes.
Now, unlocking a mutex held by another thread or not locked at all
reliably raises a Sys_error exception.  Before, it was undefined
behavior, but the documentation did not say so.
Likewise, locking a mutex already locked by the current thread
reliably raises a Sys_error exception.  Before, it could
deadlock or succeed (and do recursive locking), depending on the OS.
(Xavier Leroy, report by Guillaume Munch-Maccagnoni, review by
Guillaume Munch-Maccagnoni, David Allsopp, and Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9802">9802</a>: Ensure signals are handled before Unix.kill returns
(Stephen Dolan, review by Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9869">9869</a>, <a href="https://github.com/ocaml/ocaml/issues/10073">10073</a>: Add Unix.SO_REUSEPORT
(Yishuai Li, review by Xavier Leroy, amended by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9906">9906</a>, <a href="https://github.com/ocaml/ocaml/issues/9914">9914</a>: Add Unix._exit as a way to exit the process immediately,
skipping any finalization action
(Ivan Gotovchits and Xavier Leroy, review by Sébastien Hinderer and
 David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9958">9958</a>: Raise exception in case of error in Unix.setsid.
(Nicolás Ojeda Bär, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9971">9971</a>, <a href="https://github.com/ocaml/ocaml/issues/9973">9973</a>: Make sure the process can terminate when the last thread
calls Thread.exit.
(Xavier Leroy, report by Jacques-Henri Jourdan, review by David Allsopp
and Jacques-Henri Jourdan).</li>
</ul>
</div>
</div>

<div id="outline-container-org743aae5" class="outline-5">
<h5 id="org743aae5">Tools:</h5>
<div class="outline-text-5" id="text-org743aae5">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9551">9551</a>: ocamlobjinfo is now able to display information on .cmxs shared
libraries natively; it no longer requires libbfd to do so
(Nicolás Ojeda Bär, review by Daniel Bünzli, Gabriel Scherer,
 Anil Madhavapeddy, and Xavier Leroy)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9299">9299</a>, <a href="https://github.com/ocaml/ocaml/issues/9795">9795</a>: ocamldep: do not process files during cli parsing. Fixes
various broken cli behaviours.
(Daniel Bünzli, review by Nicolás Ojeda Bär)</li>
</ul>
</div>
</div>

<div id="outline-container-org2d16012" class="outline-5">
<h5 id="org2d16012">Debugging and profiling:</h5>
<div class="outline-text-5" id="text-org2d16012">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9606">9606</a>, <a href="https://github.com/ocaml/ocaml/issues/9635">9635</a>, <a href="https://github.com/ocaml/ocaml/issues/9637">9637</a>: fix 4.10 performance regression in the debugger
(behaviors quadratic in the size of the debugged program)
(Xavier Leroy, report by Jacques Garrigue and Virgile Prevosto,
review by David Allsopp and Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9948">9948</a>: Remove Spacetime.
(Nicolás Ojeda Bär, review by Stephen Dolan and Xavier Leroy)</li>
</ul>
</div>
</div>

<div id="outline-container-org68ba094" class="outline-5">
<h5 id="org68ba094">Manual and documentation:</h5>
<div class="outline-text-5" id="text-org68ba094">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/10142">10142</a>, <a href="https://github.com/ocaml/ocaml/issues/10154">10154</a>: improved rendering and latex code for toplevel code examples.
(Florian Angeletti, report by John Whitington, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9745">9745</a>: Manual: Standard Library labeled and unlabeled documentation unified
(John Whitington, review by Nicolás Ojeda Bär, David Allsopp,
 Thomas Refis, and Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9877">9877</a>: manual, warn that multi-index indexing operators should be defined in
conjunction of single-index ones.
(Florian Angeletti, review by Hezekiah M. Carty, Gabriel Scherer,
 and Marcello Seri)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10233">10233</a>: Document <code>-save-ir-after scheduling</code> and update <code>-stop-after</code> options.
(Greta Yorsh, review by Gabriel Scherer and Florian Angeletti)</li>
</ul>
</div>
</div>

<div id="outline-container-org3772ebb" class="outline-5">
<h5 id="org3772ebb">Compiler user-interface and warnings:</h5>
<div class="outline-text-5" id="text-org3772ebb">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/1931">1931</a>: rely on levels to enforce principality in patterns
(Thomas Refis and Leo White, review by Jacques Garrigue)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/9011">9011</a>: Do not create .a/.lib files when creating a .cmxa with no modules. macOS ar doesn't support creating empty .a files (<a href="https://github.com/ocaml/ocaml/issues/1094">1094</a>) and MSVC doesn't permit .lib files to contain no objects. When linking with a .cmxa containing no modules, it is now not an error for there to be no .a/.lib file. (David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9560">9560</a>: Report partial application warnings on type errors in applications.
(Stephen Dolan, report and testcase by whitequark, review by Gabriel Scherer
 and Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9583">9583</a>: when bytecode linking fails due to an unavailable module, the module
that requires it is now included in the error message.
(Nicolás Ojeda Bär, review by Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9615">9615</a>: Attach package type attributes to core_type.
When parsing constraints on a first class module, attributes found after the
module type were parsed but ignored. Now they are attached to the
corresponding core_type.
(Etienne Millon, review by Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/6633">6633</a>, <a href="https://github.com/ocaml/ocaml/issues/9673">9673</a>: Add hint when a module is used instead of a module type or
when a module type is used instead of a module or when a class type is used
instead of a class.
(Xavier Van de Woestyne, report by whitequark, review by Florian Angeletti
and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9754">9754</a>: allow [@tailcall true] (equivalent to [@tailcall]) and
[@tailcall false] (warns if on a tailcall)
(Gabriel Scherer, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9751">9751</a>: Add warning 68. Pattern-matching depending on mutable state
prevents the remaining arguments from being uncurried.
(Hugo Heuzard, review by Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9783">9783</a>: Widen warning 16 (Unerasable optional argument) to more cases.
(Leo White, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10008">10008</a>: Improve error message for aliases to the current compilation unit.
(Leo White, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10046">10046</a>: Link all DLLs with -static-libgcc on mingw32 to prevent dependency
on libgcc_s_sjlj-1.dll with mingw-w64 runtime 8.0.0 (previously this was
only needed for dllunix.dll).
(David Allsopp, report by Andreas Hauptmann, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9634">9634</a>: Allow initial and repeated commas in <code>OCAMLRUNPARAM</code>.
(Nicolás Ojeda Bär, review by Gabriel Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-org7039ce4" class="outline-5">
<h5 id="org7039ce4">Internal/compiler-libs changes:</h5>
<div class="outline-text-5" id="text-org7039ce4">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/8987">8987</a>: Make some locations more accurate
(Thomas Refis, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9216">9216</a>: add Lambda.duplicate which refreshes bound identifiers
(Gabriel Scherer, review by Pierre Chambart and Vincent Laviron)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9376">9376</a>: Remove spurious Ptop_defs from #use
(Leo White, review by Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9604">9604</a>: refactoring of the ocamltest codebase.
(Nicolás Ojeda Bär, review by Gabriel Scherer and Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9498">9498</a>, <a href="https://github.com/ocaml/ocaml/issues/9511">9511</a>: make the pattern-matching analyzer more robust to
or-pattern explosion, by stopping after the first counter-example to
exhaustivity
(Gabriel Scherer, review by Luc Maranget, Thomas Refis and Florian Angeletti,
 report by Alex Fedoseev through Hongbo Zhang)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9514">9514</a>: optimize pattern-matching exhaustivity analysis in the single-row case
(Gabriel Scherer, review by Stephen DOlan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9442">9442</a>: refactor the implementation of the [@tailcall] attribute
to allow for a structured attribute payload
(Gabriel Scherer, review by Vladimir Keleshev and Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9688">9688</a>: Expose the main entrypoint in compilerlibs
(Stephen Dolan, review by Nicolás Ojeda Bär, Greta Yorsh and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9715">9715</a>: recheck scope escapes after normalising paths
(Matthew Ryan, review by Gabriel Scherer and Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9778">9778</a>: Fix printing for bindings where polymorphic type annotations and
attributes are present.
(Matthew Ryan, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9797">9797</a>, <a href="https://github.com/ocaml/ocaml/issues/9849">9849</a>: Eliminate the routine use of external commands in ocamltest.
ocamltest no longer calls the mkdir, rm and ln external commands (at present,
the only external command ocamltest uses is diff).
(David Allsopp, review by Nicolás Ojeda Bär, Sébastien Hinderer and
 Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9801">9801</a>: Don't ignore EOL-at-EOF differences in ocamltest.
(David Allsopp, review by Damien Doligez, much input and thought from
 Daniel Bünzli, Damien Doligez, Sébastien Hinderer, and Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9889">9889</a>: more caching when printing types with -short-path.
(Florian Angeletti, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9591">9591</a>: fix pprint of polyvariants that start with a core_type, closed,
not low (Chet Murthy, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9590">9590</a>: fix pprint of extension constructors (and exceptions) that rebind
(Chet Murthy, review by octachron@)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9963">9963</a>: Centralized tracking of frontend's global state
(Frédéric Bour and Thomas Refis, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9631">9631</a>: Named text sections for caml_system__code_begin/end symbols
(Greta Yorsh, review by Frédéric Bour)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9896">9896</a>: Share the strings representing scopes, fixing some regression
on .cmo/.cma sizes
(Alain Frisch and Xavier Clerc, review by Gabriel Scherer)</li>
</ul>
</div>
</div>

<div id="outline-container-orgd9253a0" class="outline-5">
<h5 id="orgd9253a0">Build system:</h5>
<div class="outline-text-5" id="text-orgd9253a0">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/9332">9332</a>, <a href="https://github.com/ocaml/ocaml/issues/9518">9518</a>, <a href="https://github.com/ocaml/ocaml/issues/9529">9529</a>: Cease storing C dependencies in the codebase. C
dependencies are generated on-the-fly in development mode. For incremental
compilation, the MSVC ports require GCC to be present.
(David Allsopp, review by Sébastien Hinderer, YAML-fu by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7121">7121</a>, <a href="https://github.com/ocaml/ocaml/issues/9558">9558</a>: Always have the autoconf-discovered ld in PACKLD, with
extra flags in new variable PACKLD_FLAGS. For
cross-compilation, this means the triplet-prefixed version will always be
used.
(David Allsopp, report by Adrian Nader, review by Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9527">9527</a>: stop including configuration when running 'clean' rules
to avoid C dependency recomputation.
(Gabriel Scherer, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9804">9804</a>: Build C stubs of libraries in otherlibs/ with debug info.
(Stephen Dolan, review by Sébastien Hinderer and David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9938">9938</a>, <a href="https://github.com/ocaml/ocaml/issues/9939">9939</a>: Define __USE_MINGW_ANSI_STDIO=0 for the mingw-w64 ports to
prevent their C99-compliant snprintf conflicting with ours.
(David Allsopp, report by Michael Soegtrop, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9895">9895</a>, <a href="https://github.com/ocaml/ocaml/issues/9523">9523</a>: Avoid conflict with C++20 by not installing VERSION to the OCaml
Standard Library directory.
(Bernhard Schommer, review by David Allsopp)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10044">10044</a>: Always report the detected ARCH, MODEL and SYSTEM, even for bytecode-
only builds (fixes a "configuration regression" from 4.08 for the Windows
builds)
(David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10071">10071</a>: Fix bug in tests/misc/weaklifetime.ml that was reported in <a href="https://github.com/ocaml/ocaml/issues/10055">10055</a>
(Damien Doligez and Gabriel Scherer, report by David Allsopp)</li>
</ul>
</div>
</div>

<div id="outline-container-org1394505" class="outline-5">
<h5 id="org1394505">Bug fixes:</h5>
<div class="outline-text-5" id="text-org1394505">
<ul class="org-ul">
<li><a href="https://github.com/ocaml/ocaml/issues/7538">7538</a>, <a href="https://github.com/ocaml/ocaml/issues/9669">9669</a>: Check for misplaced attributes on module aliases
(Leo White, report by Thomas Leonard, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7813">7813</a>, <a href="https://github.com/ocaml/ocaml/issues/9955">9955</a>: make sure the major GC cycle doesn't get stuck in Idle state
(Damien Doligez, report by Anders Fugmann, review by Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/7902">7902</a>, <a href="https://github.com/ocaml/ocaml/issues/9556">9556</a>: Type-checker infers recursive type, even though -rectypes is
off.
(Jacques Garrigue, report by Francois Pottier, review by Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8746">8746</a>: Hashtbl: Restore ongoing traversal status after filter_map_inplace
(Mehdi Bouaziz, review by Alain Frisch)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/8747">8747</a>, <a href="https://github.com/ocaml/ocaml/issues/9709">9709</a>: incorrect principality warning on functional updates of records
(Jacques Garrigue, report and review by Thomas Refis)</li>

<li><b>breaking change</b> <a href="https://github.com/ocaml/ocaml/issues/8907">8907</a>, <a href="https://github.com/ocaml/ocaml/issues/9878">9878</a>: <code>Typemod.normalize_signature</code> uses wrong environment
(Jacques Garrigue, report and review by Leo White)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9421">9421</a>, <a href="https://github.com/ocaml/ocaml/issues/9427">9427</a>: fix printing of <code>(::)</code> in ocamldoc
(Florian Angeletti, report by Yawar Amin, review by Damien Doligez)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9440">9440</a>: for a type extension constructor with parameterised arguments, REPL displayed &lt;poly&gt; for each as opposed to the concrete values used.
(Christian Quinn, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9433">9433</a>: Fix package constraints for module aliases
(Leo White, review by Jacques Garrigue)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9469">9469</a>: Better backtraces for lazy values
(Leo White, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9521">9521</a>, <a href="https://github.com/ocaml/ocaml/issues/9522">9522</a>: correctly fail when comparing functions
with Closure and Infix tags.
(Gabriel Scherer and Jeremy Yallop and Xavier Leroy,
 report by Twitter user @st_toHKR through Jun Furuse)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9611">9611</a>: maintain order of load path entries in various situations: when passing
them to system linker, ppx contexts, etc.
(Nicolás Ojeda Bär, review by Jérémie Dimino and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9633">9633</a>: ocamltest: fix a bug when certain variables set in test scripts would
be ignored (eg <code>ocamlrunparam</code>).
(Nicolás Ojeda Bär, review by Sébastien Hinderer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9681">9681</a>, <a href="https://github.com/ocaml/ocaml/issues/9690">9690</a>, <a href="https://github.com/ocaml/ocaml/issues/9693">9693</a>: small runtime changes
for the new closure representation (<a href="https://github.com/ocaml/ocaml/issues/9619">9619</a>)
(Xavier Leroy, Sadiq Jaffer, Gabriel Scherer,
 review by Xavier Leroy and Jacques-Henri Jourdan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9739">9739</a>, <a href="https://github.com/ocaml/ocaml/issues/9747">9747</a>: Avoid calling type variables, types that are not variables in
recursive occurrence error messages
(for instance, "Type variable int occurs inside int list")
(Florian Angeletti, report by Stephen Dolan, review by Armaël Guéneau)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9759">9759</a>, <a href="https://github.com/ocaml/ocaml/issues/9767">9767</a>: Spurious GADT ambiguity without -principal
(Jacques Garrigue, report by Thomas Refis,
 review by Thomas Refis and Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9799">9799</a>, <a href="https://github.com/ocaml/ocaml/issues/9803">9803</a>: make pat_env point to the correct environment
(Thomas Refis, report by Alex Fedoseev, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9825">9825</a>, <a href="https://github.com/ocaml/ocaml/issues/9830">9830</a>: the C global variable caml_fl_merge and the C function
caml_spacetime_my_profinfo (bytecode version) were declared and
defined with different types.  This is undefined behavior and
cancause link-time errors with link-time optimization (LTO).
(Xavier Leroy, report by Richard Jones, review by Nicolás Ojeda Bär)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9753">9753</a>: fix build for Android
(Eduardo Rafael, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9848">9848</a>, <a href="https://github.com/ocaml/ocaml/issues/9855">9855</a>: Fix double free of bytecode in toplevel
(Stephen Dolan, report by Sampsa Kiiskinen, review by Gabriel Scherer)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9858">9858</a>, <a href="https://github.com/ocaml/ocaml/issues/9861">9861</a>: Compiler fails with Ctype.Nondep_cannot_erase exception
(Thomas Refis, report by Philippe Veber, review by Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9860">9860</a>: wrong range constraint for subtract immediate on zSystems / s390x
(Xavier Leroy, review by Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9868">9868</a>, <a href="https://github.com/ocaml/ocaml/issues/9872">9872</a>, <a href="https://github.com/ocaml/ocaml/issues/9892">9892</a>: bugs in {in,out}_channel_length and seek_in
for files opened in text mode under Windows
(Xavier Leroy, report by Alain Frisch, review by Nicolás Ojeda Bär
and Alain Frisch)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9925">9925</a>: Correct passing -fdebug-prefix-map to flexlink on Cygwin by prefixing
it with -link.
(David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9927">9927</a>: Restore Cygwin64 support.
(David Allsopp, review by Xavier Leroy)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9940">9940</a>: Fix unboxing of allocated constants from other compilation units
(Vincent Laviron, report by Stephen Dolan, review by Xavier Leroy and
Stephen Dolan)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9991">9991</a>: Fix reproducibility for <code>-no-alias-deps</code>
(Leo White, review by Gabriel Scherer and Florian Angeletti)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9998">9998</a>: Use Sys.opaque_identity in CamlinternalLazy.force
This removes extra warning 59 messages when compiling afl-instrumented
code with flambda -O3.
(Vincent Laviron, report by Louis Gesbert, review by Gabriel Scherer and
 Pierre Chambart)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/9999">9999</a>: fix -dsource printing of the pattern <code>(`A as x | (`B as x))</code>.
(Gabriel Scherer, report by Anton Bachin, review by Florian Angeletti)</li>

<li><p>
<a href="https://github.com/ocaml/ocaml/issues/9970">9970</a>, <a href="https://github.com/ocaml/ocaml/issues/10010">10010</a>: fix the declaration scope of extensible-datatype constructors.
A regression that dates back to 4.08 makes extensible-datatype constructors
with inline records very fragile, for example:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">type</span> <span style="color: #228b22;">'a t</span> += <span style="color: #000000; background-color: #ffffff;">X</span> <span style="color: #a020f0;">of</span> {x : 'a}
</pre>
</div>
<p>
(Gabriel Scherer, review by Thomas Refis and Leo White,
 report by Nicolás Ojeda Bär)
</p></li>

<li><a href="https://github.com/ocaml/ocaml/issues/10048">10048</a>: Fix bug with generalized local opens.
(Leo White, review by Thomas Refis)</li>

<li><a href="https://github.com/ocaml/ocaml/issues/10106">10106</a>, <a href="https://github.com/ocaml/ocaml/issues/10112">10112</a>: some expected-type explanations were forgotten
after some let-bindings
(Gabriel Scherer, review by Thomas Refis and Florian Angeletti,
 report by Daniil Baturin)</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-orge8e855f" class="outline-3">
<h3 id="orge8e855f">Anil Madhavapeddy then said</h3>
<div class="outline-text-3" id="text-orge8e855f">
<p>
And the <a href="https://www.ocaml.org/manual/">4.12.0 manual is now live</a> on the website. Thank for you the excellent
improvement, @sanette!
</p>
</div>
</div>
</div>




<div id="outline-container-orgd43763e" class="outline-2">
<h2 id="4">latest batteries release: v3.3.0</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-latest-batteries-release-v3-3-0/7389/1">https://discuss.ocaml.org/t/ann-latest-batteries-release-v3-3-0/7389/1</a>
</p>
</div>

<div id="outline-container-org7bbb1ef" class="outline-3">
<h3 id="org7bbb1ef">UnixJunkie announced</h3>
<div class="outline-text-3" id="text-org7bbb1ef">
<p>
The batteries maintainers are pleased to announce the latest minor release of OCaml batteries-included: v3.3.0.
Batteries is an open-source, community-maintained, extended standard library for OCaml.
The latest version is available in opam.
</p>

<p>
Many thanks to all the contributors for this release!
</p>

<p>
The change log follows:
</p>
</div>
<div id="outline-container-org9e45cbc" class="outline-4">
<h4 id="org9e45cbc">v3.3.0 (minor release)</h4>
<div class="outline-text-4" id="text-org9e45cbc">
<ul class="org-ul">
<li>Several fixes for OCaml-4.12
#994, #992,
(kit-ty-kate)</li>

<li>Support for ocaml-multicore in the Gc module
#991
(kit-ty-kate, review by Gabriel Scherer)</li>

<li>Significant work preparing switch to dune
#1025, #1024, #1023, #1022, #1021, #1020, #1019, #1017
(Gabriel Scherer, review by Francois Berenger)</li>

<li>Remove <code>-rectypes</code> from BatFingerTree and simpler implementation
#1012
(Gabriel Scherer)</li>

<li>new BatEither module; available in all OCaml versions supported by batteries
#1027
The implementation comes from the stdlib and is due to Gabriel Scherer.
(Francois Berenger, review by Gabriel Scherer)</li>

<li>BatList.partition_map: <code>('a -&gt; ('b, 'c) BatEither.t) -&gt; 'a list -&gt; 'b list * 'c list</code>
#1028                                                                         
(Francois Berenger, review by Gabriel Scherer)</li>

<li>BatSet: added several missing methods for compatibility with stdlib.          
      The implementation of filter, map and filter_map was adapted from       
      stdlib, authors of the original implementation are Xavier Leroy,        
      Albin Coquereau and Gabriel Scherer                                     
#1006, #1008                                                                  
(Jakob Krainz, review by Gabriel Scherer)</li>

<li>BatSeq: compatibility with stdlib.Seq
#1005, #1007
(Jakob Krainz, review by Gabriel Scherer)</li>

<li>BatMap, BatSplay: find_first, find_first_opt, find_last, find_last_opt,
      to_rev_seq
      For compatibility with the stdlib.
      The implementation in BatMap was adapted from stdlib;
      authors of the original implementation are Albin Coquereau
      and Gabriel de Perthuis.
#1000, #1031
(Jakob Krainz, review by Gabriel Scherer)</li>

<li>BatArray.remove_at: <code>int -&gt; 'a array -&gt; 'a array</code>
#996
For compatibility with BatList
(Francois Berenger, review by Cedric Cellier)</li>

<li>BatDynArray: several new functions
BatDynArray now exposes almost the same functionalities as BatArray
#872
(andrepd, review by Florent Monnier and Francois Berenger)</li>

<li>BatDynArray: uniformization of exceptions and more documentation
#988
(Florent Monnier, review by Francois Berenger)</li>

<li>BatDynArray: user input checks in left, right, tail
#987
(Florent Monnier, review by Francois Berenger)</li>

<li>Fix stack overflow on Int32/64.pow with negative exponent (issue #989)
#990
(Cedric Cellier, review by Francois Berenger)</li>

<li>BatList.unfold_exn is an alias for unfold_exc.
BatRefList.find_exn is an alias for find_exc.
#978
(Cedric Cellier, review by Francois Berenger)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-orgaa57ded" class="outline-2">
<h2 id="5">Other OCaml News</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org3a86b2b" class="outline-3">
<h3 id="org3a86b2b">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-org3a86b2b">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="https://coq.inria.fr/news/coq-platform-2021.02.0-is-out.html">Coq Platform 2021.02.0 is out</a></li>
<li><a href="https://coq.inria.fr/news/coq-8-13-1-is-out.html">Coq 8.13.1 is out</a></li>
<li><a href="http://math.andrej.com/2021/02/22/burali-forti-in-hott-uf/">The Burali-Forti argument in HoTT/UF</a></li>
<li><a href="https://tarides.com/blog/2021-02-15-partenering-for-more-diversity-in-tech">Partenering for more diversity in Tech</a></li>
<li><a href="https://www.ocamlpro.com/2021/02/09/opam-2-0-8-release/">opam 2.0.8 release</a></li>
<li><a href="https://rescript-lang.org/blog/release-9-0"> ReScript 9.0</a></li>
<li><a href="https://opam.ocaml.org/blog/opam-2-0-8/">opam 2.0.8 release</a></li>
<li><a href="https://opam.ocaml.org/blog/opam-2-1-0-beta4/">opam 2.1.0~beta4 released</a></li>
<li><a href="http://math.andrej.com/2021/02/03/synthetic-mathematics-with-excursion-to-computability/">Synthetic mathematics with an excursion into computability theory</a></li>
<li><a href="https://www.ocamlpro.com/2021/02/02/2020-at-ocamlpro/">2020 at OCamlPro</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org64f2b54" class="outline-2">
<h2 id="org64f2b54">Old CWN</h2>
<div class="outline-text-2" id="text-org64f2b54">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
