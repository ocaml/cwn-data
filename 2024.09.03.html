<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-09-03 Tue 10:23 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2024.08.27.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2024.09.10.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of August 27 to September 03, 2024.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">ppx_minidebug 2.0: verbosity levels</a></li>
<li><a href="#2">Ppx by example - repo to help on ppx learning</a></li>
<li><a href="#3">Blog Post: Simple Example where Ocaml calls a C function</a></li>
<li><a href="#4">Outreachy December 2024 Round</a></li>
<li><a href="#5">Other OCaml News</a></li>
<li><a href="#org9c1dde5">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">ppx_minidebug 2.0: verbosity levels</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ppx-minidebug-2-0-verbosity-levels/15212/1">https://discuss.ocaml.org/t/ann-ppx-minidebug-2-0-verbosity-levels/15212/1</a>
</p>
</div>

<div id="outline-container-org0fac7be" class="outline-3">
<h3 id="org0fac7be">Lukasz Stafiniak announced</h3>
<div class="outline-text-3" id="text-org0fac7be">
<p>
I'm pleased to mention that <a href="https://github.com/lukstafi/ppx_minidebug">ppx_minidebug 2.0</a> is available now. The README at <a href="https://github.com/lukstafi/ppx_minidebug">ppx_minidebug - GitHub</a> is the user manual, and the runtime API is documented here: <a href="https://lukstafi.github.io/ppx_minidebug/ppx_minidebug/Minidebug_runtime/index.html">ppx_minidebug.Minidebug_runtime</a>.
</p>

<p>
Version 2.0 brings linear verbosity log levels. Both logging scopes and individual log statements can be either: at a default (omitted) log level, at a compile-time log level (e.g. <code>[%log2 "test"]</code> logs <code>test</code> at level 2), or at a runtime-provided log level (e.g. <code>[%logN for_level; "test"]</code> logs <code>test</code> at level <code>for_level</code>). When the level to log at is omitted, it is inherited from its direct syntactic logging scope (i.e. the log entry that the log or log entry is syntactically in &#x2013; not the log entry that the log is dynamically attached to, if it's different). Providing a compile-time log level will prune the generated code accordingly. See more here: <a href="https://github.com/lukstafi/ppx_minidebug?tab=readme-ov-file#using-as-a-logging-framework">ppx_minidebug: Using as a logging framework</a>.
</p>

<p>
Version 1.6 brought support for local runtimes, where the runtime for logging in a logging scope is fetched by a user-provided function. The function can for example use domain-local storage. See more here: <a href="https://github.com/lukstafi/ppx_minidebug?tab=readme-ov-file#dealing-with-concurrent-execution">ppx_minidebug: Dealing with concurrent execution</a>.
</p>

<p>
Happy debugging!
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Ppx by example - repo to help on ppx learning</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ppx-by-example-repo-to-help-on-ppx-learning/15213/1">https://discuss.ocaml.org/t/ppx-by-example-repo-to-help-on-ppx-learning/15213/1</a>
</p>
</div>

<div id="outline-container-org5dfa438" class="outline-3">
<h3 id="org5dfa438">Pedro Braga announced</h3>
<div class="outline-text-3" id="text-org5dfa438">
<p>
Over the past few weeks, I've started my journey to learn PPX, and during this process, I found it challenging to find examples. So, I began creating my own examples and adding explanations for myself.
</p>

<p>
I realized that I could make my examples and explanations public because this would push me to learn more deeply (as I’d need to provide better and clearer explanations) and could also help anyone else on this learning path. @davesnx also encouraged me to share my process (maybe through a blog post in the future). So, I created this repository: <a href="https://github.com/pedrobslisboa/ppx-by-example">github.com/pedrobslisboa/ppx-by-example</a>.
</p>

<p>
The idea is to have examples and an explanation for each detail on those. It has also a brief explanation about the subject on every README.
</p>

<p>
I have a few notes:
</p>
<ul class="org-ul">
<li>It is a wip project, which means that there are parts in development. But sharing it is also a way to push me to improve this project.</li>
<li>As I said, I'm on the process of learning PPX, so probably I missed or added something wrongly, so please If you notice it, share it on the repo so I can fix.</li>
<li>I am also in the process of learning OCaml. I started coding in OCaml this year (professionally just last month), so this repository might not have the best code. If you think it can be improved, please let me know. :heart:</li>
<li>I'm not a native English speaker or the best writer. I asked ChatGPT to help fix some mistakes and improve cohesion, but if you notice anything that needs to be improved, please let me know. :heart:</li>
</ul>

<p>
Besides that, any comments, help, or additions are welcome. I hope this can be helpful :3
Thank you all!
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Blog Post: Simple Example where Ocaml calls a C function</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-post-simple-example-where-ocaml-calls-a-c-function/15211/3">https://discuss.ocaml.org/t/blog-post-simple-example-where-ocaml-calls-a-c-function/15211/3</a>
</p>
</div>

<div id="outline-container-org3f99e26" class="outline-3">
<h3 id="org3f99e26">Deep in this thread, Tim McGilchrist said</h3>
<div class="outline-text-3" id="text-org3f99e26">
<p>
My favourite example at the moment is this one from <a href="https://doi.org/10.1145/3453483.3454039">Retrofitting Effect Handlers onto OCaml</a>. It shows OCaml calling C, C calling an OCaml callback and exceptions crossing those boundaries.
</p>

<pre class="example" id="org3775855">
$ cat meander.ml
</pre>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">external</span> <span style="color: #a7601f;">ocaml_to_c</span>
         : unit -&gt; int = <span style="color: #ca3400;">"ocaml_to_c"</span>
<span style="color: #006f00; font-weight: bold;">exception</span> <span style="color: #242521; background-color: #fcf7ef;">E1</span>
<span style="color: #006f00; font-weight: bold;">exception</span> <span style="color: #242521; background-color: #fcf7ef;">E2</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">c_to_ocaml</span> () = <span style="color: #557400; font-weight: bold;">raise</span> <span style="color: #242521; background-color: #fcf7ef;">E1</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">_</span> = <span style="color: #444fcf;">Callback.</span>register
          <span style="color: #ca3400;">"c_to_ocaml"</span> c_to_ocaml
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">omain</span> () =
  <span style="color: #006f00; font-weight: bold;">try</span> <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">h1</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
    <span style="color: #006f00; font-weight: bold;">try</span> <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">h2</span><span style="color: #8f6f4a; font-style: italic;"> *)</span> ocaml_to_c ()
    <span style="color: #006f00; font-weight: bold;">with</span> <span style="color: #242521; background-color: #fcf7ef;">E2</span> -&gt; 0
  <span style="color: #006f00; font-weight: bold;">with</span> <span style="color: #242521; background-color: #fcf7ef;">E1</span> -&gt; 42
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">_</span> = <span style="color: #006f00; font-weight: bold;">assert</span> (omain () = 42)
</pre>
</div>

<pre class="example" id="orgf2d5145">
$ cat meander_c.c
</pre>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #9f0d0f;">#include</span> <span style="color: #ca3400;">&lt;caml/mlvalues.h&gt;</span>
<span style="color: #9f0d0f;">#include</span> <span style="color: #ca3400;">&lt;caml/callback.h&gt;</span>

<span style="color: #444fcf;">value</span> <span style="color: #a7601f;">ocaml_to_c</span> (<span style="color: #444fcf;">value</span> <span style="color: #007a9f;">unit</span>) {
    caml_callback(*caml_named_value
                  (<span style="color: #ca3400;">"c_to_ocaml"</span>), Val_unit);
    <span style="color: #006f00; font-weight: bold;">return</span> Val_int(0);
}
</pre>
</div>

<p>
Compile it with OCaml 5.2:
</p>

<pre class="example" id="org2bea0ee">
$ ocamlopt --version
5.2.0
$ ocamlopt meander_c.c meander.ml -o meander.exe
$ ./meander.exe
$ echo $?
0
</pre>

<p>
Bonus you can use GDB/LLDB on this to set breakpoints in both OCaml and C.
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">Outreachy December 2024 Round</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/outreachy-december-2024-round/15223/1">https://discuss.ocaml.org/t/outreachy-december-2024-round/15223/1</a>
</p>
</div>

<div id="outline-container-org3307edf" class="outline-3">
<h3 id="org3307edf">Patrick Ferris announced</h3>
<div class="outline-text-3" id="text-org3307edf">
<p>
With the conclusion of the previous Outreachy round (see <a href="https://discuss.ocaml.org/t/outreachy-demo-presentation/15189">Outreachy Demo Presentation</a>), the next round is fast approaching and the OCaml community has signed up again to participate!
</p>
</div>

<div id="outline-container-org27e2f21" class="outline-4">
<h4 id="org27e2f21">The Next Round</h4>
<div class="outline-text-4" id="text-org27e2f21">
<p>
The <b>deadline for mentors to <a href="https://www.outreachy.org/communities/cfp/ocaml/">submit a project</a> is [date=2024-09-11 timezone="Europe/London"]</b>. If people are interested in mentoring and they maintain an open-source project, then they can reach out directly to me and I can help scope a project, explain the contribution period and provide as much other help as we can! Co-mentoring is also an option for people who are interested in mentoring but do not have a specific project &#x2013; do reply to this thread if that's you! 
</p>

<p>
When signing up mentors propose an open-source project where prospective interns submit PRs during the “contribution phases” as part of their application. Mentors will then choose an intern to work with for 3 months. A more detailed explanation is available <a href="https://www.outreachy.org/mentor/#mentor">on the Outreachy mentor section </a>.
</p>

<p>
I'm particularly interested in <b>projects from some of the larger OCaml projects</b> (e.g. dune, opam, ppxlib, miou, eio, cohttp, melange etc.). I'm very happy to help with co-mentoring on any of these projects. If you are interested and are a maintainer of a larger project, please do reach out. Of course, smaller projects are still very much possible. 
</p>
</div>
</div>

<div id="outline-container-org8ef8ac3" class="outline-4">
<h4 id="org8ef8ac3">Funding</h4>
<div class="outline-text-4" id="text-org8ef8ac3">
<p>
<span class="underline">Funding for this upcoming Outreachy round is not yet finalised</span>. We hope to have funding for three interns, I will reply to this thread once things are confirmed which should be soon. If any company is interested in supporting the OCaml community Outreachy initative please do reach out to me.
</p>

<p>
I'd also like to take this moment to raise some awareness for the current <a href="https://www.outreachy.org/blog/2024-08-14/outreachy-needs-your-help/">struggles Outreachy is facing</a>. The OCaml community has benefited massively from Outreachy. Both by participating directly as a community (see <a href="https://ocaml.org/outreachy">https://ocaml.org/outreachy</a> for some past projects) and via the participation of other communities. I'm very grateful for everyone who has taken part in some way, including non-mentors engaging with the interns. 
</p>

<p>
As always if you have any general questions or mentoring ideas do comment on this thread or reach out directly.
</p>

<p>
Thanks!
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">Other OCaml News</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org03a98dc" class="outline-3">
<h3 id="org03a98dc">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-org03a98dc">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://tarides.com/blog/2024-08-30-the-biggest-functional-programming-conference-of-the-year-what-are-we-bringing-to-icfp">The Biggest Functional Programming Conference of the Year: What are we Bringing to ICFP?</a></li>
<li><a href="https://blog.janestreet.com/icfp-2024-index/">ICFP 2024</a></li>
<li><a href="https://tarides.com/blog/2024-08-28-project-wide-occurrences-a-new-navigation-feature-for-ocaml-5-2-users">Project-Wide Occurrences: A New Navigation Feature for OCaml 5.2 Users</a></li>
<li><a href="https://blog.janestreet.com/what-the-interns-have-wrought-2024-edition-index/">What the interns have wrought, 2024 edition</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org9c1dde5" class="outline-2">
<h2 id="org9c1dde5">Old CWN</h2>
<div class="outline-text-2" id="text-org9c1dde5">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="orgfe52cba">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
