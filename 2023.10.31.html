<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-10-31 Tue 11:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2023.10.24.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2023.11.07.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of October 24 to 31, 2023.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">asai 0.2.0 for compiler diagnostics</a></li>
<li><a href="#2">TSan support in OCaml 5.1 and blog post</a></li>
<li><a href="#3">Melange 2.0</a></li>
<li><a href="#4">dream-html 1.0.0</a></li>
<li><a href="#5">OCaml Platform Newsletter: September 2023</a></li>
<li><a href="#6">How-To: Buck 2 and OCaml - Build system</a></li>
<li><a href="#7">First release of ortac-core, ortac-runtime and ortac-qcheck-stm</a></li>
<li><a href="#8">opam-publish 2.3.0</a></li>
<li><a href="#org217e984">Old CWN</a></li>
</ul>
</div>
</div>
<div id="outline-container-1" class="outline-2">
<h2 id="1">asai 0.2.0 for compiler diagnostics</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-asai-0-2-0-for-compiler-diagnostics/13305/1">https://discuss.ocaml.org/t/ann-asai-0-2-0-for-compiler-diagnostics/13305/1</a>
</p>
</div>
<div id="outline-container-org95ed11b" class="outline-3">
<h3 id="org95ed11b">Favonia announced</h3>
<div class="outline-text-3" id="text-org95ed11b">
<p>
I am happy to announce <a href="https://ocaml.org/p/asai/latest/doc/index.html">asai 0.2.0</a> for generating and printing
compiler diagnostics. This is a major release: there are many improvements and (unfortunately) many
backward-incompatible changes. Compared to the previous release, this version is significantly more stable, though
we might still make big changes before 1.0.0. We have a <a href="https://ocaml.org/p/asai/latest/doc/quickstart.html">ðŸ”° quickstart
tutorial</a> for you to try out and would love to hear your
feedback.
</p>

<p>
The most significant change is the introduction of <b>structured reporters.</b> The library can thus be used in two
different modes:
</p>

<ol class="org-ol">
<li>Use <b>Reporter</b> (as the old <b>Logger</b>): its API is biased towards free-form explanations.</li>
<li>Use <b>StructuredReporter:</b> its API is biased towards fully structured messages.</li>
</ol>

<p>
Both modes share the same type of <b>diagnostics,</b> and thus, an application using structured messages can adopt a
library using free-form explanations and vice versa. Great care has been taken to make sure the two modes can work
together. The current tutorial focuses on <b>Reporter</b> and free-form explanations because that mode is slightly
easier to set up.
</p>

<p>
The second most significant change is that the TTY handler got an overhaul. The output is now more concise,
informational, and beautiful. You can trivially produce an error message like this:
</p>


<div id="org1064dc6" class="figure">
<p><img src="https://global.discourse-cdn.com/business7/uploads/ocaml/original/2X/3/3c19944f0880b524ac5d675c517136eba6908575.png" alt="3c19944f0880b524ac5d675c517136eba6908575.png" />
</p>
</div>

<p>
In case you are wondering, we intentionally did not implement the Rust-style ASCII art due to our obsession with
Unicode emojis (see <a href="https://ocaml.org/p/asai/latest/doc/design.html">our design philosophy</a>). However, our modular
design makes it is very easy to connect our message reporting interface with other rendering libraries, for example
the one tracked by <a href="https://github.com/RedPRL/asai/issues/107">this GitHub issue.</a> <span class="underline">(The author said we should wait
a bit before they finish the renderer, and that&rsquo;s why we have not implemented it yet!)</span>
</p>

<p>
Thanks to @viritrilbia for many valuable suggestions.
</p>
</div>
<div id="outline-container-orge53862e" class="outline-4">
<h4 id="orge53862e">Changelog</h4>
<div class="outline-text-4" id="text-orge53862e">
</div>
<ul class="org-ul">
<li><a id="org7513050"></a>BREAKING CHANGES<br />
<div class="outline-text-5" id="text-org7513050">
<ul class="org-ul">
<li><b>Span</b> is renamed to <b>Range</b></li>
<li><b>Logger</b> is renamed to <b>Reporter</b> and <b>Reporter.Code</b> is renamed to <b>Reporter.Message</b></li>
<li><b>Range:</b> the type <code>position</code> was changed to allow string (in-memory) sources</li>
<li><b>Diagnostic:</b> the type <code>diagnostic</code> was changed and <code>message</code> was renamed to <code>loctext</code></li>
<li>The LSP handler is separated out as a new package (not published yet)</li>
</ul>
</div>
</li>
<li><a id="org2b3180b"></a>Bug Fixes<br />
<div class="outline-text-5" id="text-org2b3180b">
<ul class="org-ul">
<li><b>Diagnostic:</b> fix and improve <code>string_of_text</code>
<ul class="org-ul">
<li>(<a href="https://github.com/RedPRL/asai/issues/83">#83</a>) (<a href="https://github.com/RedPRL/asai/commit/e32adc5fbbd8cca6c2c0f633afa2ec1beb716f71">e32adc5</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/commit/b00d8cd2eee9e51ea89fed8d0988d20fb7964e00">b00d8cd</a>)</li>
</ul></li>
</ul>
</div>
</li>
<li><a id="orgeeefd1b"></a>Features<br />
<div class="outline-text-5" id="text-orgeeefd1b">
<ul class="org-ul">
<li>introduce <b>StructuredReporter</b> for fully structured messages
<ul class="org-ul">
<li>(<a href="https://github.com/RedPRL/asai/issues/97">#97</a>) (<a href="https://github.com/RedPRL/asai/commit/add65f81ddc6a37734d32c4363d7abf45d96aa3c">add65f8</a>)</li>
</ul></li>
<li><b>Range:</b> allow string (in-memory) sources
<ul class="org-ul">
<li>(<a href="https://github.com/RedPRL/asai/issues/90">#90</a>) (<a href="https://github.com/RedPRL/asai/commit/ae62741933f6881a1da8f53be45249d347918321">ae62741</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/issues/101">#101</a>) (<a href="https://github.com/RedPRL/asai/commit/4b6819a289c514f92f0fbb06bee6ac5bd79a0962">4b6819a</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/commit/a944e668ac16532059dff26064712c6300c3b15b">a944e66</a>)</li>
</ul></li>
<li><b>Tty:</b> completely redesign the TTY output
<ul class="org-ul">
<li>(<a href="https://github.com/RedPRL/asai/issues/81">#81</a>) (<a href="https://github.com/RedPRL/asai/commit/9685bc92e0cc1fbff152814d9a7a340f14871be5">9685bc9</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/issues/91">#91</a>) (<a href="https://github.com/RedPRL/asai/commit/07fe24104404a33ea213c1910671d2fa4d14531c">07fe241</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/issues/93">#93</a>) (<a href="https://github.com/RedPRL/asai/commit/c3f07479254ad02823500262118de649666e6128">c3f0747</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/commit/39e7154b746b5444bc97a24bdbb26e55a83bd2d8">39e7154</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/commit/a9caca1f2e46e982d8fa56a69528df390dc6f1ef">a9caca1</a>)</li>
<li>(<a href="https://github.com/RedPRL/asai/issues/114">#114</a>) (<a href="https://github.com/RedPRL/asai/commit/5d2066bf530c41e2a920b6258d905cffeeef9229">5d2066b</a>)</li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="2">TSan support in OCaml 5.1 and blog post</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-tsan-support-in-ocaml-5-1-and-blog-post/13306/1">https://discuss.ocaml.org/t/ann-tsan-support-in-ocaml-5-1-and-blog-post/13306/1</a>
</p>
</div>
<div id="outline-container-org014ff1f" class="outline-3">
<h3 id="org014ff1f">Fabrice announced</h3>
<div class="outline-text-3" id="text-org014ff1f">
<p>
With <b>ThreadSanitizer</b> support to be part of <b>OCaml 5.2</b>, we (@otini and I) wanted to let you know about a
couple of news on the subject.
</p>

<p>
If you don&rsquo;t already know about it, ThreadSanitizer (also known as TSan) is a special instrumentation added to your
program to detect <b>data races</b>.
<i>Quick pedantic reminder with the definition of a data race:</i> :nerd_face:
</p>

<blockquote>
<p>
A data race is when two or more threads access the same memory location concurrently, and at least one of the
accesses is a write. Data races can lead to particularly hard-to-debug problems.
</p>
</blockquote>

<p>
We are pleased to announce that we have <b>backported TSan to OCaml 5.1</b>, so that you can start using it right away.
This version benefits from a <b>more up-to-date compiler</b> than the 5.0 backport, and will also <b>perform better</b> as
many improvements have been made to the TSan integration. The impact on your program runtime under TSan will be
lower. :rocket:
</p>

<p>
To get it running on your machine, it&rsquo;s as simple as:
</p>

<pre class="example" id="org4571912">
opam update
opam switch create 5.1.0+tsan
</pre>

<p>
:open_book: We had the opportunity to present TSan at the <b>ICFP 2023 Ocaml Workshop</b>, unfortunately the recording
isn&rsquo;t available yet. :face_holding_back_tears: But if you&rsquo;re interested in learning more of about <b>how TSan
works</b>, and the challenges we faced in <b>integrating</b> it with the OCaml compiler we&rsquo;ve written an <b>article</b> at
<a href="https://tarides.com/blog/2023-10-18-off-to-the-races-using-threadsanitizer-in-ocaml/">https://tarides.com/blog/2023-10-18-off-to-the-races-using-threadsanitizer-in-ocaml/</a>!
</p>

<p>
:teacher: For a more <b>hands-on experience</b>, @jmid has also added a <b>tutorial</b> <code>Transitioning to Multicore with
ThreadSanitizer</code>, which walks you through the steps of installing TSan, using it to detect data races in one
example, and addressing them. It&rsquo;s available at
<a href="https://www.ocaml.org/docs/multicore-transition">https://www.ocaml.org/docs/multicore-transition</a>.
</p>

<p>
Happy data race hunting, and have a fun with parallelism! :ninja:
</p>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="3">Melange 2.0</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-melange-2-0/13073/2">https://discuss.ocaml.org/t/ann-melange-2-0/13073/2</a>
</p>
</div>
<div id="outline-container-org619f309" class="outline-3">
<h3 id="org619f309">Antonio Nuno Monteiro announced</h3>
<div class="outline-text-3" id="text-org619f309">
<p>
We have since released Melange 2.1 with the following fixes and improvements:
</p>

<ul class="org-ul">
<li>Add TRMC (Tail Recursion Modulo Cons) support (<a href="https://github.com/melange-re/melange/pull/743">melange-re/melange#743</a>)</li>
<li>[playground]: Add <code>melange.dom</code> to bundle (<a href="https://github.com/melange-re/melange/pull/779">melange-re/melange#779</a>)</li>
<li>Fix <code>Sys.argv</code> runtime to match declared type (<a href="https://github.com/melange-re/melange/pull/791">melange-re/melange#791</a>)</li>
<li>Make <code>'a Js.t</code> abstract (again), fixing a regression when bringing back OCaml-style objects from BuckleScript (<a href="https://github.com/melange-re/melange/pull/786">melange-re/melange#786</a>)</li>
<li>Don&rsquo;t issue &ldquo;unused attribute&rdquo; warning for well-formed <code>@@@mel.config</code> in interface files (<a href="https://github.com/melange-re/melange/pull/800">melange-re/melange#800</a>)</li>
<li>Stop showing <code>Js__.Js_internal</code> in types and error messages (<a href="https://github.com/melange-re/melange/pull/798">melange-re/melange#798</a>)</li>
<li>Fix printing of OCaml-style objects and uncurried application (<a href="https://github.com/melange-re/melange/pull/807">melange-re/melange#807</a>)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="4">dream-html 1.0.0</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-dream-html-1-0-0/12787/2">https://discuss.ocaml.org/t/ann-dream-html-1-0-0/12787/2</a>
</p>
</div>
<div id="outline-container-org86c3aa0" class="outline-3">
<h3 id="org86c3aa0">Yawar Amin announced</h3>
<div class="outline-text-3" id="text-org86c3aa0">
<p>
[ANN] dream-html 1.1.0
</p>

<p>
Small update to add some minimal SVG support (PRs to add more SVG tags and attributes welcome). Also added
<code>fetchpriority</code> attribute. E.g.
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Dream_html</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">osi_logo</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">SVG</span> <span style="color: #000000; font-weight: bold;">in</span>
  svg [xmlns; viewbox <span style="color: #00824f;">~min_x</span>:<span style="color: #00824f;">0</span> <span style="color: #00824f;">~min_y</span>:<span style="color: #00824f;">0</span> <span style="color: #00824f;">~width</span>:<span style="color: #00824f;">100</span> <span style="color: #00824f;">~height</span>:<span style="color: #00824f;">100</span>] [
    path [
      d <span style="color: #ca3400;">"M34,93l11,-29a15,15 0,1,1 9,0l11,29a45,45 0,1,0 -31,0z"</span>;
      stroke <span style="color: #ca3400;">"#142"</span>;
      stroke_width <span style="color: #ca3400;">"2"</span>;
      fill <span style="color: #ca3400;">"#4a5"</span>] <span style="color: #242521; background-color: #fcf7ef;">[]</span>
  ]

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">unimportant</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">HTML</span> <span style="color: #000000; font-weight: bold;">in</span>
  img [
    src <span style="color: #ca3400;">"/images/in_viewport_but_not_important.svg"</span>;
    fetchpriority <span style="color: #242521; background-color: #fcf7ef;">`low</span>;
    alt <span style="color: #ca3400;">"I'm an unimportant image!"</span>;
  ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="5">OCaml Platform Newsletter: September 2023</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-platform-newsletter-september-2023/13314/1">https://discuss.ocaml.org/t/ocaml-platform-newsletter-september-2023/13314/1</a>
</p>
</div>
<div id="outline-container-orgcb30215" class="outline-3">
<h3 id="orgcb30215">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-orgcb30215">
<p>
Welcome to the sixth edition of the OCaml Platform newsletter!
</p>

<p>
Dive into the latest updates from September and discover how the <a href="https://ocaml.org/docs/platform">OCaml Platform</a>
is evolving. Just like in <a href="https://discuss.ocaml.org/tag/platform-newsletter">previous newsletters</a>, it spotlights
the recent developments and enhancements to the OCaml development workflows.
</p>

<p>
In addition to the updates on the Platform team&rsquo;s progress highlighted below, don&rsquo;t hesitate to <a href="https://discuss.ocaml.org/t/a-roadmap-for-the-ocaml-platform-seeking-your-feedback/12238">share your
feedback</a> on the upcoming
Platform roadmap. We&rsquo;ve just updated it based on the most recent feedback and are aiming to adopt it in the coming
weeks, barring new concerns from the community.
</p>

<p>
Happy reading!
</p>

<ul class="org-ul">
<li>Building Packages
<ul class="org-ul">
<li>[Dune] Exploring Package Management in Dune</li>
<li>[opam] Native Support for Windows in opam 2.2</li>
<li>[Dune] Dune Terminal User Interface</li>
<li>[Dune] Support on Niche Platforms</li>
</ul></li>
<li>Generating Documentation
<ul class="org-ul">
<li>[odoc] Add Search Capabilities to odoc</li>
<li>[odoc] Syntax for Images and Assets in odoc</li>
<li>[Dune] Generate Dependencies Documentation with Dune</li>
</ul></li>
<li>Editing and Refactoring Code
<ul class="org-ul">
<li>[Merlin] Support for Project-Wide References in Merlin</li>
<li>[Merlin] Improving Merlinâ€™s Performance</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org70c2977" class="outline-4">
<h4 id="org70c2977">Releases</h4>
<div class="outline-text-4" id="text-org70c2977">
<p>
Here are all the new versions of Platform tools that were released this month:
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/changelog/2023-09-22-merlin-4.11">Merlin 4.11</a></li>
<li><a href="https://ocaml.org/changelog/2023-09-26-merlin-4.12">Merlin 4.12</a></li>
<li><a href="https://ocaml.org/changelog/2023-09-19-ocamlformat-0.26.1">OCamlFormat 0.26.1</a></li>
<li><a href="https://ocaml.org/changelog/2023-09-27-mdx-2.3.1">MDX 2.3.1</a></li>
</ul>

<p>
For detailed release notes and announcements, explore the <a href="https://ocaml.org/changelog">OCaml Changelog</a>.
</p>
</div>
</div>
<div id="outline-container-org6ca3c2a" class="outline-4">
<h4 id="org6ca3c2a">Building Packages</h4>
<div class="outline-text-4" id="text-org6ca3c2a">
</div>
<ul class="org-ul">
<li><a id="org7257977"></a><b>[Dune]</b> Exploring Package Management in Dune<br />
<div class="outline-text-5" id="text-org7257977">
<p>
Contributors: @rgrinberg (Tarides), @Leonidas-from-XIV (Tarides), @gridbugs (Tarides), @kit-ty-kate (Tarides),
@Alizter
</p>

<p>
The biggest highlight from September is that the work to expose the compiler and libraries from packages installed
by Dune to the rest of the project is now complete! This means that there is now a prototype of Dune package
management that can be used to build projects that depend on (simple) opam packages! This is still an early
prototype that&rsquo;s not ready to be tested outside of the core team, but still a significant milestone: :tada:!
</p>

<p>
In addition to this, work in September focussed on three areas:
</p>
<ul class="org-ul">
<li>Increasing coverage of opam features to support more opam packages from the <code>opam-repository</code>. This month, the Dune team added support for new fields, including <code>build-env</code>, <code>setenv</code>, and <code>subst</code>, and they also added support for patching.</li>
<li>Designing and implementing a string manipulation DSL for Dune configurations. This will allow users to express the same amount of dynamism found in opam filters in Dune package lockfiles, which is necessary for converting opam <code>build</code> and <code>install</code> commands into Dune expressions.</li>
<li>Started working on support for custom opam repositories by making the <code>opam-repository</code> configurable in <code>dune-workspace</code>. The next step is to experiment on how opam repositories are stored and accessed. One idea is that all opam repositories would be stored in one revision storage that would supply all the data. This has the advantage that incremental updates are small, which work like pulling via Git. The repo doesn&rsquo;t need to be uncompressed, thus less storage and inodes used.</li>
</ul>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Move packages to private context &#x2013; <a href="https://github.com/ocaml/dune/pull/8467">ocaml/dune#8467</a></li>
<li>Translate <code>build-env</code> from opam file into lock dir &#x2013; <a href="https://github.com/ocaml/dune/pull/8701">ocaml/dune#8701</a></li>
<li>Translate <code>setenv</code> from opam file into Dune lock dir &#x2013; <a href="https://github.com/ocaml/dune/pull/8708">ocaml/dune#8708</a></li>
<li>Translate <code>substs</code> field of opam file into build action &#x2013; <a href="https://github.com/ocaml/dune/pull/8669">ocaml/dune#8669</a></li>
<li>Add patching support to Dune pkg &#x2013; <a href="https://github.com/ocaml/dune/pull/8654">ocaml/dune#8654</a></li>
<li>Copy files from opam repository to lock dir &#x2013; <a href="https://github.com/ocaml/dune/pull/8648">ocaml/dune#8648</a></li>
<li><code>dune.lock</code> is ignored in <code>--release</code> &#x2013; <a href="https://github.com/ocaml/dune/pull/8761">ocaml/dune#8761</a></li>
<li>Opam repositories from <code>dune-workspace</code> &#x2013; <a href="https://github.com/ocaml/dune/pull/8633">ocaml/dune#8633</a></li>
<li>Add <code>dune pkg outdated</code> command for showing outdated packages &#x2013; <a href="https://github.com/ocaml/dune/pull/8773">ocaml/dune#8773</a></li>
<li>Experimental string list language &#x2013; <a href="https://github.com/ocaml/dune/pull/8596">ocaml/dune#8596</a></li>
</ul>
</div>
</li>
<li><a id="org0f18ebe"></a><b>[opam]</b> Native Support for Windows in opam 2.2<br />
<div class="outline-text-5" id="text-org0f18ebe">
<p>
Contributors: @rjbou (OCamlPro), @kit-ty-kate (Tarides), @dra27 (Tarides), @AltGr (OCamlPro)
</p>

<p>
In preparation for the upcoming release of opam 2.2~alpha3, the work has focussed on better handling of path
rewriting for the <code>setenv</code> and <code>build-env</code> opam fields.
</p>

<p>
The <a href="https://github.com/ocaml/opam/pull/5636">proposed change</a> will allow users to specify, in the opam file, the
path separator and format they want for each environment variable in <code>setenv~/~build-env</code>. This ensures the
environment variables are correctly set and usable on Windows.
</p>

<p>
The PR is in review and not quite ready to be merged, but this is the last issue scoped for opam 2.2~alpha3.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Path rewriting for <code>setenv:</code> and <code>build-env:</code> - <a href="https://github.com/ocaml/opam/pull/5636">ocaml/opam#5636</a></li>
</ul>
</div>
</li>
<li><a id="orgd0a3ede"></a><b>[Dune]</b> Dune Terminal User Interface<br />
<div class="outline-text-5" id="text-orgd0a3ede">
<p>
Contributors: @Alizter, @rgrinberg (Tarides)
</p>

<p>
Following the merge of the PR to port Dune TUI to <a href="https://github.com/let-def/lwd">Nottui</a> in August, and the
addition of a few features, @Alizter continued the work on building a full-on Terminal User Interface for Dune with
two pull requests, namely the addition of a <a href="https://github.com/ocaml/dune/pull/8601">Jobs tab in <code>tui</code> mode</a>, and
support for <a href="https://github.com/ocaml/dune/pull/8619">multiline status lines</a>.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Add Jobs tab in <code>tui</code> mode &#x2013; <a href="https://github.com/ocaml/dune/pull/8601">ocaml/dune#8601</a></li>
<li>Multiline status support &#x2013; <a href="https://github.com/ocaml/dune/pull/8619">ocaml/dune#8619</a></li>
</ul>
</div>
</li>
<li><a id="org52f35e2"></a><b>[Dune]</b> Support on Niche Platforms<br />
<div class="outline-text-5" id="text-org52f35e2">
<p>
Contributors: @Alizter
</p>

<p>
Dune now builds on both <a href="https://www.haiku-os.org/">Haiku</a> and Android (using Termux)! This means it is now possible
to build and install both OCaml and Dune on these platforms, which should pave the way for more native OCaml
development.
</p>

<p>
For reference, here is a table of Dune&rsquo;s platform support (with <code>?</code> indicating that further testing is needed):
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Platform</th>
<th scope="col" class="org-left">Support</th>
<th scope="col" class="org-left">Watch</th>
<th scope="col" class="org-left">TUI</th>
<th scope="col" class="org-left">Cache</th>
<th scope="col" class="org-left">Sandboxing</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Linux</td>
<td class="org-left">Full</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">MacOS</td>
<td class="org-left">Full</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">Windows (DKML)</td>
<td class="org-left">Full</td>
<td class="org-left">Yes</td>
<td class="org-left">No*</td>
<td class="org-left">Yes</td>
<td class="org-left">Copy only</td>
</tr>

<tr>
<td class="org-left">Windows (MinGW)</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">Windows (Cygwin)</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">Linux (Android)</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
</tr>

<tr>
<td class="org-left">FreeBSD</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
</tr>

<tr>
<td class="org-left">NetBSD</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
</tr>

<tr>
<td class="org-left">OpenBSD</td>
<td class="org-left">Limited</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
</tr>

<tr>
<td class="org-left">Haiku</td>
<td class="org-left">Limited</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">?</td>
<td class="org-left">?</td>
</tr>
</tbody>
</table>

<p>
If you&rsquo;re working on one of these platforms, don&rsquo;t hesitate to open issues on <a href="https://github.com/ocaml/dune/issues">Dune&rsquo;s bug
tracker</a> if you encounter any problem!
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Add Haiku support &#x2013; <a href="https://github.com/ocaml/dune/pull/8795">ocaml/dune#8795</a></li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd88174e" class="outline-4">
<h4 id="orgd88174e">Generating Documentation</h4>
<div class="outline-text-4" id="text-orgd88174e">
</div>
<ul class="org-ul">
<li><a id="org5193279"></a><b>[odoc]</b> Add Search Capabilities to <code>odoc</code><br />
<div class="outline-text-5" id="text-org5193279">
<p>
Contributors: @panglesd (Tarides), @EmileTrotignon (Tarides), @julow (Tarides), @jonludlam (Tarides)
</p>

<p>
Work continues on adding search capabilities to <code>odoc</code> in order to improve the documentation browsing experience.
</p>

<p>
In September, the <code>odoc</code> team continued reviewing the different pull requests started in August. Peer-reviews
suggested several improvements to to the CLI and the library API.
</p>

<p>
They also worked on client-side performance improvements by loading the search script only when the user clicks on
the search bar, and they made quite a lot of progress on the UI overall.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Support for search in <code>odoc</code> &#x2013; <a href="https://github.com/ocaml/odoc/pull/972">ocaml/odoc#972</a></li>
<li>Collect occurrences information &#x2013; <a href="https://github.com/ocaml/odoc/pull/976">ocaml/odoc#976</a></li>
</ul>
</div>
</li>
<li><a id="orgd4bb989"></a><b>[odoc]</b> Syntax for Images and Assets in <code>odoc</code><br />
<div class="outline-text-5" id="text-orgd4bb989">
<p>
Contributors: @panglesd (Tarides)
</p>

<p>
The effort to add support for images and assets to <code>odoc</code> and bring images to the OCaml.org package documentation
continues!
</p>

<p>
This month, @panglesd opened a PR with an <a href="https://github.com/ocaml/odoc/pull/1002">implementation for asset
references</a>.
</p>

<p>
The exact syntax for medias went through several designs, in particular whether a media is a block, a nestable
block, or an inline element. At the end of the month, @panglesd created a
<a href="https://github.com/ocaml/odoc/pull/1005">PR</a> that builds on the asset references PR in order to add support for
medias.
</p>

<p>
For some time, there has been no official convention on how documentation for opam-installed packages should be
built. With the added complexity of having assets, it was a good time to solve this. A <a href="https://github.com/ocaml/odoc/pull/1011">documentation
PR</a> was opened for this. Warm thank you to @dbuenzli for the thourough
review and participating in establishing these conventions!
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Asset References &#x2013; <a href="https://github.com/ocaml/odoc/pull/1002">ocaml/odoc#1002</a></li>
<li>Medias in <code>odoc</code> &#x2013; <a href="https://github.com/ocaml/odoc/pull/1005">ocaml/odoc#1005</a></li>
<li>Document parent-child convention for installed packages &#x2013; <a href="https://github.com/ocaml/odoc/pull/1011">ocaml/odoc#1011</a></li>
</ul>
</div>
</li>
<li><a id="org31d3880"></a><b>[Dune]</b> Generate Dependencies Documentation with Dune<br />
<div class="outline-text-5" id="text-org31d3880">
<p>
Contributors: @jonludlam (Tarides)
</p>

<p>
Currently, Dune only knows how to build the documentation for the packages in your Dune workspace, meaning that you
can only read the documentation of your dependencies from the <a href="https://ocaml.org/packages">OCaml.org package site</a>.
Alternative <code>odoc</code> drivers, like <a href="https://erratique.ch/software/odig"><code>odig</code></a>, build documentation for all the
packages in your switch and have been the recommended solution for users who prefer to read the dependencies&rsquo;
documentation locally.
</p>

<p>
In an effort to improve the documentation generation experience with Dune, @jonludlam worked on a new version of
Dune rules to generate the documentation. With these rules, Dune will gain the additional ability to build the
combination of the two: a coherent set of docs that cover both switch-installed libraries and local libraries.
</p>

<p>
The <a href="https://github.com/ocaml/dune/pull/8803">PR</a> is in review and is set to be merged in the coming weeks.
</p>

<p>
Future plans for the new rules include better integration with the rest of the platform, improvements in
capabilities to cover the use cases that <code>dune build @doc</code> covers, integration of source rendering, and integration
of search (once it lands in <code>odoc</code>!).
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>New <code>odoc</code> rule &#x2013; <a href="https://github.com/ocaml/dune/pull/8803">ocaml/dune#8803</a></li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org7f49f55" class="outline-4">
<h4 id="org7f49f55">Editing and Refactoring Code</h4>
<div class="outline-text-4" id="text-org7f49f55">
</div>
<ul class="org-ul">
<li><a id="orgf4e25b2"></a><b>[Merlin]</b> Support for Project-Wide References in Merlin<br />
<div class="outline-text-5" id="text-orgf4e25b2">
<p>
Contributors: @voodoos (Tarides), @trefis (Tarides), @Ekdohibs (OCamlPro), @gasche (INRIA)
</p>

<p>
In August, the Merlin team opened the PR on the compiler that adds the necessary information in the Shapes to
implement project-wide references.
</p>

<p>
The <a href="https://github.com/ocaml/ocaml/pull/12508">PR</a> received reviews, so the team worked on taking the feedback into
account while also continuing work on the rest of the stack (build system rules, the indexer and new locate, and
occurrences backends for Merlin).
</p>

<p>
They also consolidated a release plan and timeline. The plan is to first release an experimental 4.14-based variant
of the compiler in order to gather feedback on this eagerly awaited feature before the end of the year. The current
aim is to provide official project-wide occurrences support in OCaml 5.2.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Add support for project-wide occurrences to the compiler &#x2013; <a href="https://github.com/ocaml/ocaml/pull/12508">ocaml/ocaml#12508</a></li>
<li>Use new compile information in CMT files to build and aggregate indexes &#x2013; <a href="https://github.com/voodoos/ocaml-uideps/pull/5">voodoos/ocaml-uideps#5</a></li>
<li>Dune orchestrates index generation &#x2013; <a href="https://github.com/voodoos/dune/pull/1">voodoos/dune#1</a></li>
<li>Use new CMT info to provide buffer occurrences and indexes for project-wide occurrences &#x2013; <a href="https://github.com/voodoos/merlin/pull/7">voodoos/merlin#7</a></li>
<li>Support project-wide occurrences in <code>ocaml-lsp</code> &#x2013; <a href="https://github.com/voodoos/ocaml-lsp/pull/1">voodoos/ocaml-lsp#1</a></li>
</ul>
</div>
</li>
<li><a id="orga9b5818"></a><b>[Merlin]</b> Improving Merlin&rsquo;s Performance<br />
<div class="outline-text-5" id="text-orga9b5818">
<p>
Contributed by: @pitag-ha (Tarides), @3Rafal (Tarides), @voodoos (Tarides), @let-def (Tarides)
</p>

<p>
The Merlin team continues work on improving Merlin performance.
</p>

<p>
Before diving into specific performance optimisation, they worked on a benchmarking CI to catch performance
regressions and measure improvements. While at it, they&rsquo;ve also worked on a fuzzy testing CI to catch behaviour
regressions.
</p>

<p>
In September, following the Proof of Concept (PoC) of the fuzzy-testing CI (from the work in July), the team
continued their work on addressing the limitations of the current CI implementation that would prevent it from being
merged in Merlin. Specifically, they focussed on finding a solution to store the fuzzy testing results in a way that
wouldn&rsquo;t bloat the Merlin repository. The current approach is to store the data in a separate Git repository and
pull it when running the fuzzy-testing CI. They&rsquo;ve created a GitHub action workflow that implements this behaviour.
</p>

<p>
Next, the plan is to complete the work on the Merlin CI before gradually shifting focus to performance
optimisations.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>PoC for the Behavior CI â€“ <a href="https://github.com/ocaml/merlin/pull/1657">ocaml/merlin#1657</a></li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-6" class="outline-2">
<h2 id="6">How-To: Buck 2 and OCaml - Build system</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/how-to-buck-2-and-ocaml-build-system/13334/1">https://discuss.ocaml.org/t/how-to-buck-2-and-ocaml-build-system/13334/1</a>
</p>
</div>
<div id="outline-container-orgc30a3a4" class="outline-3">
<h3 id="orgc30a3a4">Roland Csaszar announced</h3>
<div class="outline-text-3" id="text-orgc30a3a4">
<p>
I&rsquo;ve just made a repo containing examples on how to use <a href="https://buck2.build/">Buck 2</a> with OCaml using the
<a href="https://github.com/facebook/ocaml-scripts">ocaml-scripts</a>:
</p>

<p>
<a href="https://github.com/Release-Candidate/OCaml-Buck-2-Examples">OCaml-Buck-2-Examples - GitHub</a>
The example projects do also contain Dune files, so you can compare them.
</p>

<p>
All questions, suggestions and corrections are welcome, also for Meta&rsquo;s OCaml scrips.
</p>

<p>
Why Buck 2 and not Bazel?
</p>

<p>
First: I have never tried Bazel (or the OCaml support), so I cannot say anything about it.
I&rsquo;ve chosen Buck 2 because OCaml support is included by Facebook itself, the
<a href="https://github.com/facebook/buck2/tree/main/prelude">Prelude</a> contains all language rules of Buck 2, there are no
&ldquo;build in&rdquo; and &ldquo;external&rdquo; languages as with Bazel. Buck 2 is written in Rust (which I use, so no extra tooling
needed to build it), Bazel in Java. And Bazel is by Google.
</p>

<p>
But I would just look at the support of each for the languages you want to/need to/must use.
</p>
</div>
</div>
<div id="outline-container-orge73e356" class="outline-3">
<h3 id="orge73e356">Henry Till said</h3>
<div class="outline-text-3" id="text-orge73e356">
<p>
Very cool.
</p>

<p>
Evidently, a couple of the creators of Buck2 gave a talk about this subject at ICFP this year.
</p>

<p>
<a href="https://icfp23.sigplan.org/details/ocaml-2023-papers/1/Buck2-for-OCaml-Users-Developers">https://icfp23.sigplan.org/details/ocaml-2023-papers/1/Buck2-for-OCaml-Users-Developers</a>
</p>

<p>
The slide deck for the talk is available <code>~there~</code>
<a href="https://ndmitchell.com/downloads/slides-buck2_for_ocaml_users_and_developers-09_sep_2023.pdf">here</a>.
</p>

<p>
Hopefully we&rsquo;ll see a video of the presentation on YouTube soon as well. :crossed_fingers:
</p>
</div>
</div>
<div id="outline-container-org28a31df" class="outline-3">
<h3 id="org28a31df">Roland Csaszar said</h3>
<div class="outline-text-3" id="text-org28a31df">
<p>
Yes, this is a good idea.
The official OCaml examples (which do not use Opam packages/the ocaml-scripts) which this talk is about are located
in the Buck 2 repository, in the examples subdirectory <a href="https://github.com/facebook/buck2/tree/main/examples/with_prelude/ocaml">OCaml
examples</a>.
</p>

<p>
Btw. Neil Mitchell is the person behind
<a href="https://github.com/ndmitchell/shake">Shake</a> and the <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/03/build-systems.pdf">Build Systems a la
Carte</a> paper.
</p>
</div>
</div>
</div>
<div id="outline-container-7" class="outline-2">
<h2 id="7">First release of ortac-core, ortac-runtime and ortac-qcheck-stm</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-first-release-of-ortac-core-ortac-runtime-and-ortac-qcheck-stm/13335/1">https://discuss.ocaml.org/t/ann-first-release-of-ortac-core-ortac-runtime-and-ortac-qcheck-stm/13335/1</a>
</p>
</div>
<div id="outline-container-org7b106a4" class="outline-3">
<h3 id="org7b106a4">Nicolas Osborne announced</h3>
<div class="outline-text-3" id="text-org7b106a4">
<p>
We are very happy to announce the initial release of <code>ortac-core</code>, ortac-runtime~ and <code>ortac-qcheck-stm</code>.
</p>

<p>
Ortac is a runtime assertion checking tool for OCaml based on Gospel specification language.
</p>

<p>
<code>ortac-core</code> package exposes a library to translate a subset of Gospel specification language into OCaml terms. It
also provides the <code>ortac</code> command-line tool. You will need to have one of Ortac plugins installed to use the <code>ortac</code>
command-line tool.
</p>

<p>
<code>ortac-runtime</code> provides runtime environment that the translated terms depend on. In particular, it provides an
implementation of the executable subset of the Gospel standard library.
</p>

<p>
<code>ortac-qcheck-stm</code> provides a plugin for Ortac. It generates QCheck-STM tests for a module specified with Gospel.
QCheck-STM is a model-based testing framework and Ortac/QCheck-STM relies on the Gospel models you gave in the
specifications to build the QCheck-STM tests. See the
<a href="https://ocaml-gospel.github.io/ortac/ortac-qcheck-stm/index.html">documentation</a> for more details on how to write
the specifications and how to uses the tool to test your libraries.
</p>
</div>
</div>
</div>
<div id="outline-container-8" class="outline-2">
<h2 id="8">opam-publish 2.3.0</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-opam-publish-2-3-0/13337/1">https://discuss.ocaml.org/t/ann-opam-publish-2-3-0/13337/1</a>
</p>
</div>
<div id="outline-container-orgbc9a6df" class="outline-3">
<h3 id="orgbc9a6df">Kate announced</h3>
<div class="outline-text-3" id="text-orgbc9a6df">
<p>
Hi everyone,
</p>

<p>
Weâ€™re pleased to announce the release of opam-publish 2.3.0.
</p>

<p>
This release, apart from a couple of light improvements, mainly consists of the following new option:
</p>
<ul class="org-ul">
<li>You can now use opam-publish with the <code>--no-confirmation</code> argument for use in automated pipeline. Use this option with extreme caution if you do use it.</li>
</ul>

<p>
The full changelog is available <a href="https://github.com/ocaml-opam/opam-publish/releases/tag/2.3.0">here</a>.
</p>

<p>
Enjoy,
The opam team.
</p>
</div>
</div>
</div>
<div id="outline-container-org217e984" class="outline-2">
<h2 id="org217e984">Old CWN</h2>
<div class="outline-text-2" id="text-org217e984">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="org676a625">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>