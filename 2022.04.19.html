<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-04-19 Tue 07:31 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.04.12.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.04.26.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of April 12 to 19, 2022.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">Lwt informal user survey</a></li>
<li><a href="#2">pyml_bindgen: a CLI app to generate Python bindings directly from OCaml value specifications</a></li>
<li><a href="#3">Creating a library for use from JS with js_of_ocaml</a></li>
<li><a href="#4">ocaml-lsp-server 1.11.0</a></li>
<li><a href="#5">OCaml summer school in Spain, call for industry speakers</a></li>
<li><a href="#6">Dune 3.1.0</a></li>
<li><a href="#org3e6d723">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Lwt informal user survey</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/lwt-informal-user-survey/9666/1">https://discuss.ocaml.org/t/lwt-informal-user-survey/9666/1</a>
</p>
</div>

<div id="outline-container-orgc171287" class="outline-3">
<h3 id="orgc171287">Raphaël Proust announced</h3>
<div class="outline-text-3" id="text-orgc171287">
<p>
In order to make some decisions relating to the maintenance of Lwt, I'd like to know a little bit more about how the
library is used in the wild. Do not hesitate to respond to the poll and/or as a message in this thread, or even to
contact me via other means in case discuss is not your jam.
</p>

<p>
<i>Editor’s note: please follow the link above to reply to the survey.</i>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">pyml_bindgen: a CLI app to generate Python bindings directly from OCaml value specifications</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-pyml-bindgen-a-cli-app-to-generate-python-bindings-directly-from-ocaml-value-specifications/8786/7">https://discuss.ocaml.org/t/ann-pyml-bindgen-a-cli-app-to-generate-python-bindings-directly-from-ocaml-value-specifications/8786/7</a>
</p>
</div>

<div id="outline-container-orgdd3d122" class="outline-3">
<h3 id="orgdd3d122">Continuing this thread, Ryan Moore announced</h3>
<div class="outline-text-3" id="text-orgdd3d122">
<p>
I wrote a <a href="https://www.tenderisthebyte.com/blog/2022/04/12/ocaml-python-bindgen/">blog post</a> providing an
introduction to <code>pyml_bindgen</code>.  It gives an intro in a slightly different style as compared to the
<a href="https://mooreryan.github.io/ocaml_python_bindgen/">docs</a> and the
<a href="https://github.com/mooreryan/ocaml_python_bindgen/tree/main/examples">examples</a>, and includes some of the latest
features I've been working on.
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Creating a library for use from JS with js_of_ocaml</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/creating-a-library-for-use-from-js-with-js-of-ocaml/9523/5">https://discuss.ocaml.org/t/creating-a-library-for-use-from-js-with-js-of-ocaml/9523/5</a>
</p>
</div>

<div id="outline-container-org21340a7" class="outline-3">
<h3 id="org21340a7">Deep in this thread, threepwood said</h3>
<div class="outline-text-3" id="text-org21340a7">
<p>
Cautionary note for anyone reading this in the future: dynamic imports are asynchronous, and initializing the jsoo
runtime takes some milliseconds, so that if you just do:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span>(<span style="color: #8b2252;">"ocaml/export.bc.js"</span>);
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">x</span> = mylib.myfunction();
</pre>
</div>
<p>
the second line will fail as <code>mylib</code> is not defined yet (at least this is what I think is happening). You need to
guarantee the module is done initializing in some way or other.
</p>
</div>
</div>


<div id="outline-container-org4593d28" class="outline-3">
<h3 id="org4593d28">Kim Nguyễn then said</h3>
<div class="outline-text-3" id="text-org4593d28">
<p>
<code>import</code> should return a promise of the loaded module. So you can just <code>await</code> for it (if your current context allows
you to write <code>await</code>) or just :
</p>
<div class="org-src-container">
<pre class="src src-js"> <span style="color: #a020f0;">import</span>(<span style="color: #8b2252;">"ocaml/export.bc.js"</span>).then ((_) =&gt; {

 mylib.myfunction();

});
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">ocaml-lsp-server 1.11.0</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-lsp-server-1-11-0/9677/1">https://discuss.ocaml.org/t/ann-ocaml-lsp-server-1-11-0/9677/1</a>
</p>
</div>

<div id="outline-container-org1091baa" class="outline-3">
<h3 id="org1091baa">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-org1091baa">
<p>
On behalf of the ocamllsp team, I'm excited to announce the availability of version 1.11.0. This release is an
important milestone for the project because it introduces integration with our favorite build system. When you run
dune in watch mode, you will now be able to see build errors in the diagnostics panel of your editor. It's all rather
experimental for now, so your feedback and bug reports are appreciated.
</p>

<p>
As usual, the full change log is below.
</p>

<p>
Happy hacking.
</p>

<p>
<b>1.11.0</b>
</p>
</div>

<div id="outline-container-orge26c95f" class="outline-4">
<h4 id="orge26c95f">Features</h4>
<div class="outline-text-4" id="text-orge26c95f">
<ul class="org-ul">
<li>Add support for dune in watch mode. The lsp server will now display build
errors in the diagnostics and offer promotion code actions.</li>

<li>Re-introduce ocamlformat-rpc (#599, fixes #495)</li>
</ul>
</div>
</div>

<div id="outline-container-orgabcf371" class="outline-4">
<h4 id="orgabcf371">Fixes</h4>
<div class="outline-text-4" id="text-orgabcf371">
<ul class="org-ul">
<li>Fix workspace symbols that could have a wrong path in some cases
(<a href="https://github.com/ocaml/ocaml-lsp/pull/671">#675</a>)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">OCaml summer school in Spain, call for industry speakers</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-summer-school-in-spain-call-for-industry-speakers/9685/1">https://discuss.ocaml.org/t/ocaml-summer-school-in-spain-call-for-industry-speakers/9685/1</a>
</p>
</div>

<div id="outline-container-org0c135f0" class="outline-3">
<h3 id="org0c135f0">Roberto Blanco announced</h3>
<div class="outline-text-3" id="text-org0c135f0">
<p>
Dear all, Ricardo Rodríguez and I are organizing an introductory OCaml course as part of the annual summer school of
the University of Zaragoza in Spain. (This is the oldest summer university in the country, nearing its centennial
anniversary!). The country's computing programs are quite excellent, although we have found them to generally not pay
serious attention to modern functional programming. Our goal is to use OCaml to begin to address this dearth.
</p>

<p>
In addition to the regular academic program we are planning a satellite event open to the general public. This is
meant to introduce the OCaml ecosystem to a wider audience of students and academics, as well as professionals. As
part of this, we would like to hold a round table discussion of industrial OCaml users to demonstrate the width and
depth of practical uses of the language. There will be time for participants to present their work in more detail, if
they wish to do so.
</p>

<p>
If you may be interested in participating or have any questions, feel free to write to me here or send email to
either of us. The course is currently in its planning stages; it is scheduled to take place in early to mid July, in
all likelihood in the city of Zaragoza and in hybrid format. The OCaml Software Foundation is backing the initiative
and we thank them for their generous support.
</p>

<p>
Updated information about the course will be available on its website:
<a href="https://webdiis.unizar.es/evpf/">https://webdiis.unizar.es/evpf/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Dune 3.1.0</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-dune-3-1-0/9690/1">https://discuss.ocaml.org/t/ann-dune-3-1-0/9690/1</a>
</p>
</div>

<div id="outline-container-org772a31d" class="outline-3">
<h3 id="org772a31d">Rudi Grinberg announced</h3>
<div class="outline-text-3" id="text-org772a31d">
<p>
On behalf of the dune team, I'm pleased to announce version 3.1.0. This release contains some small, but interesting
features, and some important quality of life bug fixes. I encourage everyone to upgrade as soon as possible.
</p>

<p>
Happy Hacking.
</p>

<p>
<b>3.1.0 (15/04/2022)</b>
</p>

<ul class="org-ul">
<li>Add <code>sourcehut</code> as an option for defining project sources in dune-project
files. For example, <code>(source (sourcehut user/repo))</code>. (#5564, @rgrinberg)</li>

<li>Add <code>dune coq top</code> command for running a Coq toplevel (#5457, @rlepigre)</li>

<li>Fix dune exec dumping database in wrong directory (#5544, @bobot)</li>

<li>Always output absolute paths for locations in RPC reported diagnostics
(#5539, @rgrinberg)</li>

<li>Add <code>(deps &lt;deps&gt;)</code> in ctype field (#5346, @bobot)</li>

<li>Add <code>(include &lt;file&gt;)</code> constructor to dependency specifications. This can be
used to introduce dynamic dependencies (#5442, @anmonteiro)</li>

<li>Ensure that <code>dune describe</code> computes a transitively closed set of
libraries (#5395, @esope)</li>

<li>Add direct dependencies to $ dune describe output (#5412, @esope)</li>

<li>Show auto-detected concurrency on Windows too (#5502, @MisterDA)</li>

<li>Fix operations that remove folders with absolute path. This happens when
using esy (#5507, @EduardoRFS)</li>

<li>Dune will not fail if some directories are non-empty when uninstalling.
(#5543, fixes #5542, @nojb)</li>

<li><code>coqdep</code> now depends only on the filesystem layout of the .v files,
and not on their contents (#5547, helps with #5100, @ejgallego)</li>

<li>The mdx stanza 0.2 can now be used with <code>(implicit_transitive_deps false)</code>
(#5558, fixes #5499, @emillon)</li>

<li>Fix missing parenthesis in printing of corresponding terminal command for
<code>(with-outputs-to )</code> (#5551, fixes #5546, @Alizter)</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org3e6d723" class="outline-2">
<h2 id="org3e6d723">Old CWN</h2>
<div class="outline-text-2" id="text-org3e6d723">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org19e0d05">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
