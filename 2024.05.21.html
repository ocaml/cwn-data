<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-05-21 Tue 15:05 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2024.05.14.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2024.05.28.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of May 14 to 21, 2024.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">We Want Your Feedback on the odoc Developer Experience</a></li>
<li><a href="#2">Windows compiler support in opam 2.2.0~beta2</a></li>
<li><a href="#3">OCaml Workshop 2024 at ICFP &#x2013; announcement and call for proposals</a></li>
<li><a href="#4">Odoc syntax cheatsheet</a></li>
<li><a href="#5">DkCoder 0.2 - Scripting in OCaml</a></li>
<li><a href="#6">Imandra SysML Transpiler Internship Opportunity!</a></li>
<li><a href="#7">Bam - A property-based testing with internal shrinking</a></li>
<li><a href="#8">Stitch - Note Managing for Unorganized Minimalists</a></li>
<li><a href="#9">7 OCaml Gotchas</a></li>
<li><a href="#10">Using OCaml on windows with WSL</a></li>
<li><a href="#11">Other OCaml News</a></li>
<li><a href="#orga11fafc">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">We Want Your Feedback on the odoc Developer Experience</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/we-want-your-feedback-on-the-odoc-developer-experience/14646/1">https://discuss.ocaml.org/t/we-want-your-feedback-on-the-odoc-developer-experience/14646/1</a>
</p>
</div>

<div id="outline-container-org4242747" class="outline-3">
<h3 id="org4242747">Sabine Schmaltz announced</h3>
<div class="outline-text-3" id="text-org4242747">
<p>
Hey all, üß°üê´
</p>

<p>
the documentation team at <a href="https://tarides.com">Tarides</a> is looking for input and feedback on odoc.
</p>

<p>
I would be super happy if everyone who uses odoc or would use odoc if it worked for them can drop an answer in this feedback form:
</p>

<p>
<a href="https://docs.google.com/forms/d/e/1FAIpQLSfpZHlnbQjWolAhKJvn41aT5QJc7Gb7uZJSdtTT7MZeAdyMow/viewform?usp=sf_link">https://docs.google.com/forms/d/e/1FAIpQLSfpZHlnbQjWolAhKJvn41aT5QJc7Gb7uZJSdtTT7MZeAdyMow/viewform?usp=sf_link</a>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Windows compiler support in opam 2.2.0~beta2</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/windows-compiler-support-in-opam-2-2-0-beta2/14648/1">https://discuss.ocaml.org/t/windows-compiler-support-in-opam-2-2-0-beta2/14648/1</a>
</p>
</div>

<div id="outline-container-org8410ffc" class="outline-3">
<h3 id="org8410ffc">David Allsopp announced</h3>
<div class="outline-text-3" id="text-org8410ffc">
<p>
On behalf of the entire opam team, but also with a personal sense of relief, I'm very pleased to announce that the process of upstreaming support for Windows OCaml to opam-repository in <a href="https://github.com/ocaml/opam-repository/pull/25861">ocaml/opam-repository#25861</a> finally started on Friday!
</p>

<p>
There's a full <a href="https://opam.ocaml.org/blog/opam-2-2-0-windows/">blog post</a> with details on how you can try this out now with opam 2.2.0~beta2. The TL;DR, assuming you have winget on your Windows system (open the Microsoft Store app and install the <a href="https://apps.microsoft.com/detail/9nblggh4nns1">App Installer</a> package from Microsoft if you don't) then you can issue:
</p>

<pre class="example" id="org6517629">
winget install Git.Git
</pre>

<p>
if you don't have Git for Windows and:
</p>

<pre class="example" id="org9c9e4d7">
winget install opam
</pre>

<p>
if you don't yet have the 2.2.0~beta2 binary. <b>You must then launch a fresh Command Prompt / PowerShell session</b>. For there, you can then run:
</p>

<pre class="example" id="orgb8c77aa">
opam init git+https://github.com/dra27/opam-repository.git#windows-initial
</pre>

<p>
or
</p>

<pre class="example" id="orgb34f2b1">
opam init -a --no-git-location --cygwin-internal-install git+https://github.com/dra27/opam-repository.git#windows-initial
</pre>

<p>
if you'd like to be asked fewer questions. <b>There is a known and big pause when updating the repository</b>. However, after a little bit of time (coffee, or <a href="https://xkcd.com/303/">a sword battle</a>, if that's your thing), you should then be faced with a fully initialised opam with ocaml-base-compiler.5.2.0 installed for the mingw-w64 amd64 port of native Windows opam.
</p>

<p>
Things with depexts will likely not work: the blog post contains details on how to get started with PRs, but issues are also helpful.
</p>

<p>
The blog post covers what we regard as the "default use case" - that is a native Windows user expecting to use this new OCaml thing they heard about natively. i.e. not running in WSL or Cygwin or MSYS2 or any other "are you sure can't just install Linux on that?" approach.
</p>

<p>
However, all the other use cases matter too! You're meant to be able to run native Windows opam from your own Cygwin or MSYS2 mintty bash terminal; we are aiming for the opam 2.2.0 binary to be a drop-in replacement (apart from setting <code>os-distribution</code> to <code>"cygwinports"</code>) for "OCaml for Windows" for legacy use with <a href="https://github.com/ocaml-opam/opam-repository-mingw">the "sunset" repository</a>; you're meant to be able to provide your own Cygwin or MSYS2 installation if you really need to (and you really might!). But we do need help testing all of it üôÇ
</p>

<p>
We anticipate one further beta of opam 2.2.0 by the end of the month. From the Windows perspective, this will fix a known bug in the environment variable handling (see <a href="https://github.com/ocaml/opam/issues/5838">ocaml/opam#5838</a>) but will also hopefully straighten out the behaviour of <code>opam init</code> for some of these "non-default" use cases. We're then hoping to rocket towards a release candidate in June üöÄ
</p>

<p>
Happy Windows hacking! Please open issues; please ask for further help; please have fun!
</p>

<p>
David, on behalf of the opam team.
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">OCaml Workshop 2024 at ICFP &#x2013; announcement and call for proposals</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-workshop-2024-at-icfp-announcement-and-call-for-proposals/14371/6">https://discuss.ocaml.org/t/ocaml-workshop-2024-at-icfp-announcement-and-call-for-proposals/14371/6</a>
</p>
</div>

<div id="outline-container-org744aea8" class="outline-3">
<h3 id="org744aea8">Continuing this thread, Sonja Heinze said</h3>
<div class="outline-text-3" id="text-org744aea8">
<p>
One more update, this time about hybrid modalities: We now have the confirmation from sigplan (the organizers behind ICFP) that we'll have the same hybrid modalities as last year :tada: So in particular, speakers can give talks remotely via a Zoom call. We'll also make sure this time that the remote speaker can see the audience over the call. To promote a good atmosphere, communication and engagement, we do prefer to have most talks in-person, but remote talks will be most welcome as well. So, don't hesitate to submit a talk even if you can't make it in person.
</p>

<p>
Cheers,
@Arma√´l and @pitag
</p>

<p>
PD: Once the time comes closer, we'll give detail on youtube live and discord links for remote attendance as well
</p>
</div>
</div>


<div id="outline-container-org9fc5cf2" class="outline-3">
<h3 id="org9fc5cf2">Guillaume Munch-Maccagnoni then added</h3>
<div class="outline-text-3" id="text-org9fc5cf2">
<p>
Thanks, this update about hybridity should also be true for the ML workshop.
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">Odoc syntax cheatsheet</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-odoc-syntax-cheatsheet/14658/1">https://discuss.ocaml.org/t/ann-odoc-syntax-cheatsheet/14658/1</a>
</p>
</div>

<div id="outline-container-org5755d3a" class="outline-3">
<h3 id="org5755d3a">Paul-Elliot announced</h3>
<div class="outline-text-3" id="text-org5755d3a">
<p>
Hello!
</p>

<p>
I'm happy to announce the addition of a <a href="https://ocaml.github.io/odoc/cheatsheet.html">cheatsheet</a> for odoc's syntax!
</p>

<p>
I hope it will make it less painful to learn or refresh yourself on the topic. The <a href="https://ocaml.github.io/odoc/odoc_for_authors.html">full syntax reference</a> is still useful to have some details.
</p>

<p>
Have {b fun} :slight_smile: !
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">DkCoder 0.2 - Scripting in OCaml</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/dkcoder-0-2-scripting-in-ocaml/14560/2">https://discuss.ocaml.org/t/dkcoder-0-2-scripting-in-ocaml/14560/2</a>
</p>
</div>

<div id="outline-container-org949cf59" class="outline-3">
<h3 id="org949cf59">jbeckford announced</h3>
<div class="outline-text-3" id="text-org949cf59">
<p>
The 0.3 version is now available. It has a publicly accessible <a href="https://github.com/diskuv/dkcoder">https://github.com/diskuv/dkcoder</a> so issues can be filed, and <code>cohttp 6.0.0~beta2</code> is now bundled.
</p>

<p>
Most important, 0.3 was sufficient to build the real production service <a href="https://gitlab.com/diskuv/samples/devops/DkSubscribeWebhook">https://gitlab.com/diskuv/samples/devops/DkSubscribeWebhook</a>. It has a Dockerfile and Docker Compose for easy deployment to production, and the Docker container is based on Google's <a href="https://github.com/GoogleContainerTools/distroless#readme">https://github.com/GoogleContainerTools/distroless#readme</a> for a "small" size (well, 100MB is not small but it is not big either). The only executable in the container is <code>ocamlrunx</code> (no <code>/bin/sh</code>, etc.). In an ideal world where I had more time the service would be embedded inside MirageOS instead.
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">Imandra SysML Transpiler Internship Opportunity!</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/imandra-sysml-transpiler-internship-opportunity/14660/1">https://discuss.ocaml.org/t/imandra-sysml-transpiler-internship-opportunity/14660/1</a>
</p>
</div>

<div id="outline-container-orgdb2b939" class="outline-3">
<h3 id="orgdb2b939">Ben Bellick announced</h3>
<div class="outline-text-3" id="text-orgdb2b939">
<p>
I wanted to share an opportunity for a summer internship with Imandra!
</p>

<p>
If you're someone with an interest in writing production OCaml or using a battle-worn automated theorem prover in an industry setting, please apply!
</p>

<p>
It is based in Austin, TX. 
</p>

<p>
You can find more details and apply <a href="https://apply.workable.com/imandra/j/15392A4445/">here</a>. 
</p>

<p>
Thanks!
</p>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">Bam - A property-based testing with internal shrinking</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-bam-a-property-based-testing-with-internal-shrinking/14661/1">https://discuss.ocaml.org/t/ann-bam-a-property-based-testing-with-internal-shrinking/14661/1</a>
</p>
</div>

<div id="outline-container-org30a731c" class="outline-3">
<h3 id="org30a731c">Fran√ßois Thir√© announced</h3>
<div class="outline-text-3" id="text-org30a731c">
<p>
I am excited to introduce <b>Bam</b>, a robust and versatile property-based testing (PBT) library. Bam simplifies the process of testing properties across a wide range of randomly generated values, making it easier to identify and debug issues in your code.
</p>
</div>

<div id="outline-container-org38d97d0" class="outline-4">
<h4 id="org38d97d0">Key Features</h4>
<div class="outline-text-4" id="text-org38d97d0">
<ul class="org-ul">
<li><b>Monad-like Generators</b>: Create new generators easily with a monad-like pattern that works seamlessly with shrinking mechanisms.</li>
<li><b>PPX Support</b>: Automatically derive generators based on type descriptions. The customizable deriver ensures smooth integration into your codebase.</li>
<li><b>Tezt Integration</b>: Integrates with the Tezt test framework, providing a user-friendly experience, especially notable in debugging scenarios.</li>
<li><b>Internal Shrinking</b>: Various default shrinking strategies help efficiently pinpoint minimal counterexamples. Internal shrinking ensures that only 'smaller' values are used during the process, and this is done in a way that is compatible with the monad-like operators.</li>
<li><b>Custom Shrinking</b>: Define custom shrinkers that work well with the existing shrinking strategies.</li>
</ul>
</div>
</div>

<div id="outline-container-orgaa68dfc" class="outline-4">
<h4 id="orgaa68dfc">Installation</h4>
<div class="outline-text-4" id="text-orgaa68dfc">
<p>
You can install Bam using opam:
</p>

<pre class="example" id="org275de41">
opam install bam tezt-bam
</pre>
</div>
</div>

<div id="outline-container-org3b5563f" class="outline-4">
<h4 id="org3b5563f">Getting started</h4>
<div class="outline-text-4" id="text-org3b5563f">
<p>
Here is an example to get you started:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Tezt_bam</span>

<span style="color: #000000; font-weight: bold;">type</span> <span style="color: #444fcf;">t</span> = <span style="color: #242521; background-color: #fcf7ef;">Foo</span> <span style="color: #006f00; font-weight: bold;">of</span> {a: int; b: string} | <span style="color: #242521; background-color: #fcf7ef;">Bar</span> <span style="color: #006f00; font-weight: bold;">of</span> int list <span style="color: #9f0d0f;">[@@deriving gen]</span>
<span style="color: #4f677f; font-style: italic;">(** The deriver creates a value </span><span style="color: #00824f;">[</span><span style="color: #000000; font-weight: bold;">val</span> <span style="color: #a7601f;">gen</span> : t <span style="color: #444fcf;">Bam.Std.</span>t<span style="color: #00824f;">]</span><span style="color: #4f677f; font-style: italic;">. *)</span>

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">register</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">property</span> = <span style="color: #006f00; font-weight: bold;">function</span>
    | <span style="color: #242521; background-color: #fcf7ef;">Foo</span> {a; b} -&gt;
        <span style="color: #006f00; font-weight: bold;">if</span> a &gt; 1_000 <span style="color: #a52a2a;">&amp;&amp;</span> <span style="color: #444fcf;">String.</span>contains b <span style="color: #ca3400;">'z'</span> <span style="color: #006f00; font-weight: bold;">then</span>
          <span style="color: #242521; background-color: #fcf7ef;">Error</span> (<span style="color: #242521; background-color: #fcf7ef;">`Fail</span> <span style="color: #ca3400;">"A counter-example was found"</span>)
        <span style="color: #006f00; font-weight: bold;">else</span> <span style="color: #242521; background-color: #fcf7ef;">Ok</span> ()
    | <span style="color: #242521; background-color: #fcf7ef;">Bar</span> [1; 2; 3; 4] -&gt;
        <span style="color: #242521; background-color: #fcf7ef;">Error</span> <span style="color: #242521; background-color: #fcf7ef;">`Bad_value</span>
    | <span style="color: #242521; background-color: #fcf7ef;">Bar</span> _ -&gt;
        <span style="color: #242521; background-color: #fcf7ef;">Ok</span> ()
  <span style="color: #000000; font-weight: bold;">in</span>  
  <span style="color: #444fcf;">Pbt.</span>register ~<span style="color: #00824f;">__FILE__</span> <span style="color: #00824f;">~title</span>:<span style="color: #ca3400;">"Simple example of bam"</span> <span style="color: #00824f;">~tags</span>:[<span style="color: #ca3400;">"bam"</span>; <span style="color: #ca3400;">"simple"</span>]
    ~gen ~property ()

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">_</span> = 
    register ();
    <span style="color: #444fcf;">Test.</span>run ()
</pre>
</div>

<p>
There are several more detailed <a href="https://github.com/francoisthire/bam/tree/master/example">examples</a> in the repository to show you around the library.
</p>
</div>
</div>

<div id="outline-container-org76b01e5" class="outline-4">
<h4 id="org76b01e5">Contributions</h4>
<div class="outline-text-4" id="text-org76b01e5">
<p>
Contributions from the community are welcome! If you have ideas, bug reports, or improvements, feel free to share them!
</p>
</div>
</div>
</div>


<div id="outline-container-org266ef75" class="outline-3">
<h3 id="org266ef75">Kakadu asked and Fran√ßois Thir√© replied</h3>
<div class="outline-text-3" id="text-org266ef75">
<blockquote>
<p>
Can it be compared to <a href="https://github.com/c-cube/qcheck/">https://github.com/c-cube/qcheck/</a> ?
</p>
</blockquote>

<p>
My work around <i>Bam</i> started after using "QCheck" and especially "QCheck2" quite a lot for the Tezos project.
</p>

<p>
With respect to QCheck, QCheck2 came with "integrated" shrinking allowing to derive automatically shrinkers for generators. This aim
to simplify debugging when a counter-example is found, so that a smaller example is reported to the user.
</p>

<p>
However, this came with a cost:
</p>
<ul class="org-ul">
<li>Performance-wise, there was a regression from "QCheck", especially the time taken to report a counter-example because the shrinking process was taking a lot of time</li>
<li>At some point, we even faced an issue were the shrinking process never ended. We started to implement an ad-hoc shrinker but it was not working either and we never really figured out. The solution was to deactivate shrinking</li>
<li>There are other UX considerations: debugging can be tedious (especially "hello" debugging)</li>
</ul>

<p>
So basically <i>Bam</i> started as an experiment to understand shrinking and come up with something easier to understand and compose
better. This is why <i>bam</i> relies mainly on monadic operators.
</p>

<p>
This makes the writing of generators easier, the shrinking is <i>internal</i> ensuring the shrinking won't create new value. If you use
the mondic operator of QCheck2, last time I checked it was not the case. This is why to create a generator for a pair, it is
recommended to use <code>tup2</code> instead of monadic operators.
</p>

<p>
Using monadic-operators allows you also to have a smaller kernel that is hopefully easier to maintain.
</p>

<p>
I also developped the integration of <i>bam</i> with Tezt in a way to avoid currently pitfalls we had with <code>QCheck2</code>:
</p>
<ul class="org-ul">
<li>You can easily control the stopping condition of the test</li>
<li>The test can be easily run in parallel or in a loop mode to help you find a counter-example quicker</li>
<li>The runner can fail if not enough values were generated or execution was too long (likely due to a regression)</li>
<li>It captures the output, so that only the one for the counter-example printed is shown. This is very handy during debugging. Otherwise, it is quite tedious to understand which line comes from which attempt</li>
<li>It is easy to opt-out from shrinking if it takes too much time. Can be useful for a CI. Shrinking only needs to be executed locally (assuming the property is deterministic) with a given seed</li>
</ul>

<p>
I also had some fun trying to define shrinking strategies allowing you to skip elements in a list. This is very handy when your
property is about running a scenario made of a list of actions (a use-case very close to the monolith library from Fran√ßois Pottier).
In general the initial counter-example contains superfluous actions. Such a strategy allows you to remove them to easy the debugging.
</p>

<p>
I don't have concrete data to compare Bam with QCheck2 at the moment. Let me know if you have ideas to make an objective comparison
between those two libraries.
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">Stitch - Note Managing for Unorganized Minimalists</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/stitch-note-managing-for-unorganized-minimalists/14664/1">https://discuss.ocaml.org/t/stitch-note-managing-for-unorganized-minimalists/14664/1</a>
</p>
</div>

<div id="outline-container-org4594c78" class="outline-3">
<h3 id="org4594c78">Marc Coquand announced</h3>
<div class="outline-text-3" id="text-org4594c78">
<p>
Hey everyone!
</p>

<p>
I wanted to share a cli tool built in OCaml I've been working on, that was only possible with the help of the community. :slight_smile: 
</p>

<p>
The tool is called stitch, and is a minimal note-managing tool that aims to be a good unix citizen. It allows you to take notes in whatever format/editor you want while spending minimal time organizing them.
</p>

<p>
I built it using Cmdliner, Notty and Shexp. I'm drafting a longer writeup to share the challenges and general experience, but in short all three libraries were a bit short on examples but ultimately excellent and very easy to work with. Afterward, packaging everything turned out to be a bit harder.
</p>

<p>
Some screenshots: <a href="https://blobs.mccd.space/stitch/notes-view.png">overview</a>, <a href="https://blobs.mccd.space/stitch/todo-view.png">todo</a>, <a href="https://blobs.mccd.space/stitch/full-notes-view.png">full-notes</a>.
</p>

<p>
And link to repo:
</p>

<p>
<a href="https://git.mccd.space/pub/stitch/about/">https://git.mccd.space/pub/stitch/about/</a>
</p>

<p>
It's still in it's early days and the code-base is a bit messy. But I use it as my daily driver for notes. :slight_smile:
</p>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">7 OCaml Gotchas</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-7-ocaml-gotchas/14667/1">https://discuss.ocaml.org/t/blog-7-ocaml-gotchas/14667/1</a>
</p>
</div>

<div id="outline-container-orgb42dd20" class="outline-3">
<h3 id="orgb42dd20">Dmitrii Kovanikov announced</h3>
<div class="outline-text-3" id="text-orgb42dd20">
<p>
Hi everyone! :wave: 
</p>

<p>
I've been using OCaml for a while, and I'm quite enjoying the language. In my not-so-long journey, I discovered a few surprising OCaml behaviours, so I decided to share them with everyone in a blog post.
</p>

<ul class="org-ul">
<li><a href="https://dev.to/chshersh/7-ocaml-gotchas-207e">7 OCaml Gotchas</a></li>
</ul>

<p>
I hope it reduces frustration for newcomers when they see something unexpected for the first time!
</p>
</div>
</div>
</div>




<div id="outline-container-10" class="outline-2">
<h2 id="10">Using OCaml on windows with WSL</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/blog-using-ocaml-on-windows-with-wsl/14671/1">https://discuss.ocaml.org/t/blog-using-ocaml-on-windows-with-wsl/14671/1</a>
</p>
</div>

<div id="outline-container-org01b0e68" class="outline-3">
<h3 id="org01b0e68">PizieDust announced</h3>
<div class="outline-text-3" id="text-org01b0e68">
<p>
When I got started in OCaml, my setup was basically a dual boot of Windows 11 and Ubuntu. I had a few issues setting up OCaml on windows at the time and started looking up WSL and if it was a good alternative (I really disliked having to dual boot always). So I wrote this article detailing exactly how I setup OCaml on WSL and have been using it for the past 12 months with no issues. So if you are looking to get started with programming in OCaml on windows, this article is for you.
</p>

<p>
<a href="https://tarides.com/blog/2024-05-08-how-to-setup-ocaml-on-windows-with-wsl/">How to setup OCaml on Windows with WSL</a>
</p>

<p>
Note:
<code>opam 2.2</code> makes it a breeze using OCaml on windows natively so if you are particularly interested about using OCaml without WSL you should check it out.
</p>
</div>
</div>
</div>




<div id="outline-container-11" class="outline-2">
<h2 id="11">Other OCaml News</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org09fa45f" class="outline-3">
<h3 id="org09fa45f">From the ocaml.org blog</h3>
<div class="outline-text-3" id="text-org09fa45f">
<p>
Here are links from many OCaml blogs aggregated at <a href="https://ocaml.org/blog/">the ocaml.org blog</a>.
</p>

<ul class="org-ul">
<li><a href="https://hannes.robur.coop/Posts/Retreat2024">The MirageOS retreat 2024</a></li>
<li><a href="https://tarides.com/blog/2024-05-15-the-ocaml-5-2-release-features-and-fixes">The OCaml 5.2 Release: Features and Fixes!</a></li>
<li><a href="https://frama-c.com/fc-versions/copper.html">Beta release of Frama-C 29.0~beta (Copper)</a></li>
<li><a href="https://priver.dev/blog/ocaml/bye-opam-hello-nix/">Bye Opam, Hello Nix</a></li>
<li><a href="https://tarides.com/blog/2024-05-08-how-to-setup-ocaml-on-windows-with-wsl">How to Setup OCaml on Windows with WSL</a></li>
<li><a href="https://priver.dev/blog/dbcaml/dbcaml-project/">Announcing DBCaml, Silo, Serde Postgres and a new driver for postgres</a></li>
<li><a href="https://ocamlpro.com/blog/2024_04_30_fixing_and_optimizing_gnucobol">Fixing and Optimizing the GnuCOBOL Preprocessor</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orga11fafc" class="outline-2">
<h2 id="orga11fafc">Old CWN</h2>
<div class="outline-text-2" id="text-orga11fafc">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe to the <a href="https://sympa.inria.fr/sympa/info/caml-list">caml-list</a>.
</p>

<div class="authorname" id="orgc13d9c7">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>