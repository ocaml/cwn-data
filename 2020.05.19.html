<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-05-19 Tue 11:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="http://alan.petitepomme.net/cwn/2020.05.12.html">Previous Week</a> <a href="http://alan.petitepomme.net/cwn/index.html">Up</a> <a href="http://alan.petitepomme.net/cwn/2020.05.26.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of May 12 to 19, 2020.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#1">ocamlformat 0.14.2</a></li>
<li><a href="#2">ML Family Workshop 2020: Call for presentations</a></li>
<li><a href="#3">memprof-limits preview (and a guide to handle asynchronous exceptions)</a></li>
<li><a href="#4">Tezos 7.0 is now available on opam</a></li>
<li><a href="#5">Official OCaml bindings for verified Everest cryptography</a></li>
<li><a href="#6">nmea and sail-gadgets</a></li>
<li><a href="#7">Is there specialized math library for statistics?</a></li>
<li><a href="#8">New OCaml books?</a></li>
<li><a href="#9">Other OCaml News</a></li>
<li><a href="#org29d31a1">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-org4b97204" class="outline-2">
<h2 id="1"><a id="org4b97204"></a>ocamlformat 0.14.2</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocamlformat-0-14-2/5754/1">https://discuss.ocaml.org/t/ann-ocamlformat-0-14-2/5754/1</a>
</p>
</div>

<div id="outline-container-org93af241" class="outline-3">
<h3 id="org93af241">Guillaume Petiot announced</h3>
<div class="outline-text-3" id="text-org93af241">
<p>
We are pleased to announce the release of <code>ocamlformat</code> 0.14.2.
This minor release improves the recent 0.14.0 and 0.14.1 releases regarding the <code>doc-comments</code> option.
</p>
</div>

<div id="outline-container-org017fbfc" class="outline-4">
<h4 id="org017fbfc">How to migrate from 0.13.0</h4>
<div class="outline-text-4" id="text-org017fbfc">
<p>
Here are the changes of the <code>doc-comments</code> options compared to ocamlformat 0.13.0:
</p>
<ul class="org-ul">
<li><code>after</code> has been renamed to <code>after-when-possible</code> to take into account the technical limitations of ocamlformat;</li>
<li>a new value <code>before-except-val</code> has been added, placing doc-comments before the corresponding code, but placing doc-comments of val and external declarations after the corresponding declaration;</li>
<li><code>before</code> is unchanged.</li>
</ul>

<p>
Here is the full list of changes made by the 0.14.0 release: <a href="https://discuss.ocaml.org/t/ann-ocamlformat-0-14-0/5435">https://discuss.ocaml.org/t/ann-ocamlformat-0-14-0/5435</a>
</p>
</div>
</div>

<div id="outline-container-orgcb5ba3d" class="outline-4">
<h4 id="orgcb5ba3d">How to migrate from 0.14.0</h4>
<div class="outline-text-4" id="text-orgcb5ba3d">
<p>
The 0.14.0 release lead to some regression of the <code>doc-comments</code> behavior that (although intended for us) lead to
some surprise from a lot of users.
The behavior of <code>doc-comments</code> has thus been reverted to it's 0.13.0 state with the following changes:
</p>

<p>
The <code>doc-comments-val</code> option has been removed and merged with <code>doc-comments</code>. The placement of documentation
comments on <code>val</code> and <code>external</code> items is now controlled by <code>doc-comments</code> .
</p>

<ul class="org-ul">
<li><code>doc-comments=after</code> becomes <code>doc-comments=after-when-possible</code> to take into account the technical limitations of ocamlformat;</li>
<li><code>doc-comments=before</code> is unchanged;</li>
<li><code>doc-comments-val</code> is now replaced with <code>doc-comments</code></li>
</ul>

<p>
To reproduce the former behaviors
</p>
<ul class="org-ul">
<li><code>doc-comments=before</code> + <code>doc-comments-val=before</code> : now use <code>doc-comments=before</code> ;</li>
<li><code>doc-comments=before</code> + <code>doc-comments-val=after</code> : now use <code>doc-comments=before-except-val</code> ;</li>
<li><code>doc-comments=after</code> + <code>doc-comments-val=before</code> : this behavior did not make much sense and is not available anymore;</li>
<li><code>doc-comments=after</code> + <code>doc-comments-val=after</code> : now use <code>doc-comments=after-when-possible</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-org7c777cb" class="outline-4">
<h4 id="org7c777cb">How to migrate from 0.14.1</h4>
<div class="outline-text-4" id="text-org7c777cb">
<p>
The 0.14.1 release was preserving the behavior of 0.13.0 regarding <code>doc-comments</code>, it added a <code>unset</code> value to the
<code>doc-comments-val</code> option.
This option has been removed with the following changes:
</p>

<p>
The <code>doc-comments-val</code> option has been removed and merged with <code>doc-comments</code>. The placement of documentation
comments on <code>val</code> and <code>external</code> items is now controlled by <code>doc-comments</code> .
</p>

<ul class="org-ul">
<li><code>doc-comments=after</code> becomes <code>doc-comments=after-when-possible</code> to take into account the technical limitations of ocamlformat;</li>
<li><code>doc-comments=before</code> is unchanged;</li>
<li><code>doc-comments-val</code> is now replaced with <code>doc-comments</code></li>
</ul>

<p>
To reproduce the former behaviors
</p>
<ul class="org-ul">
<li><code>doc-comments=before</code> + <code>doc-comments-val=before</code> : now use <code>doc-comments=before</code> ;</li>
<li><code>doc-comments=before</code> + <code>doc-comments-val=after</code> : now use <code>doc-comments=before-except-val</code> ;</li>
<li><code>doc-comments=after</code> + <code>doc-comments-val=before</code> : this behavior did not make much sense and is not available anymore;</li>
<li><code>doc-comments=after</code> + <code>doc-comments-val=after</code> : now use <code>doc-comments=after-when-possible</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-org97db52a" class="outline-4">
<h4 id="org97db52a">Thank you</h4>
<div class="outline-text-4" id="text-org97db52a">
<p>
We would like to thank our early users to help us on the road of a stable 1.0.0 release of ocamlformat.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-orgdecf91d" class="outline-2">
<h2 id="2"><a id="orgdecf91d"></a>ML Family Workshop 2020: Call for presentations</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ml-family-workshop-2020-call-for-presentations/5441/4">https://discuss.ocaml.org/t/ml-family-workshop-2020-call-for-presentations/5441/4</a>
</p>
</div>

<div id="outline-container-orgeb7ee2d" class="outline-3">
<h3 id="orgeb7ee2d">Leo White announced</h3>
<div class="outline-text-3" id="text-orgeb7ee2d">
<p>
ICFP, and by extension the ML workshop, will be now officially be held online with a significantly reduced fee. Due
to the change in official status we decided to extend the submission deadline to the end of May.
</p>
</div>

<div id="outline-container-org9372eb9" class="outline-4">
<h4 id="org9372eb9">Important Dates (updated)</h4>
<div class="outline-text-4" id="text-org9372eb9">
<ul class="org-ul">
<li>Friday 29th May (any time zone): Abstract submission deadline</li>
<li>Friday 17th July: Author notification</li>
<li>Thursday 27th August: ML Family Workshop</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-org2174d22" class="outline-2">
<h2 id="3"><a id="org2174d22"></a>memprof-limits preview (and a guide to handle asynchronous exceptions)</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-memprof-limits-preview-and-a-guide-to-handle-asynchronous-exceptions/5756/1">https://discuss.ocaml.org/t/ann-memprof-limits-preview-and-a-guide-to-handle-asynchronous-exceptions/5756/1</a>
</p>
</div>

<div id="outline-container-org24e81bc" class="outline-3">
<h3 id="org24e81bc">Guillaume Munch-Maccagnoni announced</h3>
<div class="outline-text-3" id="text-org24e81bc">
<p>
Dear OCamlers, I am happy to pre-announce <a href="https://gitlab.com/gadmm/memprof-limits">memprof-limits</a>, an
implementation of per-thread global memory limits, and per-thread allocation limits à la Haskell, compatible with
systhreads.
</p>

<p>
Memprof-limits interrupts the execution by raising an <span class="underline">asynchronous exception</span>, an exception that can arise at almost
any location in the code. I also announce <a href="https://gitlab.com/gadmm/memprof-limits#recover">a guide on how to recover from asynchronous exceptions and other
unexpected exceptions</a> that you find in the documentation. It
summarises knowledge acquired in OCaml by the Coq proof assistant as well as in other programming languages. To my
knowledge, this has never been told in OCaml textbooks, so I thought it might be of general interest to you. This
research is part of a wider work aiming to regulate the use of asynchronous exceptions in OCaml in coordination with
multicore language designers.
</p>

<p>
<span class="underline">Global memory limits</span> let you bound the memory consumption inside specific parts of your program, in terms of memory
used by the whole program. It is inspired by <a href="https://discuss.ocaml.org/t/todays-trick-memory-limits-with-gc-alarms/4431">this other post</a>, but in a form readily available
for use with systhreads.
</p>

<p>
<span class="underline">Allocation limits</span> let you bound the execution of parts of the program measured in number of allocations, analogous
to the same feature in Haskell advocated in <a href="https://simonmar.github.io/posts/2017-01-24-asynchronous-exceptions.html">a nice post by Simon Marlow</a>. Allocation limits count
allocations but <span class="underline">not</span> deallocations, and is therefore a measure of the work done, which can be more suitable than
execution time.
</p>

<p>
Memprof-limits, as the name tells, uses the upcoming Memprof engine from OCaml 4.11, with a low sampling rate that
does not affect performance. A reimplementation of the Memprof interface compatible with memprof-limits running at
the same time is provided for profiling needs.
</p>

<p>
Memprof-limits is available on the public opam repository, but depends on OCaml 4.11 which at the moment is available
from the beta opam repository only. It is <span class="underline">experimental</span> for reasons explained in the manual.
</p>
</div>

<div id="outline-container-orgab9a754" class="outline-4">
<h4 id="orgab9a754">FAQ</h4>
<div class="outline-text-4" id="text-orgab9a754">
</div>
<ul class="org-ul">
<li><a id="org8f5b7bc"></a>“Is it wise to rely on the statistical nature of Memprof? If I set an allocation limit of 100 KB, and run a function that allocates exactly 50 KB, then the function might fail, due to the random nature of Memprof.”<br />
<div class="outline-text-5" id="text-org8f5b7bc">
<p>
Memprof-limits is provided with a <a href="https://gitlab.com/gadmm/memprof-limits#statistical">statistical analysis</a> meant
to help you chose appropriate values for the limit depending on a target safe allocation value. (Nice pictures
omitted because this discuss does not support svg.)
</p>

<p>
Long story short, memprof-limits starts being accurate-enough starting around a safe allocation value of 100 KB with
the default sampling rate (meaning a limit of 1 to 3 MB depending on chosen precision), with the ratio between the
maximal safe allocation and the limit dropping very quickly for higher values. Correctly, the analysis shows that
limits under 500 KB are unreliable.
</p>

<p>
I have found that the statistical nature of Memprof makes it very easy to reason about its application and not have
to factor in runtime implementation details. In addition, Memprof is nevertheless deterministic, which is (essential
and) useful for reproducing runs in test scenarios.
</p>
</div>
</li>

<li><a id="orgd33b227"></a>“But can we really program with memprof-limits, that is, not only write programs but also reason about them, given the probabilistic nature of the guarantees?”<br />
<div class="outline-text-5" id="text-orgd33b227">
<p>
Yes, if we make two additional hypotheses:
</p>

<ol class="org-ol">
<li>Allocation limits (as used in Haskell) are used by determining peak reasonable allocation usage empirically and picking a limit at a comfortable margin over it, rather than computing a precise memory bound to be used as a limit. In very controlled environments where the latter would be possible, there probably would be better solutions, and the language this is inspired from makes it very hard to make predictions on memory use.</li>
<li>The programmer is fine with a very unlikely possibility of a false positive; indeed the program is already designed to let true positives fail without bringing down mission-critical parts of the program. For instance they can prefer to see a legitimate client having a connexion closed once every 10ⁿ year for <b>n</b> of their choosing, if that is the price to pay for avoiding being subject to DOS on maliciously-crafted requests.</li>
</ol>

<p>
Under these hypotheses, the statistical limit is just as reliable as the precise limits à la Haskell.
</p>
</div>
</li>

<li><a id="org7953eb9"></a>“Is it possible to also implement <span class="underline">local memory limits</span>, to bound the memory consumption of a particular function?”<br />
<div class="outline-text-5" id="text-org7953eb9">
<p>
Yes but read on.
</p>

<p>
<a href="https://dl.acm.org/doi/10.1145/2594291.2594341">Yang &amp; Mazières (2014)</a> advocates in favour of an <span class="underline">allocator-pays</span>
model of cost attribution, and note its similarity with memory profiling. In this model, it is possible for instance
to process untrusted user input under some memory limit, before the result is distributed to the rest of the program.
</p>

<p>
Implementing memory limits based on the allocator-pays model, by adapting allocation limits to take into account
deallocations, would be very easy thanks to the facilities provided by Memprof. Moreover, the statistical analysis of
allocation limits can be transposed, and guarantees similarly accuracy at a low runtime cost for limits greater than
100KB.
</p>

<p>
There is one surprising difficulty, though, which has to do with the way the GC works. The GC has a space overhead:
memory that is wasted because unreachable values are not collected immediately. This overhead has to be taken into
account when choosing the limit. However, this overhead is non-local and dependent on the <span class="underline">total</span> major heap size:
one cannot just say “take the double of the desired limit”. Indeed, active threads will pay for memory that has been
allocated in the past and kept alive. More experimentation is needed to provide guidance on how to take the space
overhead into account.
</p>
</div>
</li>

<li><a id="orgb308958"></a>“Can this be used to bound the consumption of lightweight threads in Lwt and Async?”<br />
<div class="outline-text-5" id="text-orgb308958">
<p>
It is straightforward to make memprof-limits parametric in the notion of <span class="underline">thread id</span> used to track per-thread limits.
However, to the best of my knowledge, Lwt and Async are not meant to play well when the computation is interrupted by
asynchronous exceptions. If you have more information about this limitation or are interested in experimenting,
please get in touch.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org840b901" class="outline-4">
<h4 id="org840b901">Thanks</h4>
<div class="outline-text-4" id="text-org840b901">
<p>
Thank you to Jacques-Henri Jourdan for his explanations about Memprof and Stephen Dolan for his feedback.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-orgee34bb1" class="outline-2">
<h2 id="4"><a id="orgee34bb1"></a>Tezos 7.0 is now available on opam</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-tezos-7-0-is-now-available-on-opam/5764/1">https://discuss.ocaml.org/t/ann-tezos-7-0-is-now-available-on-opam/5764/1</a>
</p>
</div>

<div id="outline-container-orgf753a6a" class="outline-3">
<h3 id="orgf753a6a">Pierre Boutillier announced</h3>
<div class="outline-text-3" id="text-orgf753a6a">
<p>
Tezos executables and libraries have just been released on <code>opam</code>. You can thus build them from source with a simple
<code>opam install tezos</code> and build your own projects upon them.
</p>
</div>

<div id="outline-container-org35ab8ac" class="outline-4">
<h4 id="org35ab8ac">What is Tezos</h4>
<div class="outline-text-4" id="text-org35ab8ac">
<p>
Tezos is a distributed consensus platform with meta-consensus capability. Tezos not only comes to consensus about the
state of its ledger, like Bitcoin or Ethereum. It also comes to consensus about how the protocol and the nodes should
adapt and upgrade. For more information about the project, see <a href="https://tezos.com">https://tezos.com</a>.
</p>

<p>
Our implementation of Tezos is written in OCaml. It is split into several libraries (command-line interface
<code>tezos-clic</code>, peer-to-peer library <code>tezos-p2p</code>, cryptographic primitives <code>tezos-crypto~…) and executables (node
~tezos-node</code>, client ~tezos-client~…).
</p>
</div>
</div>

<div id="outline-container-orga4f8b63" class="outline-4">
<h4 id="orga4f8b63">Useful Links</h4>
<div class="outline-text-4" id="text-orga4f8b63">
<p>
Source code for this particular implementation can be found at <a href="https://gitlab.com/tezos/tezos/">https://gitlab.com/tezos/tezos/</a>. Developer
documentation is available at <a href="https://tezos.gitlab.io/">https://tezos.gitlab.io/</a>. In particular, documentation for this specific release
(version 7.0) is available at <a href="http://tezos.gitlab.io/releases/version-7.html">http://tezos.gitlab.io/releases/version-7.html</a>.
</p>
</div>
</div>

<div id="outline-container-org6e6451c" class="outline-4">
<h4 id="org6e6451c">Installation Instructions</h4>
<div class="outline-text-4" id="text-org6e6451c">
<p>
Tezos (internal compiler in order to self amend itself) requires a specific version of the compiler (OCaml 4.09.1):
</p>

<div class="org-src-container">
<pre class="src src-shell">opam switch 4.09.1
</pre>
</div>

<p>
Tezos also requires some external libraries:
</p>

<div class="org-src-container">
<pre class="src src-shell">opam depext tezos
</pre>
</div>

<p>
Finally, to install all binaries:
</p>

<div class="org-src-container">
<pre class="src src-shell">opam install tezos
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org213d990" class="outline-3">
<h3 id="org213d990">Replying to Nick Betteridge, Raphaël Proust said</h3>
<div class="outline-text-3" id="text-org213d990">
<p>
Tezos has a soft-updating mechanism that works (roughly) as follows:
</p>

<p>
The network starts with a genesis protocol (“protocol” here means “economic protocol”: the rules according to which
smart contracts are initiated and acted upon, transactions take place, etc.) in which a single public key is
specified.
</p>

<p>
The genesis protocol has no notion of coin, currency, smart-contract, etc. Instead, the genesis protocol knows a
single operation: a protocol injection.
</p>

<p>
The protocol injection for genesis requires the operation to be signed by the private key that matches the public key
of the genesis block. And the protocol injection changes, irreversibly, the genesis protocol to a new protocol. This
new protocol specifies what constitutes a valid block to add to the chain.
</p>

<p>
In the Tezos blockchain, the protocol injected on top of genesis included a notion of coins and an in-protocol voting
system to inject new protocols based on consensus amongst coin-holders. There is even a system to obtain the protocol
sources over the blockchain network so they can be compiled by each node and dynlinked directly in: you don't need to
update/restart your node to get the protocol updates. However, this is arbitrary: you can start a new block-chain
with a different protocol.
</p>

<p>
For example, you could re-implement Bitcoin (proof-of-work, coins+transfer, etc.) as a protocol that you inject on
top of genesis. Your block chain would have a tezos genesis block, then a block that activate your own version of
bitcoin, and then the blocks would be similar to what you would find on the bitcoin block-chain.
</p>

<p>
Of particular interest to you, the protocol you inject can have entirely different on-chain notions (e.g., a TCG/CCG
with no coins at all but a notion of ownership over cards) and different soft-updating mechanism (e.g., the new
protocol can accept genesis-style updates (a “dictatorship” where a single person controls the protocol) or even no
soft-updating mechanism at all (a “stale” protocol where you need to hard-fork if you want to make significant
changes)).
</p>

<p>
For this use case (of starting your own chain with a different protocol), you might be better off cloning the git
repository, doing some minimal clean up, etc. This is because the tezos binaries include the sources for all
protocols that have been used on the chain (so you don't <b>need</b> to get them over the network even if you can).
</p>

<p>
You might be interested in the following blog post about how to write your own protocol:
<a href="https://blog.nomadic-labs.com/how-to-write-a-tezos-protocol.html">https://blog.nomadic-labs.com/how-to-write-a-tezos-protocol.html</a>
</p>
</div>
</div>
</div>




<div id="outline-container-org7e5ec6d" class="outline-2">
<h2 id="5"><a id="org7e5ec6d"></a>Official OCaml bindings for verified Everest cryptography</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2020-05/msg00017.html">https://sympa.inria.fr/sympa/arc/caml-list/2020-05/msg00017.html</a>
</p>
</div>

<div id="outline-container-orge307173" class="outline-3">
<h3 id="orge307173">Jonathan Protzenko announced</h3>
<div class="outline-text-3" id="text-orge307173">
<p>
The Everest team is pleased to announce the release of official OCaml
bindings for all of our verified cryptographic algorithms, now available
through OPAM as packages hacl-star and hacl-star-raw.
</p>

<p>
We provide bindings for the following:
</p>
<ul class="org-ul">
<li>HACL*, a library of pure C algorithms</li>
<li>Vale, a collection of optimized core assembly routines for maximum performance</li>
<li>EverCrypt, an agile, multiplexing API with CPU auto-detection that brings together HACL* and Vale.</li>
</ul>

<p>
Our code is compiled from the F* programming language to C via the
KReMLin compiler ("K&amp;R meets ML"). We offer two OPAM packages:
</p>
<ul class="org-ul">
<li>hacl-star-raw consists of low-level ocaml-ctypes bindings generated by KReMLin</li>
<li>hacl-star is a hand-written OCaml idiomatic API that uses much more pleasant signatures, types and abstractions and is also safer, as it checks all static preconditions at run-time</li>
</ul>

<p>
We support AES{128,256}-GCM, Chacha20-Poly1305, Curve25519 / Ed25519,
P256, MD5, SHA-{1,2,3} (all variants), Blake2 (s&amp;b), HMAC/HKDF, and the
HPKE and SecretBox high-level APIs. Some algorithms are optimized for
Intel chips, notably AES-GCM &#x2013; see
<a href="https://hacl-star.github.io/Supported.html">https://hacl-star.github.io/Supported.html</a> for full details.
</p>

<p>
General documentation about the project is available at
<a href="https://hacl-star.github.io/index.html">https://hacl-star.github.io/index.html</a> &#x2013; sample code for the OCaml API
is provided as part of the test suite
<a href="https://github.com/project-everest/hacl-star/tree/master/bindings/ocaml/tests">https://github.com/project-everest/hacl-star/tree/master/bindings/ocaml/tests</a>
</p>

<p>
This work was performed by Victor Dumitrescu from Nomadic Labs, one of
the teams responsible for the core development of the Tezos blockchain.
</p>
</div>
</div>
</div>




<div id="outline-container-org0624917" class="outline-2">
<h2 id="6"><a id="org0624917"></a>nmea and sail-gadgets</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-nmea-sail-gadgets/5773/1">https://discuss.ocaml.org/t/ann-nmea-sail-gadgets/5773/1</a>
</p>
</div>

<div id="outline-container-org0a0809d" class="outline-3">
<h3 id="org0a0809d">Davide Gessa announced</h3>
<div class="outline-text-3" id="text-org0a0809d">
<p>
Ahoy developers,
few days ago I published a new ocaml library called <b>nmea</b>, which is essentially a parser for NMEA0183 sentences, a
format for encoding instruments data in boats. There are many sentences, regarding GPS, compass data, wind, air
pressure, water temperature, waypoints handling, ais, autopilot and more; at the moment the library is able to decode
GPS sentences and compass data, but I'll implement more sentences in the spare time. I tested it with my boat GPS and
with a gps usb dongle.
</p>

<p>
After that, I started a new tiny experiment called <b>sail-gadgets</b>, which is a Gtk program that elaborates and
displays NMEA data received from various boat instruments (wind vane, autopilot, gps, radar, ais, etc). Sail-gadgets
can be extended with "gadgets" modules, each one providing new functionalities and new tabs to the main interface.
</p>

<p>
Data from sensors are handled using <i>React</i> signals, so in every gadget we can compose data from various sensor to
obtain new reactive values.
</p>

<p>
The gadgets I'm planning to write:
</p>
<ul class="org-ul">
<li>dashboard: shows current position, speed, heading, tripdist, compass</li>
<li>satview: shows current connected gps satellites (partially done)</li>
<li>wind: shows wind indicator with true / apparent speed and direction</li>
<li>radar: shows AIS and Radar targets in range</li>
<li>mob: allows to drop a marker in the current position, and drive you to that point</li>
<li>startline: helper for regatta start</li>
<li>track: shows current track in a vector map</li>
</ul>

<p>
The hard thing in my opinion is writing new custom widget with cairo (compass, radar, and things like that).
</p>

<p>
Finally, the project is intended to run over <b>gtk-broadway</b>, so every html5 enabled device can access the
application.
</p>


<div class="figure">
<p><img src="https://raw.githubusercontent.com/dakk/sail-gadgets/master/media/broadway.jpg" alt="broadway.jpg" />
</p>
</div>

<p>
Hope there are some sailor here that want to join writing some gadgets :) Repos are:
</p>

<ul class="org-ul">
<li><a href="https://github.com/dakk/nmea">https://github.com/dakk/nmea</a></li>
<li><a href="https://github.com/dakk/sail-gadgets">https://github.com/dakk/sail-gadgets</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org718ed1d" class="outline-2">
<h2 id="7"><a id="org718ed1d"></a>Is there specialized math library for statistics?</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/is-there-specialized-math-library-for-statistics/5778/1">https://discuss.ocaml.org/t/is-there-specialized-math-library-for-statistics/5778/1</a>
</p>
</div>

<div id="outline-container-orgf1dccda" class="outline-3">
<h3 id="orgf1dccda">hss asked</h3>
<div class="outline-text-3" id="text-orgf1dccda">
<p>
I searched to find math library which is written in OCaml, but there are only few repositories.
</p>

<p>
I'd like to use some function like coefficient correlation, covariance, etc.
</p>

<p>
I found Lacaml but it seems not to support them.
</p>

<p>
Could you give some link if you know?
</p>
</div>
</div>


<div id="outline-container-org88719b9" class="outline-3">
<h3 id="org88719b9">bnguyenvanyen replied</h3>
<div class="outline-text-3" id="text-org88719b9">
<p>
Hi, you can take a look at Owl : <a href="https://ocaml.xyz/">https://ocaml.xyz/</a>
</p>

<p>
There are stat functions and also a lot more
</p>
</div>
</div>


<div id="outline-container-org85f4c17" class="outline-3">
<h3 id="org85f4c17">UnixJunkie also replied</h3>
<div class="outline-text-3" id="text-org85f4c17">
<p>
There is also this one: <br />
<a href="https://github.com/superbobry/pareto">https://github.com/superbobry/pareto</a> <br />
GSL powered OCaml statistics library <a href="http://superbobry.github.io/pareto/0.2">http://superbobry.github.io/pareto/0.2</a>
</p>

<p>
And probably even some more:
</p>
<pre class="example">
opam search statistic
# Packages matching: match(*statistic*)
# Name            # Installed # Synopsis
[...]
gsl               --          GSL - Bindings to the GNU Scientific Library
oml               --          Math Library
owl               --          OCaml Scientific and Engineering Computing
owl-plplot        --          OCaml Scientific and Engineering Computing
pareto            --          GSL powered OCaml statistics library.
statsd-client     --          StatsD client library
[...]
</pre>
</div>
</div>
</div>




<div id="outline-container-org3e4754b" class="outline-2">
<h2 id="8"><a id="org3e4754b"></a>New OCaml books?</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/new-ocaml-books/5789/1">https://discuss.ocaml.org/t/new-ocaml-books/5789/1</a>
</p>
</div>

<div id="outline-container-org2dd77d2" class="outline-3">
<h3 id="org2dd77d2">Axel Wintermann asked</h3>
<div class="outline-text-3" id="text-org2dd77d2">
<p>
I wonder, why there are no new OCaml books since 2014 year? Many books are published on Haskell, Scala, F# themes,
but no OCaml. I think  we need new books for learning and for rising interest in our beautiful language.
</p>
</div>
</div>


<div id="outline-container-org9c5bb25" class="outline-3">
<h3 id="org9c5bb25">Takuma Ishikawa replied</h3>
<div class="outline-text-3" id="text-org9c5bb25">
<ul class="org-ul">
<li>There is an ongoing work for 2nd edition of Real World OCaml: <a href="http://dev.realworldocaml.org/">http://dev.realworldocaml.org/</a>.</li>
<li>OCaml Scientific Computing is also ongoing: <a href="https://ocaml.xyz/book/">https://ocaml.xyz/book/</a>.</li>
<li>A Japanese book "コンピュータを操る", published in Feb. 2020 for beginners of programming, uses OCaml Blockly: <a href="https://www.saiensu.co.jp/search/?isbn=978-4-7819-1470-1&amp;y=2020#detail">https://www.saiensu.co.jp/search/?isbn=978-4-7819-1470-1&amp;y=2020#detail</a>.</li>
</ul>
</div>
</div>


<div id="outline-container-orgd709b63" class="outline-3">
<h3 id="orgd709b63">Weng Shiwei also replied</h3>
<div class="outline-text-3" id="text-orgd709b63">
<p>
A Chinese book <a href="https://e.jd.com/30417662.html">OCaml语言编程基础教程</a> (<a href="https://caml.inria.fr/about/books.en.html#idm277">an introduction to OCaml language
programming</a>) is published in 2018.
</p>
</div>
</div>
</div>




<div id="outline-container-orge9d88e1" class="outline-2">
<h2 id="9"><a id="orge9d88e1"></a>Other OCaml News</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgafd1351" class="outline-3">
<h3 id="orgafd1351">From the ocamlcore planet blog</h3>
<div class="outline-text-3" id="text-orgafd1351">
<p>
Here are links from many OCaml blogs aggregated at <a href="http://ocaml.org/community/planet/">OCaml Planet</a>.
</p>

<ul class="org-ul">
<li><a href="http://math.andrej.com/2020/05/15/mmt-a-foundation-independent-logical-system/">Every proof assistant: MMT</a></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org29d31a1" class="outline-2">
<h2 id="org29d31a1">Old CWN</h2>
<div class="outline-text-2" id="text-org29d31a1">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I'll mail it to you, or go take a look at <a href="http://alan.petitepomme.net/cwn/">the archive</a> or the <a href="http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname">
<p>
<a href="http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
