#+OPTIONS: ^:nil
#+OPTIONS: html-postamble:nil
#+OPTIONS: num:nil
#+OPTIONS: toc:nil
#+OPTIONS: author:nil
#+HTML_HEAD: <style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
#+HTML_HEAD: <style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
#+TITLE: OCaml Weekly News
[[https://alan.petitepomme.net/cwn/2026.01.06.html][Previous Week]] [[https://alan.petitepomme.net/cwn/index.html][Up]] [[https://alan.petitepomme.net/cwn/2026.01.20.html][Next Week]]

Hello

Here is the latest OCaml Weekly News, for the week of January 06 to 13, 2026.

#+TOC: headlines 1


* camlid: A library for building C stub generators
:PROPERTIES:
:CUSTOM_ID: 1
:END:
Archive: https://discuss.ocaml.org/t/ann-camlid-a-library-for-building-c-stub-generators/17679/1

** François Bobot announced


Dear all,

I'm happy to announce the first release of [[https://github.com/bobot/camlid][camlid]] ([[https://bobot.github.io/camlid/camlid/index.html][documentation]]).

While there are many C stub generators for OCaml, **camlid** takes a different approach: it is an OCaml library designed to help you build custom C stub generators.

*Key Comparisons*:

- Vs. *Ctypes*: Manipulation of C structures stays in C. You don't need to replicate C type descriptions in OCaml, keeping the compilation and maintenance simple.
- Vs. *Camlidl/SWIG*: The generator is written in pure OCaml. This makes it easier to factorize and customize your bindings without resorting to ~m4~, ~sed~, or complex external DSLs.

*Highlighted Features*:

- *Library-specific initialization*: Easily handle data structure setup.
- *Native Optimization*: supports ~unboxed~/~untagged~ parameters in native mode.
- *Automated Definitions*: Automatically generates the C/OCaml definitions your generated code uses. Referencing a generated C function name in your generated OCaml code automatically triggers its generation in the C file.
- *Free Variables*: Generated functions can contain free variables that are automatically added as formal parameters. This allows you to easily pass a global "context" or "handle" through a generic function without manual boilerplate.

*Example Usage*: Using the built-in helpers, a generator is as simple as:

#+begin_src ocaml
open Camlid
open Helper

 let () = Generate.to_file
    (* Indicates the basename used for the generated files *)
    "mylib"
    (* Indicates header to include *)
    ~headers:["alib.h"]
  [
    func "f_input" [ input int_trunc];
    func "f_output" [ output (ptr_ref int_trunc)];
    func "f_with_res" [] ~result:int_trunc;
    func "f_no_arg_no_result" [];
  ]
#+end_src

Only the ~mli~ of the generated module remains to be written with the documentation. For the first function above, the parameter is correctly marked as ~untagged~ (for OCaml versions that support it):

#+begin_src ocaml
external f_input: (int [@untagged]) -> unit = "camlid_stub_f_input_byte" "camlid_stub_f_input"
#+end_src

A more complex example (converting the ~flint~ binding from Ctypes) can be found [[https://github.com/bobot/ocaml-flint/pull/10/files#diff-ac9bf61dc6c9a2b5edccd9dbf8e06b5ba1d095773061b4f0318addca4e46a59e][here]].

The API is still experimental, and I would love to hear your feedback on the organization and naming! The package is already in the opam repository.

(The [[https://github.com/Khady/modern-ocaml/][modern-ocaml]] template is awesome!)
      



* restricted 1.1 - Restrict possible system operations and filesystem view of your program
:PROPERTIES:
:CUSTOM_ID: 2
:END:
Archive: https://discuss.ocaml.org/t/ann-restricted-1-1-restrict-possible-system-operations-and-filesystem-view-of-your-program/17681/1

** removewingman announced


Hello,

I would like to announce a new package [[https://opam.ocaml.org/packages/restricted/][restricted]].

This library lets you limit which system operations and which parts of the filesystem your program can access. Call it as early as possible in your program so that the rest of the code runs with reduced privileges. Currently, actual enforced restrictions are implemented for these operating systems:

- OpenBSD

Even on other operating systems, you can still use ~restricted~ to document which privileges your program needs. Users can then test that your program respects these promises with tools such as [[https://justine.lol/pledge/][pledge on Linux]]. Enjoy ;)

- opam: https://opam.ocaml.org/packages/restricted/
- homepage: https://codeberg.org/removewingman/restricted
- Documented Interface and Examples: https://codeberg.org/removewingman/restricted#usage-and-examples
- License: [[https://en.wikipedia.org/wiki/GNU_Affero_General_Public_License][AGPL]]

This is my first ocaml library so feel free to give feedback.
      



* OCaml Security Team 2025 End-Of-Year Report
:PROPERTIES:
:CUSTOM_ID: 3
:END:
Archive: https://discuss.ocaml.org/t/ocaml-security-team-2025-end-of-year-report/17689/1

** Hannes Mehnert announced


*** OCaml Security Team 2025 End-Of-Year Report

In May of 2025, the OCaml Software Foundation encouraged the formation of an OCaml Security Team, which would handle issues and provide guidance for improving software security in the OCaml ecosystem. Throughout 2025, the team has been building structure and procedures to accomplish these goals. A regular public update on the team's activity is among many good ideas taken from the Haskell Security Response Team, and we hope the community will find this first public update useful.

The team consists of:

- Hannes Mehnert - @hannesm - individual, robur.coop
- Mindy Preston - @yomimono - individual
- Joe - @cfcs - individual
- Edwin Török - @edwintorok - individual
- Nicolás Ojeda Bär - @nojb - LexiFi
- Louis Roché - @Khady - ahrefs
- Boning Dong - Bloomberg

Until December 2025:
- Maxim Grankin - @maxim092001 - Bloomberg

The newly created website [[https://ocaml.org/security][ocaml.org/security]] gives some guidelines for people finding security issues.

*** Contact and Disclosure Process

The team established a procedure for reporting security issues as one of its first activities. The security disclosure process is available at https://github.com/ocaml/security-advisories?tab=readme-ov-file#reporting-vulnerabilities . The OCaml Security Team can also be contacted at security@ocaml.org for matters besides vulnerability disclosure. Mails to security@ocaml.org are not public.

The public, announce-only mailing list https://sympa.inria.fr/sympa/info/ocsf-ocaml-security-announcements will broadcast information on security advisories.

These procedures were [[https://discuss.ocaml.org/t/ann-ocaml-security-team][announced in July 2025]].

*** Vulnerability Database

A public vulnerability database for OCaml software is another of the Security Team's goals. We indend to accomplish this by publishing information from the existing, but empty https://github.com/ocaml/security-advisories to the public [[https://osv.dev][osv.dev]] database (again borrowing a good idea from the Haskell SRT). Some work on a pipeline for publishing advisories there and backporting existing advisories is ongoing.

*** Tool development

An OCaml library that supports the [[https://github.com/package-url/purl-spec][package URL]] "purl" was developed and released to the opam-repository (https://github.com/hannesm/purl, https://ocaml.org/p/purl/latest). In the process, we propose to make the policy for opam-repository more strict to have immutable packages (where the source is not modified): https://github.com/ocaml/opam-repository/pull/29072. We also propose to integrate opam into the package URL specification https://github.com/package-url/purl-spec/pull/763.

The vulnerability database mentioned above hosts advisories in markdown (with some opam-file-format metadata header). We developed [[https://github.com/hannesm/advisories][tooling]] to convert these into json (following the json schema from osv.dev). We also made OCaml/opam known for the schema https://github.com/ossf/osv-schema/pull/473.

*** Public Meetings and Presentations

On September 15, Hannes Mehnert gave an introduction to the OCaml Security Team at [[https://fun-ocaml.com/][FUN OCaml]] in Warsaw.

Maxim Grankin gave a talk [[https://conf.researchr.org/details/icfp-splash-2025/ocaml-2025-papers/9/Toward-a-More-Secure-OCaml-Ecosystem]["Towards a More Secure OCaml Ecosystem"]] at the OCaml Users and Developers Workshop in October of 2025, which is available at https://www.youtube.com/watch?v=PekeGxGlc3Q .

On October 22 2025, the Security Team held a public meeting, for which the notes are available at https://pad.data.coop/7-Ic5rG6ToynsW02hJsndg?both .

*** Advisories

A potential clickjacking issue with ocurrent's web interface was reported to the Security Team by Kunal Mhaske was fixed by Mark Elvers in https://github.com/ocurrent/ocurrent/pull/465 .

No other communications with the security team have resulted in publicly available remediation information or advisories.

*** Future Plans

The Security Team has received a lot of interest in the advisory database mentioned above, and this work is a high priority for the team.

The Security Team also hopes to publish security guides for OCaml programmers and project maintainers.

The OCaml Software Foundation has indicated that some funding may be available for projects that make OCaml more secure. The Security Team is actively developing a process for soliciting and evaluating proposals, as discussed in the October public meeting.

*** Acknowledgements

The Security Team is an initiative of the OCaml Software Foundation and is grateful to the OCSF and its sponsors for their support.
      



* Lwt.6.0.0 release (direct-style, tracing)
:PROPERTIES:
:CUSTOM_ID: 4
:END:
Archive: https://discuss.ocaml.org/t/ann-lwt-6-0-0-release-direct-style-tracing/17690/1

** Raphaël Proust announced


Version 6.0.0 of Lwt has been [[https://github.com/ocsigen/lwt/releases/tag/6.0.0][released]] through opam! This new version of Lwt brings the following notable additions:

- Lwt_direct: a package/library for using Lwt in direct-style. (Contribution from @c-cube)
- Lwt_runtime_events: a package/library for emmitting runtime-events.

Check the [[https://github.com/ocsigen/lwt/releases/tag/6.0.0][release notes]] for a full changelog), including removal of some deprecated values.
      



* Other OCaml News
:PROPERTIES:
:CUSTOM_ID: 5
:END:
** From the ocaml.org blog


Here are links from many OCaml blogs aggregated at [[https://ocaml.org/blog/][the ocaml.org blog]].

- [[https://patrick.sirref.org/ocaml-roundup-december-2025/][OCaml Roundup: December 2025]]
- [[https://ocamlpro.com/blog/2026_01_08_opam_104_sharing_your_code][Opam 104: Sharing Your Code]]
- [[https://anil.recoil.org/notes/ocaml-claude-dev][Devcontainer for using O(x)Caml and Claude in your projects]]
- [[https://www.chrisarmstrong.dev/posts/what-would-make-ocaml-serverless-ready][What would make OCaml serverless ready?]]
- [[https://blog.janestreet.com/fun-with-algebraic-effects-hardcaml/][Fun with Algebraic Effects - from Toy Examples to Hardcaml Simulations]]
      



* Old CWN
:PROPERTIES:
:UNNUMBERED: t
:END:

If you happen to miss a CWN, you can [[mailto:alan.schmitt@polytechnique.org][send me a message]] and I'll mail it to you, or go take a look at [[https://alan.petitepomme.net/cwn/][the archive]] or the [[https://alan.petitepomme.net/cwn/cwn.rss][RSS feed of the archives]].

If you also wish to receive it every week by mail, you may subscribe to the [[https://sympa.inria.fr/sympa/info/caml-list][caml-list]].

#+BEGIN_authorname
[[https://alan.petitepomme.net/][Alan Schmitt]]
#+END_authorname
