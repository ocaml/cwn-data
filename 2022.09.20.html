<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-09-20 Tue 15:58 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2022.09.13.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2022.09.27.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of September 13 to 20, 2022.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">Sandmark Nightly Service now reports Instructions Retired along with Time</a></li>
<li><a href="#2">Outreachy December 2022</a></li>
<li><a href="#3">Unicode 15.0.0 update for Uucd, Uucp, Uunf and Uuseg</a></li>
<li><a href="#4">OUPS meetup september 2022 (french only)</a></li>
<li><a href="#5">strymonas v2: library for highest-performance stream processing</a></li>
<li><a href="#6">OCaml Community Code of Conduct</a></li>
<li><a href="#7">Use OCaml to interact with Neovim</a></li>
<li><a href="#8">What will be required to transpile OCaml to Lua?</a></li>
<li><a href="#9">OBazl Toolsuite - tools for building OCaml with Bazel</a></li>
<li><a href="#org755a586">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Sandmark Nightly Service now reports Instructions Retired along with Time</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/sandmark-nightly-service-now-reports-instructions-retired-along-with-time/10475/1">https://discuss.ocaml.org/t/sandmark-nightly-service-now-reports-instructions-retired-along-with-time/10475/1</a>
</p>
</div>

<div id="outline-container-orgd1293f6" class="outline-3">
<h3 id="orgd1293f6">Shakthi Kannan announced</h3>
<div class="outline-text-3" id="text-orgd1293f6">
<p>
Sandmark Nightly is a service for the OCaml compiler developers that helps benchmark the development branches of the
compiler on the large set of Sandmark benchmarks on tuned machines and reports the results in an interactive UI.
Currently, Sandmark nightly reported many metrics including running time. But running time is a notoriously noisy
metric on modern architectures due to the effects of modern OS, arch and micro-arch optimisations. There could be
swings of 50% in either directions when the directory in which the program is run changes.
</p>

<p>
While we run Sandmark benchmarks on tuned machines, we still see impact of noise on the real time measurements. To
this end, we introduce a new metric into Sandmark nightly that in addition to real time, would help interpret the
results accounting for the noise. We now report “instructions retired” for Sandmark runs. Instructions retired
report the number of instructions executed by the program during its run and hence is shielded from the noise that
affects real time measurements. Of course, the same number of instructions may be discharged at different rates by
the processor due to instruction-level parallelism and hence, the instructions discharged metric should be used in
conjunction with real time measurements. For example, if a new compiler feature adds 2 instructions to the prolog of
the function, then the instructions retired metric should inform you how many new instructions are actually executed
on top of the baseline.
</p>

<p>
The instructions retired metric is collected from <code>perf</code> command. We also have other useful metrics from perf such
as page faults, branches, branch misses, cache misses at various levels of the hierarchy, etc. We will add graphs to
report these going forward. Enjoy the new feature, and as ever, report issues and bugs to <a href="https://github.com/ocaml-bench/sandmark/issues">Sandmark
Issues</a>.
</p>

<p>
The web service is available at <a href="https://sandmark.tarides.com">https://sandmark.tarides.com</a> and you can select the <code>Perfstat Output</code> radio button
on the left panel as shown below.
</p>


<div id="orgc3584b3" class="figure">
<p><img src="https://global.discourse-cdn.com/standard11/uploads/ocaml/original/2X/5/5f9d3d8d87ba6821e8f41f027ce7a6b0074ec95a.png" alt="5f9d3d8d87ba6821e8f41f027ce7a6b0074ec95a.png" />
</p>
</div>

<p>
After selecting the variants and a baseline for comparison, you can view the normalised <code>instructions per cycle</code>
change as illustrated below:
</p>


<div id="org024660d" class="figure">
<p><img src="https://global.discourse-cdn.com/standard11/uploads/ocaml/original/2X/1/1baf673b1246eb3505f8603a260ee4f22f32fb85.png" alt="1baf673b1246eb3505f8603a260ee4f22f32fb85.png" />
</p>
</div>

<p>
You can also request for your development branches to be added to the Sandmark Nightly Service at the
<a href="https://github.com/ocaml-bench/sandmark-nightly-config">sandmark-nightly-config</a> repository for the nightly runs.
</p>
</div>

<div id="outline-container-orgcd3223b" class="outline-4">
<h4 id="orgcd3223b">References</h4>
<div class="outline-text-4" id="text-orgcd3223b">
<ol class="org-ol">
<li>Run perfstat with Sandmark nightly service. <a href="https://github.com/ocaml-bench/sandmark/pull/394">Sandmark PR #394</a></li>
<li>Add webpage with perfstat output from Sandmark. <a href="https://github.com/ocaml-bench/sandmark-nightly/pull/81">Sandmark-nightly PR #81</a></li>
<li>perfstat.ipynb. <a href="https://github.com/ocaml-bench/sandmark/blob/main/notebooks/perfstat/perfstat.ipynb">Sandmark perfstat Jupyter notebook</a></li>
</ol>
</div>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Outreachy December 2022</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/outreachy-december-2022/10336/18">https://discuss.ocaml.org/t/outreachy-december-2022/10336/18</a>
</p>
</div>

<div id="outline-container-org6c47635" class="outline-3">
<h3 id="org6c47635">Patrick Ferris said</h3>
<div class="outline-text-3" id="text-org6c47635">
<p>
Just a reminder the deadline for mentor signup is in 9 days, the same day as
<a href="https://discuss.ocaml.org/t/outreachy-summer-22-closing-commemoration-session-on-23rd-sept/10450">https://discuss.ocaml.org/t/outreachy-summer-22-closing-commemoration-session-on-23rd-sept/10450</a> :camel:
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">Unicode 15.0.0 update for Uucd, Uucp, Uunf and Uuseg</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-unicode-15-0-0-update-for-uucd-uucp-uunf-and-uuseg/10485/1">https://discuss.ocaml.org/t/ann-unicode-15-0-0-update-for-uucd-uucp-uunf-and-uuseg/10485/1</a>
</p>
</div>

<div id="outline-container-orgd63fe0d" class="outline-3">
<h3 id="orgd63fe0d">Daniel Bünzli announced</h3>
<div class="outline-text-3" id="text-orgd63fe0d">
<p>
Unicode 15.0.0 was released on the 13th of september. It adds 4489 new characters to the standard.
</p>

<p>
Given the increasing contributions from the South Asian subcontinent to OCaml we are glad this includes support for
the 42 (sic) characters of the <a href="https://unicode.org/charts/PDF/Unicode-15.0/U150-1E4D0.pdf">Nag Mundari script</a>. For information about the other additions, see the
<a href="https://blog.unicode.org/2022/09/announcing-unicode-standard-version-150.html">announcement page</a>.
</p>

<p>
Accordingly the libraries mentioned at the end of this message had to be updated. Consult the individual release
notes for details. Both Uucd and Uucp are incompatible releases sinces new script and block enumerants had to be
added.
</p>

<p>
Note that starting from Unicode 16.0.0 – that is in a year – these libraries will be changed to use the UTF decoders
of the standard library rather than rely on Uutf. They will thus only be available for OCaml &gt;= 4.14.
</p>

<p>
The OCaml tips of the <a href="https://erratique.ch/software/uucp/doc/unicode.html">minimal Unicode introduction</a>, which you should read if Unicode still puzzles you, have been
updated to mention the new standard library UTF decoders.
</p>

<p>
Also, the <code>ucharinfo</code> tool distributed with <code>uucp</code>[^1] can now also lookup characters by matching substrings in
their Unicode name or name aliases.
</p>

<p>
Best,
</p>

<p>
Daniel
</p>

<p>
A big thanks for funding from the <a href="http://ocaml-sf.org/">OCaml Software Foundation</a> and from my <a href="https://github.com/sponsors/dbuenzli">faithful donators</a>.
</p>


<ul class="org-ul">
<li>Uucd 15.0.0 Unicode character database decoder for OCaml. <a href="http://erratique.ch/software/uucd">http://erratique.ch/software/uucd</a></li>
<li>Uucp 15.0.0 Unicode character properties for OCaml. <a href="http://erratique.ch/software/uucp">http://erratique.ch/software/uucp</a></li>
<li>Uunf 15.0.0 Unicode text normalization for OCaml. <a href="http://erratique.ch/software/uunf">http://erratique.ch/software/uunf</a></li>
<li>Uuseg 15.0.0 Unicode text segmentation for OCaml. <a href="http://erratique.ch/software/uuseg">http://erratique.ch/software/uuseg</a></li>
</ul>

<p>
[^1]: It&rsquo;s a depopt you&rsquo;ll need <code>opam install cmdliner uutf uunf uucp</code> to install it.
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">OUPS meetup september 2022 (french only)</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/oups-meetup-september-2022-french-only/10492/1">https://discuss.ocaml.org/t/oups-meetup-september-2022-french-only/10492/1</a>
</p>
</div>

<div id="outline-container-org21f2e3e" class="outline-3">
<h3 id="org21f2e3e">zapashcanon announced</h3>
<div class="outline-text-3" id="text-org21f2e3e">
<p>
(this is in french only as the talks will be in french it’s probably not relevant for english speakers)
</p>

<p>
Le prochain OUPS aura lieu le <b>jeudi 29 septembre</b> 2022. Le rendez-vous est fixé à <b>19h</b> au <b>4 place Jussieu
(salle à préciser)</b>, 75005 Paris.
</p>

<p>
<b><a href="https://www.meetup.com/fr-FR/ocaml-paris/events/288520108/">L&rsquo;inscription est obligatoire</a></b> pour pouvoir accéder
au meetup !
</p>

<p>
Les exposés seront également retransmis en ligne sur le <a href="https://galene.irill.org/group/oups/">galène du OUPS</a>.
</p>

<p>
Toutes les informations sont disponibles sur le <a href="https://oups.frama.io/">site du OUPS</a>.
</p>

<p>
<b>Programme :</b>
</p>

<p>
<b>COBOL 101 &#x2013; Émilien Lemaire</b>
</p>

<p>
COBOL est un langage très ancien et est assez éloigné de ceux que nous manipulons tous les jours. Malgré cela il
reste l&rsquo;un des plus utilisés dans le monde.
</p>

<p>
Durant cette présentation je vais donc vous introduire au langage, voir comment sont écrit les programmes, comment
les variables sont-elles déclarées et comment les manipuler. Je vais aussi vous présenter quelques features
&ldquo;intéressantes&rdquo; du langage, dont certaines sont inattendues.
</p>

<p>
<b>OCaml Multicore &#x2013; Florian Angeletti</b>
</p>

<p>
<b>Opam-bin: Opam et paquets binaires &#x2013; Fabrice Le Fessant</b>
</p>

<p>
L&rsquo;utilisation d&rsquo;un gestionnaire de paquets sources comme Opam n&rsquo;est pas toujours optimale en temps, car l&rsquo;outil
passe beaucoup de temps à recompiler des paquets, dèjà compilés dans le passé ou par d&rsquo;autres utilisateurs. Le
plugin Opam-bin répond à ce problème en permettant de créer à la volée des paquets binaires, qui seront réutilisés à
l&rsquo;avenir et peuvent être partagés avec d&rsquo;autres utilisateurs. L&rsquo;exposé montre son utilisation et comment il
fonctionne.
</p>

<p>
Les présentations seront suivies par des discussions libres. Les pizzas seront offertes par la fondation OCaml !
:pizza:
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">strymonas v2: library for highest-performance stream processing</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://sympa.inria.fr/sympa/arc/caml-list/2022-09/msg00004.html">https://sympa.inria.fr/sympa/arc/caml-list/2022-09/msg00004.html</a>
</p>
</div>

<div id="outline-container-org0e52464" class="outline-3">
<h3 id="org0e52464">Oleg announced</h3>
<div class="outline-text-3" id="text-org0e52464">
<p>
As has just been announced at the OCAML 2022 workshop, the new,
re-written version of strymonas library is now available at
</p>

<p>
<a href="https://strymonas.github.io">https://strymonas.github.io</a>
</p>

<p>
Strymonas is the stream processing library that achieves the highest
performance of existing OCaml streaming libraries, attaining the speed
and memory efficiency of hand-written state machines.  It supports
finite and infinite streams with the familiar declarative interface,
of any combination of map, filter, take(while), drop(while), zip,
flatmap combinators and tupling. Experienced users may use the
lower-level interface of stateful streams and implement accumulating
maps, compression and windowing.  The library is based on assured code
generation (at present, of OCaml and C) and guarantees in all cases
complete fusion.
</p>

<p>
Compared with the original strymonas (POPL 2017), the new version is
completely re-written and:
</p>
<ul class="org-ul">
<li>Generates not only OCaml but also C (which needs no OCaml
run-time and vectorizable)</li>
<li>Has Core + code-generation Backends architecture:
MetaOCaml is needed only for the OCaml backend and benchmarks;
the Core and the C generation backend are pure OCaml.
More backends can be easily added.</li>
<li>The complete fusion is now achieved in all cases</li>
<li>Supports both user-friendly and familiar declarative combinators,
and low-level core of stafeful streams (which can be used together)</li>
<li>Core streams support streams over tuples, records and even
abstract data types</li>
<li>Fusion is now performed as normalization-by-evaluation</li>
</ul>

<p>
The paper
        <a href="https://strymonas.github.io/docs/ocaml-22.pdf">https://strymonas.github.io/docs/ocaml-22.pdf</a>
and the OCAML 2022 talk (soon to be available on YouTube&rsquo;s SIGPLAN channel,
among all other talks of the ICFP 2022 event) give more details. The
github repo contains the complete code of the library, examples and
all benchmarks.
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">OCaml Community Code of Conduct</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-community-code-of-conduct/10494/1">https://discuss.ocaml.org/t/ocaml-community-code-of-conduct/10494/1</a>
</p>
</div>

<div id="outline-container-orgc1a23e1" class="outline-3">
<h3 id="orgc1a23e1">Sudha Parimala announced</h3>
<div class="outline-text-3" id="text-orgc1a23e1">
<p>
Hello all! On behalf of the OCaml CoC committee, I&rsquo;d like to present the proposed Code of Conduct for the OCaml
community. We hope this is a step towards ensuring a friendly and inclusive community for everyone.
</p>

<p>
The CoC text, based on Contributor Covenant can be found
<a href="https://gist.github.com/Sudha247/ed049de0fd91d26f43777fb11ac0453f">here</a>.
</p>
</div>

<div id="outline-container-orgd6591c6" class="outline-4">
<h4 id="orgd6591c6">The committee</h4>
<div class="outline-text-4" id="text-orgd6591c6">
<p>
The current committee consists of the following people:
</p>

<ul class="org-ul">
<li>Louis Roché ( @Khady, Ahrefs)</li>
<li>Marcello Seri ( @mseri, University of Groningen)</li>
<li>Raja Boujbel ( @rjbou, OCamlPro)</li>
<li>Simon Cruanes ( @c-cube, Imandara Software)</li>
<li>Sonja Heinze (@pitag, Tarides)</li>
</ul>
</div>
</div>

<div id="outline-container-orgd2eb95d" class="outline-4">
<h4 id="orgd2eb95d">Scope</h4>
<div class="outline-text-4" id="text-orgd2eb95d">
<p>
The spaces within the scope of the committee at the moment are:
</p>

<ul class="org-ul">
<li>discuss.ocaml.org</li>
<li>OCaml mailing list</li>
<li>OCaml IRC</li>
<li>OCaml GitHub organisation</li>
</ul>
</div>
</div>

<div id="outline-container-org1d82404" class="outline-4">
<h4 id="org1d82404">Timeline</h4>
<div class="outline-text-4" id="text-org1d82404">
<p>
The committee has discussed on the CoC text. We&rsquo;d be happy to hear any feedback from the community. If all goes
well, the CoC will be enforced roughly a month from now. We&rsquo;ll keep this thread updated with any developments.
</p>
</div>
</div>

<div id="outline-container-org7c198d4" class="outline-4">
<h4 id="org7c198d4">Role of OCaml Software foundation</h4>
<div class="outline-text-4" id="text-org7c198d4">
<p>
While this effort is endorsed by the OCaml Software Foundation, they&rsquo;re not directly involved with the committee&rsquo;s
operation or decisions by the committee on the enforcement, and this would remain the same in future.
</p>
</div>
</div>

<div id="outline-container-orge91549d" class="outline-4">
<h4 id="orge91549d">Onboarding more projects</h4>
<div class="outline-text-4" id="text-orge91549d">
<p>
The committee is open to onboarding more projects under the umbrella of this CoC.
</p>

<p>
We see two ways to go forward:
</p>

<p>
(1) Projects adopt the CoC text and the project maintainers do the moderation work themselves.
</p>

<p>
(2) Projects adopt the CoC text and the committee would also act as arbitrers for violation reports submitted to
them.
</p>

<p>
Ideally we could do a combination of both. Smaller projects could possibly adopt the latter and take help from the
committee for enforcement, while bigger projects with capacity to do the moderation themselves can adopt the CoC
text. The decision to accept projects into the umbrella lies with the committee.
</p>

<p>
We&rsquo;re keen to hear any thoughts or suggestions for improvement. If you&rsquo;re interested to adopt this CoC for your
OCaml project, please don&rsquo;t hesitate to post here or contact me (write to me at sudharg247 [at] gmail [dot] com or
DM here) or any of the committee members (DM here).
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">Use OCaml to interact with Neovim</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/what-will-be-required-to-transpile-ocaml-to-lua/10493/10">https://discuss.ocaml.org/t/what-will-be-required-to-transpile-ocaml-to-lua/10493/10</a>
</p>
</div>

<div id="outline-container-orge57db7c" class="outline-3">
<h3 id="orge57db7c">Deep in this thread, Dani Dickstein said</h3>
<div class="outline-text-3" id="text-orge57db7c">
<p>
For the Neovim-specific use case, you may want to take a look at <a href="https://opam.ocaml.org/packages/vcaml/">vcaml</a>,
which lets you write OCaml programs that interact with Neovim over msgpack RPC. Do note though that while the
library as-is should provide you with the functionality you need, it is under active development so the API may
change (improve) in significant ways between releases.
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">What will be required to transpile OCaml to Lua?</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/what-will-be-required-to-transpile-ocaml-to-lua/10493/14">https://discuss.ocaml.org/t/what-will-be-required-to-transpile-ocaml-to-lua/10493/14</a>
</p>
</div>

<div id="outline-container-org347fd4d" class="outline-3">
<h3 id="org347fd4d">Deep in this thread, David Jeffrey said</h3>
<div class="outline-text-3" id="text-org347fd4d">
<p>
Doesn&rsquo;t necessarily help much, but a while ago I wrote a proof-of-concept ML-style language (using OCaml, of course)
that transpiled to Lua - <a href="https://github.com/merle-lang/luml">https://github.com/merle-lang/luml</a> (I was mostly thinking about targeting game engines&#x2026; I
did enough to implement Tetris and then gave up on it).
</p>

<p>
The module that emits Lua source code was pretty simple:
<a href="https://github.com/merle-lang/luml/blob/master/lib/compile.ml">https://github.com/merle-lang/luml/blob/master/lib/compile.ml</a> - I did thinking about trying to target byte code but
it seemed tricky due to different Lua versions, I think.
</p>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">OBazl Toolsuite - tools for building OCaml with Bazel</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/obazl-toolsuite-tools-for-building-ocaml-with-bazel/10021/10">https://discuss.ocaml.org/t/obazl-toolsuite-tools-for-building-ocaml-with-bazel/10021/10</a>
</p>
</div>

<div id="outline-container-org3fb37f3" class="outline-3">
<h3 id="org3fb37f3">Continuing this thread, james woodyatt asked and Gregg Reynolds replied</h3>
<div class="outline-text-3" id="text-org3fb37f3">
<blockquote>
<p>
Any chance we might see a <code>conf-bazel</code> package added to OPAM so a package can depend on a compatible version of
Bazel being installed on the host?
</p>
</blockquote>

<p>
I&rsquo;ve put a lot of work into seamless OPAM integration, but only in one direction: make it easy to use OPAM resources
in a Bazel build program. I have not put much thought into integrating Bazel itself into the OPAM ecosystem. For
example publishing a Bazel-enabled package to OPAM.  It looks like writing such a conf-bazel package would be pretty
easy, but I&rsquo;m not sure it would do us much good at the moment.  What specific use cases do you have in mind?
</p>

<p>
There are two ways to integrate Bazel and OPAM.  One is to automatically generate BUILD.bazel files for OPAM
packages. Then Bazel would build everything, eliminating the need for the OPAM engine.  This is the strategy
followed by rust (tool: cargo_raze, evidently now supplanted by crate_universe) and go (tool: gazelle).
Unfortunately a complete solution along these lines is not feasible for OCaml, since source files do not carry
enough information to support inference to a build program, and OPAM packages may use a variety of build languages
(Dune, Makefiles, OMake, etc.).  On the other hand, Dune seems to be the most widely used build engine by a
considerable margin, and the Dune language is easy to parse (if not so easy to interpret), so I&rsquo;m working on a
conversion tool that automatically converts Dune files to BUILD.bazel files.
</p>

<p>
The other strategy is to rely on OPAM to build dependencies and then &ldquo;import&rdquo; the built artifacts into Bazel.  OBazl
defines an <code>opam_import</code> rule for this purpose, and a tool that bazelizes OPAM switches, generating an OBazl
&rsquo;coswitch&rsquo;.  The mapping from OPAM package name to Bazel label is straightforward:  &rsquo;yojson&rsquo; to
<code>@yojson//lib/yojson</code>, &rsquo;lwt.unix&rsquo; to <code>@lwt//lib/unix</code>, etc.
</p>

<p>
So in practice OBazl supports a hybrid approach. Use Bazel to build your code, but import pre-built OPAM
dependencies. To do that you run the opam conversion tool to generate a &rsquo;coswitch&rsquo; which defines a local Bazel repo
for each OPAM package, and configure your WORKSPACE.bazel to import those repos. Write your BUILD.bazel files using
opam labels as above.  If your project already uses dune, you can run the dune conversion tool to generate your
BUILD.bazel files, which in some cases will need some tweaking, since some Dune stanzas lack sufficient information
for conversion, and in others the conversion code needs complicated logic that I haven&rsquo;t gotten around to writing,
or that does not seem worth the bother.
</p>

<p>
The OPAM &ldquo;import&rdquo; conversion tool is fairly stable. It converts the META files in OPAM into BUILD.bazel files, which
include dependency information. So when you depend on an <code>opam_import</code> target you get its entire dependency graph.
</p>

<p>
The Dune migration tool is another matter.  Reverse-engineering the Dune language is a non-trivial task, lemme tell
ya.  The good news is that after what seems like eons of work the end is in sight. I&rsquo;ve been running it against a
semi-random set of projects (js_of_ocaml, ocaml-protoc, some ppx libs, etc.) and working through the quirks
inch-by-inch.  Rule stanzas are a real PITA, can I just say that?  In any case, it looks like I should have an alpha
release with documentation and some case studies within a week or so.  I hope. At the very least I&rsquo;ll convert my dev
configuration into something usable by others so you can follow along if you want.
</p>
</div>
</div>
</div>




<div id="outline-container-org755a586" class="outline-2">
<h2 id="org755a586">Old CWN</h2>
<div class="outline-text-2" id="text-org755a586">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org22ebe3f">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>
