<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-07-18 Tue 19:16 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OCaml Weekly News</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style type="text/css">#table-of-contents h2 { display: none } .title { display: none } .authorname { text-align: right }</style>
<style type="text/css">.outline-2 {border-top: 1px solid black;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">OCaml Weekly News</h1>
<p>
<a href="https://alan.petitepomme.net/cwn/2023.07.11.html">Previous Week</a> <a href="https://alan.petitepomme.net/cwn/index.html">Up</a> <a href="https://alan.petitepomme.net/cwn/2023.07.25.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of July 11 to 18, 2023.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#1">Combinaml.0.1 released - a customizable parser combinator library</a></li>
<li><a href="#2">Help us Make the New Learn Area on OCaml.org Awesome</a></li>
<li><a href="#3">T-Digest library</a></li>
<li><a href="#4">The future of OCaml, 2023 edition?</a></li>
<li><a href="#5">OCaml-RDF 0.15.0</a></li>
<li><a href="#6">OCaml.org Newsletter: June 2023</a></li>
<li><a href="#7">Day of the Camel 2023: OCaml in Academia and Industry (online, 20 July 2023)</a></li>
<li><a href="#8">fuzzy_compare</a></li>
<li><a href="#9">Ppxlib dev meetings</a></li>
<li><a href="#10">Explorations on Package Management in Dune</a></li>
<li><a href="#11">Moonpool 0.3</a></li>
<li><a href="#12">binsec 0.8.0</a></li>
<li><a href="#13">Help Review the new &ldquo;File Manipulation&rdquo; tutorial on OCaml.org</a></li>
<li><a href="#14">Mutaml 0.1</a></li>
<li><a href="#15">OCaml Platform Newsletter: June 2023</a></li>
<li><a href="#org2add589">Old CWN</a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="1">Combinaml.0.1 released - a customizable parser combinator library</h2>
<div class="outline-text-2" id="text-1">
<p>
Archive: <a href="https://discuss.ocaml.org/t/combinaml-0-1-released-a-customizable-parser-combinator-library/12594/1">https://discuss.ocaml.org/t/combinaml-0-1-released-a-customizable-parser-combinator-library/12594/1</a>
</p>
</div>

<div id="outline-container-orgc07f112" class="outline-3">
<h3 id="orgc07f112">traviss announced</h3>
<div class="outline-text-3" id="text-orgc07f112">
<p>
This is my first public ocaml package.  Please let me know if you have any feedback or advice on how I can improve
it.
</p>

<p>
<a href="https://github.com/travisstaloch/combinaml">https://github.com/travisstaloch/combinaml</a>
</p>

<p>
Its meant to be similar to angstrom except more easily customizable and with a few api differences here and there
which i found useful.
</p>

<p>
I was using angstrom to parse peg grammars and ran into issues i could only solve by adding a tokenization step.
This seemed messy so I decided to write this library and found a solution which uses an `until` parser like this:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">definition</span> =
  lift2 pair (ident_str &lt;* leftarrow)
    (until (ident_str &lt;* leftarrow) expression)

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">grammar</span> =
  spacing *&gt; many1 definition &lt;* is_end_of_input &gt;&gt;| <span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">defs</span> -&gt; <span style="color: #242521; background-color: #fcf7ef;">Grammar</span> defs
</pre>
</div>

<p>
It was just merged into ocaml/opam-repository a couple of hours ago and doesn&rsquo;t seem to show up in opam search yet.
I&rsquo;m sure its a caching issue and will be there soon.
</p>
</div>
</div>


<div id="outline-container-orgfd7890c" class="outline-3">
<h3 id="orgfd7890c">traviss later added</h3>
<div class="outline-text-3" id="text-orgfd7890c">
<p>
Its up on opam now: <a href="https://opam.ocaml.org/packages/combinaml/">https://opam.ocaml.org/packages/combinaml/</a>
</p>
</div>
</div>
</div>




<div id="outline-container-2" class="outline-2">
<h2 id="2">Help us Make the New Learn Area on OCaml.org Awesome</h2>
<div class="outline-text-2" id="text-2">
<p>
Archive: <a href="https://discuss.ocaml.org/t/help-us-make-the-new-learn-area-on-ocaml-org-awesome/12508/13">https://discuss.ocaml.org/t/help-us-make-the-new-learn-area-on-ocaml-org-awesome/12508/13</a>
</p>
</div>

<div id="outline-container-orgbdadff4" class="outline-3">
<h3 id="orgbdadff4">Sabine Schmaltz announced</h3>
<div class="outline-text-3" id="text-orgbdadff4">
<p>
We&rsquo;ve been working on an overall outline for &ldquo;an ideal state&rdquo; of the Learn area. I took the current
Work-in-progress, and updated the Miro board at <a href="https://miro.com/app/board/uXjVM4HlreI=/?share_link_id=39374874841">https://miro.com/app/board/uXjVM4HlreI=/?share_link_id=39374874841</a>.
For many of the topics, we now propose tentative titles of documents relating to them. Some topics are still in
need of titles.
</p>

<p>
Here&rsquo;s an image of the state at the time I&rsquo;m making this post:
</p>


<div id="orgf178042" class="figure">
<p><img src="https://global.discourse-cdn.com/business7/uploads/ocaml/optimized/2X/f/fbe959fe8a234b2559494f733530e763742f722d_2_936x1000.jpeg" alt="fbe959fe8a234b2559494f733530e763742f722d_2_936x1000.jpeg" />
</p>
</div>

<p>
Note: I have to re-read the previous answers on this thread to make sure this captures the additional topics that
have been brought up.
</p>

<p>
Now&#x2026; what would be very interesting to me:
</p>
<ol class="org-ol">
<li>Among these proposed documents, which ones are the most important to you?</li>
<li>Which ones do you see as least important?</li>
<li>Is there something you feel is missing? What would be the title of the missing document and where does it belong?</li>
</ol>
</div>
</div>


<div id="outline-container-org92c05a1" class="outline-3">
<h3 id="org92c05a1">Later on, SayoBams asked and Claude Jager-Rubinson replied</h3>
<div class="outline-text-3" id="text-org92c05a1">
<blockquote>
<p>
Hi everyone, I&rsquo;m working on implementing the changes for the new Learn Area and I&rsquo;m currently looking at the books
area. It made me wonder&#x2026; do you know of any excellent new books that are not yet on <a href="https://ocaml.org/books">https://ocaml.org/books</a>?
</p>
</blockquote>

<p>
Wang and Zhao (the team behind Owl) have an advanced book: <a href="https://link.springer.com/book/10.1007/978-1-4842-8853-5">https://link.springer.com/book/10.1007/978-1-4842-8853-5</a>
</p>

<p>
<a href="https://caml.inria.fr/pub/docs/oreilly-book/html/index.html">https://caml.inria.fr/pub/docs/oreilly-book/html/index.html</a> is a bit dated but excellent.
</p>

<p>
<i>The Little MLer</i> is a fantastic introduction to functional programming and, in particular, thinking recursively.
It&rsquo;s in SML but includes a page on translating the examples to OCaml.
</p>

<p>
I also can&rsquo;t recommend highly enough <i>The Functional Approach to Programming</i> by Cousineau and Mauny, which uses
Caml (no object system yet!).  But it clarified many concepts that I hadn&rsquo;t previously grokked.  One of the huge
advantages of OCaml is its stability and I <b>think</b> all of the examples still worked.
</p>

<p>
Maybe not so relevant for an OCaml books page but I also read the classic ML books when I was learning OCaml and
they were a HUGE help: Paulson&rsquo;s <i>ML for the Working Programmer</i> is phenomenal and I also recall <i>Elements of ML
Programming</i> and <i>Introduction to Programming using SML</i> being helpful.  SML and OCaml are close enough that both
concepts and syntax readily transfer from the former to the latter.
</p>
</div>
</div>
</div>




<div id="outline-container-3" class="outline-2">
<h2 id="3">T-Digest library</h2>
<div class="outline-text-2" id="text-3">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-t-digest-library/12599/1">https://discuss.ocaml.org/t/ann-t-digest-library/12599/1</a>
</p>
</div>

<div id="outline-container-orgb44cb3c" class="outline-3">
<h3 id="orgb44cb3c">Simon Grondin announced</h3>
<div class="outline-text-3" id="text-orgb44cb3c">
<p>
<a href="https://github.com/SGrondin/tdigest">Github link</a>
This is just a minor release of a pandemic project that I never announced on discuss.ocaml.org.
This library is &ldquo;Complete&rdquo;. There are no known bugs and no known missing features.
</p>

<p>
The T-Digest has become fairly well known in the last few years, but in short:
</p>
<ul class="org-ul">
<li>it&rsquo;s a lossy data structure that allows the user to (very) accurately approximate percentiles and p_ranks without having to keep the <span class="underline">entire sorted</span> dataset in <span class="underline">one place</span>.</li>
<li>the user can combine multiple T-Digests just by concatenating them, and this can be done <span class="underline">in the database itself!</span></li>
<li>both querying and insertion are blazing fast</li>
</ul>

<p>
<a href="https://github.com/facebook/infer">facebook/infer</a> has been using it for a few years, and I know it&rsquo;s also used in
a few closed-source projects elsewhere.
</p>

<p>
All comments and feedback is welcome! I hope this library proves useful to the OCaml ecosystem as a whole.
</p>
</div>
</div>
</div>




<div id="outline-container-4" class="outline-2">
<h2 id="4">The future of OCaml, 2023 edition?</h2>
<div class="outline-text-2" id="text-4">
<p>
Archive: <a href="https://discuss.ocaml.org/t/the-future-of-ocaml-2023-edition/12600/1">https://discuss.ocaml.org/t/the-future-of-ocaml-2023-edition/12600/1</a>
</p>
</div>

<div id="outline-container-org7513741" class="outline-3">
<h3 id="org7513741">Masanori Ogino announced</h3>
<div class="outline-text-3" id="text-org7513741">
<p>
The <a href="https://ocamlverse.net/content/future_ocaml.html">Future of OCaml</a> page on OCamlverse needs some love,
considering that an <a href="https://github.com/OCamlverse/ocamlverse.github.io/issues/121">issue on GitHub</a> from 2021 is
still relevant. Although I have just posted what I am aware of on the GitHub issue, some of you should know even
more.
The page is the top result when you search &ldquo;Future of OCaml&rdquo; on Google, so leaving the page outdated will affect
the impression of the language negatively. Shall we improve it?
</p>
</div>
</div>
</div>




<div id="outline-container-5" class="outline-2">
<h2 id="5">OCaml-RDF 0.15.0</h2>
<div class="outline-text-2" id="text-5">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-ocaml-rdf-0-15-0/12602/1">https://discuss.ocaml.org/t/ann-ocaml-rdf-0-15-0/12602/1</a>
</p>
</div>

<div id="outline-container-org019b11f" class="outline-3">
<h3 id="org019b11f">Zoggy announced</h3>
<div class="outline-text-3" id="text-org019b11f">
<p>
A new release of <a href="https://www.good-eris.net/ocaml-rdf/">OCaml-RDF</a> is available:
  <a href="https://www.good-eris.net/ocaml-rdf/posts/ocaml-rdf-0.15.0.html">https://www.good-eris.net/ocaml-rdf/posts/ocaml-rdf-0.15.0.html</a>
</p>

<p>
This release includes new modules:
</p>
<ul class="org-ul">
<li>Rdf.Activitystreams defining the activitystreams/activitypub vocabularies,</li>
<li>Rdf.Nq to read and writes <a href="https://www.w3.org/TR/n-quads/">N-quads</a> format.</li>
</ul>

<p>
A new package, <code>rdf_json_ld</code> implements part of the <a href="https://www.w3.org/TR/json-ld11-api/">JSON-LD API</a>: context
processing, expansion, deserialization to RDF and serialization to Json-ld. Note that serialization produces a flat
Json-ld rather than implementing <a href="https://www.w3.org/TR/json-ld11-api/#serialize-rdf-as-json-ld-algorithm">the algorithm from the
recommandation</a>. It&rsquo;s worth noting that
the specification seems to have been written by javascript developers with little notion of typing. Moreover,
JSON-LD format is far more complicated (and undoubtedly more energy-consuming) than simpler formats such as XML,
Turtle or N-quads. I therefore advise against its use (but several activitypub servers seem to communicate only
with this format&#x2026;).
</p>

<p>
Packages rdf, rdf_ppx, rdf_json_ld, rdf_mysql, rdf_postgresql, and rdf_lwt are avalable in opam.
</p>
</div>
</div>
</div>




<div id="outline-container-6" class="outline-2">
<h2 id="6">OCaml.org Newsletter: June 2023</h2>
<div class="outline-text-2" id="text-6">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-org-newsletter-june-2023/12604/1">https://discuss.ocaml.org/t/ocaml-org-newsletter-june-2023/12604/1</a>
</p>
</div>

<div id="outline-container-org55d5cc5" class="outline-3">
<h3 id="org55d5cc5">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-org55d5cc5">
<p>
Welcome to the June 2023 edition of the OCaml.org newsletter! As with the <a href="https://discuss.ocaml.org/t/ocaml-org-newsletter-may-2023/12485">previous
update</a>, this has been compiled by @sabine and
@tmattio.
</p>

<p>
The OCaml.org newsletter provides an overview of changes on the OCaml.org website and gives you a glimpse into what
has been going on behind the scenes. You can find a <a href="https://discuss.ocaml.org/tag/ocamlorg-newsletter">list of previous issues
here</a>.
</p>

<p>
Our goal is to make OCaml.org the best resource for anyone who wants to get started and be productive in OCaml. We
couldn&rsquo;t do it without all the amazing OCaml community members who help us review, revise, and create better OCaml
documentation. Your feedback enables us to better prioritise our work and make progress towards our goal. Thank
you!
</p>

<p>
We present the work we&rsquo;ve been doing this month in three sections:
</p>
<ul class="org-ul">
<li><b>Learn Area:</b> We&rsquo;re working towards making OCaml.org a great resource to learn OCaml and discover its ecosystem. This month, we continued working on the wireframes and designs of the new Learn area. We also focused on writing the new documentation with a couple of tutorials on Dune and S-Expressions.</li>
<li><b>Governance Page:</b> The OCaml Platform team is working towards making the decision-making processes and ongoing development more transparent and community-driven (including the work on the <a href="https://discuss.ocaml.org/t/a-roadmap-for-the-ocaml-platform-seeking-your-feedback/12238">OCaml Platform roadmap</a>). To support the initiative, we&rsquo;re working on a governance page that lists the teams and maintainers of the OCaml organisation.</li>
<li><b>General Improvements:</b> As usual, we also worked on general maintenance and improvements and we’ve highlighted some of them in this newsletter.</li>
</ul>
</div>

<div id="outline-container-orgc2889e5" class="outline-4">
<h4 id="orgc2889e5">Learn Area</h4>
<div class="outline-text-4" id="text-orgc2889e5">
</div>
<ul class="org-ul">
<li><a id="orgaaca7cf"></a>1. Redesign of the Learn Area<br />
<div class="outline-text-5" id="text-orgaaca7cf">
<p>
Last month, we started working on the wireframes and the designs for the new Learn area, based on user feedback.
</p>

<p>
This month, we made amendments to the wireframes and designs for the landing page in the learning area and
subsequently created the wireframes for other necessary pages, namely “Get Started,” “Language,” “Tutorials,”
“Exercises,” “Books,” and “Search Results.” We also held a interactive session with the OCaml.org team to review
and rework the wireframes.
</p>

<p>
At the end of the month, we also <a href="https://discuss.ocaml.org/t/help-us-make-the-new-learn-area-on-ocaml-org-awesome/12508.">shared the updated
designs</a> to get feedback
from the community.
</p>

<p>
The work-in-progress designs are accessible on
<a href="https://www.figma.com/proto/Aqk5y03fsaCuhTSywmmY06/OCaml.org-Public-Designs?type=design&amp;node-id=130-767&amp;t=7ICA3gfxHteFI0le-0&amp;scaling=min-zoom&amp;page-id=130%3A754">Figma</a>.
</p>

<p>
Next month, we&rsquo;ll continue to improve the designs based on the feedback we received, and we&rsquo;ll start sending Pull
Requests to implement the UI.
</p>
</div>
</li>

<li><a id="org3e6ffbf"></a>2. OCaml Documentation<br />
<div class="outline-text-5" id="text-org3e6ffbf">
<p>
In addition to a complete redesign of the Learn area, our work involves a full revision of the documentation
content, as well as the creation of new documentation.
</p>

<p>
Last month, we completed the <a href="https://ocaml.org/docs/sequences">Sequences</a> and <a href="https://ocaml.org/docs/error-handling">Error
Handling</a> tutorials.
</p>

<p>
This month, we held a workshop on writing new documentation with the OCaml.org team in order to kickstart the
creation of many more documentation pages. The collaboration to write outlines for the new tutorials proved to be
helpful, so we plan to hold regular workshops. We&rsquo;re also planning to open these workshops to the community. Stay
tuned!
</p>

<p>
We created an entirely new tutorial on “File Manipulation” that is going to enter the community review phase soon.
In addition, we worked on a new “Dune” tutorial and a new “S-Expressions” tutorial, and we created outlines for
“Basic Datatypes” and “Values &amp; Functions” tutorials.
</p>
</div>
</li>

<li><a id="orgfc4e009"></a>3. &ldquo;Is OCaml X Yet?&rdquo; Pages<br />
<div class="outline-text-5" id="text-orgfc4e009">
<p>
As part of the our work on the new Learn area, we started exploring the <a href="https://github.com/ocaml/ocaml.org/pull/1226">addition of &ldquo;Is OCaml X yet?&rdquo;
pages</a>, inspired by Rust&rsquo;s excellent <a href="https://www.arewewebyet.org/">&ldquo;Are we web yet?&rdquo;
page</a>.
</p>

<p>
As stated in the Pull Request, the goal of these pages is three-fold:
</p>

<ul class="org-ul">
<li>For newcomers, it offers an overview of the usability of OCaml for certain applications.</li>
<li>For OCaml users, it can help the discovery of libraries and frameworks to perform certain tasks.</li>
<li>For community members, it can serve as a roadmap to focus our efforts on addressing specific pain points to make OCaml competitive with other languages for specific use cases.</li>
</ul>

<p>
We&rsquo;ve engaged the community and authors of packages related to web development, and we received excellent feedback
on the Pull Request.
</p>

<p>
Next, we plan to focus the work on a single &ldquo;Is OCaml Web Yet?&rdquo; page and tackle other pages separately. We&rsquo;ll
continue to explore the ecosystem and merge an initial version of the page that we&rsquo;ll aim to continuously improve
to reflect the state of web development in OCaml.
</p>
</div>
</li>

<li><a id="org114ef52"></a>4. Preparing the Move of the opam Documentation to OCaml.org<br />
<div class="outline-text-5" id="text-org114ef52">
<p>
We worked on a patch that moves the opam documentation under the &ldquo;Platform Tools&rdquo; page in the Learn area.
</p>

<p>
The intent behind this is to retire the public-facing website at opam.ocaml.org, now that we have a centralised
directory for package documentation on ocaml.org.
</p>

<p>
The long-term plan for the opam manual is to generate it via the package documentation pipeline. However, to
realise this, the opam manual needs to be ported to <code>odoc</code>. As seen in in the OCaml Platform newsletter, the <code>odoc</code>
team is currently working on improving <code>odoc</code>&rsquo;s capabilities to create rich and easily navigable manuals.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org766c49e" class="outline-4">
<h4 id="org766c49e">Towards a More Transparent Governance For OCaml</h4>
<div class="outline-text-4" id="text-org766c49e">
<p>
In May, we merged <a href="https://github.com/ocaml/ocaml.org/pull/1175">a PR</a> that extends the OCaml.org governance policy
to include the governance of the OCaml Platform, including its lifecycle and the requirements for each stage.
</p>

<p>
This month, we worked on a <a href="https://github.com/ocaml/ocaml.org/pull/1239">new governance page</a> that lists the teams
and maintainers of the ecosystem.
</p>

<p>
The main challenge is to list the maintainers of each project accurately, going forward. To that end, we&rsquo;re
discussing <a href="https://github.com/ocaml/infrastructure/issues/55">using GitHub teams</a> to get an up-to-date list of
maintainers for each project.
</p>
</div>
</div>

<div id="outline-container-org242d55a" class="outline-4">
<h4 id="org242d55a">General Improvements</h4>
<div class="outline-text-4" id="text-org242d55a">
<p>
A lot of work went on general maintenance and improvements this month!
</p>

<p>
Have a look a the list of relevant PRs and activities below for our highlights.
</p>

<p>
<b>Relevant PRs and Activities:</b>
</p>

<ul class="org-ul">
<li>We designed a banner for the OCaml home page and announced the ACM SIGPLAN award that OCaml received. &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1327">#1327</a></li>
<li>We began investigating how to load packages into the OCaml Playground.</li>
<li>We now recognise and display a Long-Term-Support version of OCaml (currently 4.14.1) on the main landing page, and the releases section has been moved from the Learn area to the main landing page. &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1277">#1277</a> &amp; <a href="https://github.com/ocaml/ocaml.org/pull/1313">#1313</a></li>
<li>We added 55 RSS feeds from v2.ocaml.org to the blog aggregator on ocaml.org and discovered some faulty URLs in two of them. &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1329">#1329</a></li>
<li>We made a bit of progress towards a dark mode for ocaml.org by tidying up the Tailwind configuration, giving colors more semantic names, and factoring out repeated HTML into components. &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1350">#1350</a></li>
<li>We began working on enabling filtering by tags for blogs on ocaml.org. We sought <a href="https://discuss.ocaml.org/t/which-filters-would-you-like-to-see-on-the-ocaml-blog-at-ocaml-org/12429">community input on preferred filters/tags</a>.</li>
<li>We worked on refining the documentation pipeline, specifically the tool <a href="https://github.com/ocaml-doc/voodoo"><code>voodoo</code></a>, by removing dead legacy code and optimising the process for detecting README, LICENSE, and CHANGELOG files, with the aim of reducing the number of HTTP requests that ocaml.org makes to docs-data.ocaml.org.</li>
<li>A new broken link checker tool <a href="https://github.com/tarides/olinkcheck">tarides/olinkcheck</a> has been created. Efforts to integrate the tool with the package documentation pipeline are in progress, and a workflow that runs <code>tarides/olinkcheck</code> has been added to the GitHub repository. The tool extracts Hyperlinks from documents of the supported formats plaintext, S-expressions, YAML, and HTML, and it checks whether the given URL responds with a HTTP status 200. &#x2013; <a href="https://github.com/ocaml/ocaml.org/pull/1345">#1345</a></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org4a89db6" class="outline-3">
<h3 id="org4a89db6">Thibaut Mattio then added</h3>
<div class="outline-text-3" id="text-org4a89db6">
<p>
This is an excellent opportunity to thank Ahrefs for their support as they provide a free account for OCaml.org!
</p>

<p>
The team has been using it numerous times to improve the site&rsquo;s quality, including broken links, error pages, bad
HTML formatting, etc. It&rsquo;s been invaluable to identify how we can improve the site and if you&rsquo;ve noticed
improvements in the search engine ranking of the site (for instance <a href="https://ocaml.org/p/base/v0.15.0">https://ocaml.org/p/base/v0.15.0</a> now ranks
higher than <a href="https://opam.ocaml.org/packages/base/">https://opam.ocaml.org/packages/base/</a> for me, it wasn&rsquo;t the case a few months ago), it&rsquo;s in large part
thanks to Ahrefs who gave us the tools to improve SEO.
</p>

<p>
The goal of the broken link checker is to have something that can be integrated more easily into ocaml.org&rsquo;s CI. It
allows us to have the workflow on display in the last PR: <a href="https://github.com/ocaml/ocaml.org/pull/1354">https://github.com/ocaml/ocaml.org/pull/1354</a>
</p>
</div>
</div>
</div>




<div id="outline-container-7" class="outline-2">
<h2 id="7">Day of the Camel 2023: OCaml in Academia and Industry (online, 20 July 2023)</h2>
<div class="outline-text-2" id="text-7">
<p>
Archive: <a href="https://discuss.ocaml.org/t/day-of-the-camel-2023-ocaml-in-academia-and-industry-online-20-july-2023/12605/1">https://discuss.ocaml.org/t/day-of-the-camel-2023-ocaml-in-academia-and-industry-online-20-july-2023/12605/1</a>
</p>
</div>

<div id="outline-container-orgaa454ef" class="outline-3">
<h3 id="orgaa454ef">Roberto Blanco announced</h3>
<div class="outline-text-3" id="text-orgaa454ef">
<p>
We (I and my co-conspirator Ricardo Rodríguez) are organizing a new edition of our erstwhile one-day hybrid
workshop dedicated to the OCaml programming language and its industrial users. We will have talks and discussions
with members of the OCaml development team, as well as companies using the language to solve complex and
interesting problems.
</p>

<p>
Once again, the objective is to present a broad picture of the OCaml ecosystem and, more widely, of functional
programming (and related techniques) as a viable and powerful choice for building correct and reliable computer
systems. This is done as part of the second edition of an OCaml summer school, hosted this year again by the
University of Zaragoza, and (again) generously sponsored by the OCaml Software Foundation.
</p>

<p>
Participation is free and open to everyone. We will stream the workshop on Zoom
(<a href="https://us06web.zoom.us/j/89373710207?pwd=ZGZuSnBFWEhSc2UzNnpSbWF4d0hzZz09">https://us06web.zoom.us/j/89373710207?pwd=ZGZuSnBFWEhSc2UzNnpSbWF4d0hzZz09</a>, passcode: 247844) and
<a href="https://www.twitch.tv/ricardojrdez">Twitch</a>. Here&rsquo;s the preliminary schedule, additional information and updates
can be found on <a href="https://webdiis.unizar.es/evpf/event.html">our website</a>.
</p>

<p>
20 July 2023, all times CEST (UTC+2)
</p>

<p>
Morning &#x2013; Language session
</p>

<ul class="org-ul">
<li>09:00-09:30: Carmen Lazo and José Merseguer (<a href="https://unizar.es/">University of Zaragoza</a>) &#x2013; Welcome reception</li>
<li>09:30-10:30: Florian Angeletti (<a href="https://www.inria.fr/">Inria</a>) &#x2013; The <a href="https://ocaml.org/">OCaml</a> project and ecosystem</li>
<li>10:30-11:00: Coffee break</li>
<li>11:00-12:00: OCaml developers &#x2013; Round table and Q&amp;A</li>
</ul>

<p>
Afternoon &#x2013; Industry session
</p>

<ul class="org-ul">
<li>14:30-14:55: Vincent Balat (<a href="https://tarides.com/">Tarides</a> / <a href="https://www.besport.com/">Be Sport</a>) &#x2013; Building functional systems / Social network for sports</li>
<li>14:55-15:20: Javier Chávarri (<a href="https://ahrefs.com/">Ahrefs</a>) &#x2013; Petabyte-scale web crawler</li>
<li>15:20-15:45: Raphaël Proust (<a href="https://www.nomadic-labs.com/">Nomadic Labs</a>) &#x2013; Tezos blockchain development</li>
<li>15:45-16:10: Chris Casinghino (<a href="https://www.janestreet.com/">Jane Street</a>) &#x2013; Large-scale quantitative trading</li>
<li>16:10-16:30: Coffee break</li>
<li>16:30-17:30: Industrial users &#x2013; Round table and Q&amp;A</li>
</ul>

<p>
We look forward to seeing you there. Feel free to join, participate and distribute!
</p>
</div>
</div>
</div>




<div id="outline-container-8" class="outline-2">
<h2 id="8">fuzzy_compare</h2>
<div class="outline-text-2" id="text-8">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-fuzzy-compare/12625/1">https://discuss.ocaml.org/t/ann-fuzzy-compare/12625/1</a>
</p>
</div>

<div id="outline-container-org01d9409" class="outline-3">
<h3 id="org01d9409">Simon Grondin announced</h3>
<div class="outline-text-3" id="text-org01d9409">
<p>
A few days ago I posted about the <a href="https://discuss.ocaml.org/t/ann-t-digest-library/12599">T-Digest library</a>. Today
I&rsquo;m back with another small algorithmic library:
</p>

<p>
-&gt; <a href="https://github.com/SGrondin/fuzzy_compare">Github link</a>
</p>

<p>
You&rsquo;re probably familiar with the <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>: the
number of single character edits (additions, deletions, replacements) between 2 strings.
</p>

<p>
Calculating the Levenshtein distance is famously more expensive than a simple equality check.
</p>

<p>
Instead of calculating the distance, this library instead returns <b>whether 2 values are within D distance of each
other</b> (<code>bool</code>). There has been substantial development on the topic of <a href="https://en.wikipedia.org/wiki/Levenshtein_automaton">Levenshtein
automata</a> in the last decade. See the &ldquo;Fast String Correction
with Levenshtein-Automata&rdquo; paper by Klaus Schulz and Stoyan Mihov.
</p>

<p>
Using the graph construction technique from the paper, plus a few ideas from <a href="https://fulmicoton.com/posts/levenshtein/">this
article</a> and several additional optimizations of my own, this library
can answer the question (&ldquo;are these 2 values within D edits of each other&rdquo;) in the 1-10µs range, scaling linearly
with the length of the values.
</p>

<ul class="org-ul">
<li>a Functor is provided to enable comparisons across any arbitrary types</li>
<li>string comparisons are provided (functorized) out of the box</li>
<li><i>reuse the same automaton across all comparisons</i> with the same <code>max_edits</code>, regardless of the type of the values being compared</li>
<li><code>max_edits</code> must be between <code>0</code> and <code>3</code> (inclusively) due to the astronomical scaling factor during graph building</li>
<li>most comparisons take under 5 µs, depending on the length of the values</li>
</ul>

<p>
It&rsquo;s fast enough that it can be used instead of <code>String.equal</code> for some tasks and/or on large datasets.
</p>

<p>
All comments and feedback are welcome! I hope this library proves useful to the OCaml ecosystem as a whole. I&rsquo;ll be
back in a few days with a special algorithmic library to complete this little trilogy.
</p>
</div>
</div>
</div>




<div id="outline-container-9" class="outline-2">
<h2 id="9">Ppxlib dev meetings</h2>
<div class="outline-text-2" id="text-9">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ppxlib-dev-meetings/12441/4">https://discuss.ocaml.org/t/ppxlib-dev-meetings/12441/4</a>
</p>
</div>

<div id="outline-container-org5881e33" class="outline-3">
<h3 id="org5881e33">Sonja Heinze announced</h3>
<div class="outline-text-3" id="text-org5881e33">
<p>
Hello :wave: The `ppxlib` July dev meeting is tomorrow <b>Tue, July 18th, at 6pm CET</b>. Here&rsquo;s what&rsquo;s on our agenda
so far:
</p>

<ul class="org-ul">
<li>OMP:
<ul class="org-ul">
<li>Do we &ldquo;stop maintaining it&rdquo; or do we add OCaml 5.1 support?</li>
</ul></li>
<li>Ppxlib - OCaml trunk compact:
<ul class="org-ul">
<li>Currently, there&rsquo;s no compatibility due to an ocaml-compiler-libs build problem. Who&rsquo;s affected?</li>
</ul></li>
<li>Ppxlib&rsquo;s general maintenance:
<ul class="org-ul">
<li>OCaml 5.1 support: The bug fix around generative functor applications is being worked on.</li>
<li>We&rsquo;re not in a hurry to bump the AST this time.</li>
<li>A few pending reviews on Ppxlib. What&rsquo;s the best strategy for reviews / reacting to non-urgent issues now that we&rsquo;re in &ldquo;minimal maintenance mode&rdquo;?</li>
<li>Is there anything else that will come up before September?</li>
</ul></li>
<li>OCaml workshop 2023:
<ul class="org-ul">
<li>Recap on why our talk proposal on Ppxlib has been rejected.</li>
</ul></li>
<li>Outreachy internship on Ppxlib:
<ul class="org-ul">
<li>How is it going? :heart:</li>
</ul></li>
</ul>

<p>
We&rsquo;re always happy to add things, if anyone is interested in anything else.
</p>
</div>
</div>
</div>




<div id="outline-container-10" class="outline-2">
<h2 id="10">Explorations on Package Management in Dune</h2>
<div class="outline-text-2" id="text-10">
<p>
Archive: <a href="https://discuss.ocaml.org/t/explorations-on-package-management-in-dune/12101/10">https://discuss.ocaml.org/t/explorations-on-package-management-in-dune/12101/10</a>
</p>
</div>

<div id="outline-container-orgbd89e7b" class="outline-3">
<h3 id="orgbd89e7b">Continuing this thread, Thibaut Mattio said</h3>
<div class="outline-text-3" id="text-orgbd89e7b">
<p>
Thank you @gasche for your interest and input!
</p>

<p>
Expanding on what @rgrinberg and @rjbou mentioned earlier, there are no intentions to phase out the `opam` client.
As a matter of fact, the Dune team has currently forked opam and is patching the opam libraries, with the ultimate
goal of merging them back upstream once the libraries exposing the necessary APIs for Dune package management
appear to be stable. You can see some of this work in progress in pull requests like
<a href="https://github.com/ocaml/opam/pull/5568">#5568</a>, <a href="https://github.com/ocaml/opam/pull/5508">#5508</a>,
<a href="https://github.com/ocaml/opam/pull/5498">#5498</a>, <a href="https://github.com/ocaml/opam/pull/5496">#5496</a>,
<a href="https://github.com/ocaml/opam/pull/5452">#5452</a>, and so on.
</p>

<p>
As for the opam repository, you understood correctly that there is absolutely no plan to deprecate it, or even to
make large changes to it in the context of Dune package management. The goal is for Dune package management to be
100% compatible with the opam repository.
</p>

<p>
To expand on a slightly divergent path and talk about the role of the OCaml Platform: the Platform essentially
mirrors the state of the world. For the opam client to become deprecated in the Platform, it would need to become
the de-facto reality first. While it might be that the opam client (as for any other tool) enters a maintenance
mode and eventually becomes deprecated, that seems unlikely for now, given the number of users who are relying on
the opam client. That being said, if and when that happens, the Platform&rsquo;s role will be to make sure that there is
a smooth transition path for users, and that&rsquo;s something that will require careful planning and discussions. All of
which is entirely out of scope for the initial release of package management in Dune.
</p>

<p>
On a different note, following a discussion with @dra27, opam switches are architected around findlib/ocamlfind.
Dune package management presents an alternative solution to achieve the same result. As you point out, it&rsquo;s not
meant to be reusable between workflows: the opam packages Dune compiles for your project are intended for Dune&rsquo;s
internal use during its build, not for external use with the shell. This could be viewed as a parallel to how opam
builds switches for <code>opam exec</code> (with <code>eval $(opam env)</code> serving as a convenient shortcut). So, you can think of
Dune package management as performing a similar function but specifically for <code>dune exec</code>.
</p>

<p>
Now, there is the question of how to make sure this doesn&rsquo;t create confusion and hurt adoption.
But that&rsquo;s not something that&rsquo;s specific to Dune and opam. In fact, if anything else, it makes the Platform more
cohesive: odoc, ocamlformat, merlin, utop and mdx are all tools that work well independently, but with which you
don&rsquo;t need to interact if you use Dune. Dune has grown as the frontend of the Platfrom and the integration with
opam is another step in this direction, not something very new if we look at what&rsquo;s being done with the other
tools.
And this is the best of both worlds: as a power user, you&rsquo;re free to use each tool independently and you&rsquo;re not
locked in, but as a newcomer or even as a power user who&rsquo;s happy with the default experience, you can just use
Dune.
</p>
</div>
</div>


<div id="outline-container-org95f4640" class="outline-3">
<h3 id="org95f4640">gasche replied</h3>
<div class="outline-text-3" id="text-org95f4640">
<p>
Reading the opam package management RFC gives me the impression that the situation with the `opam` client is in
fact rather different from the situation with other tools, because Dune is in the process of reimplementing large
parts of this logic internally, instead of delegating to opam, because you want a tighter integration into Dune
internals than a pure-delegation model allows. As far as I know, dune is not reimplementing logic from merlin or
odoc or ocamlformat.
</p>

<p>
I tried to make uninformed guesses at which part of the opam client responsibilities Dune would reuse and replace
in my post above. My best guess as to what part you would reuse in the long term (of the opam client
responsibilities) is &ldquo;parsing and programmatic understanding of opam files&rdquo;. Are there other important ones that I
missed?
</p>

<p>
Another consequence of this design is that the new features which are planned, and are indeed quite nice, will be
specific to projects that use dune for package management. The plan is for Dune to provide, for example, good
support for incremental rebuilding (when dependencies change), caching (of package artifacts across independent
projects), a nice local-switch-first command-line UI with lockfile integration by default, but also editor support
(building package dependencies from the IDE directly). None of those features are planned for people using the
<code>opam</code> client &#x2013; if I understand correctly. Some of those features (in particular incremental rebuilding) are
clearly in the ballpark of a build system and reimplementing within Dune makes a lot of sense. But for some others,
for example the latter three in my list, adding them to the opam client would also have been a possible approach,
but you chose to work within Dune instead.
</p>

<p>
This is also the root of my question on whether the long-term strategy is to keep two tools/codebases alive, or
just one. For ocamlformat or odoc, it wouldn&rsquo;t make sense to ask whether odoc will disappear once dune gets
first-class documentation support. For the opam client and package management, it does.
</p>
</div>
</div>


<div id="outline-container-org0bde1d6" class="outline-3">
<h3 id="org0bde1d6">Anil Madhavapeddy then said</h3>
<div class="outline-text-3" id="text-org0bde1d6">
<blockquote>
<p>
This is also the root of my question on whether the long-term strategy is to keep two tools/codebases alive, or
just one.
</p>
</blockquote>

<p>
My <a href="https://speakerdeck.com/avsm/workflows-in-the-ocaml-platform?slide=24">longer term view</a> has always been that
we should focus on having well-specified <span class="underline">file formats</span> that our tools use, and let many domain specific tools that
operate over that file metadata bloom.  The reason for this is that files that are checked into a project have a
habit of sticking around for the long-term (or forever, if you consider historical releases), whereas tools
naturally evolve and perish.
</p>

<p>
The only thing necessary to publish something &ldquo;into the OCaml community&rdquo; (that is, something that shows up on a
package search on the website) is a tarball with an <code>opam</code> file in it. This opam file specifies interdependencies
and a build plan.  We have, as of just now, 28296 of these checked into the central opam repository.  The <a href="https://check.ocamllabs.io">vast
majority</a> of those packages can be downloaded, extracted, and an installation plan
generated simply by looking at the local <code>opam</code> file in the tarball and the central collection of them that
represent potential dependencies (the opam repository).
</p>

<p>
Over the years, we&rsquo;ve had many build tools spring up: OCamlMakefile, omake, ocamlbuild, oasis, b0, ninja, and
jbuilder/dune.  What makes dune so interesting from a long-term perspective is that the checked in <code>dune</code> file is
also separately versioned, so that it should (with a sufficiently good specification) be possible to analyse the
build logic of a repository just by examining it. With most of the other build systems, you needed to run an
executable to get a build plan (notably with ocamlbuild, and even with oasis running over ocamlbuild), which
tightly couples it to a particular tool. That&rsquo;s why I&rsquo;ve been so resistant to the idea of publishing opam packages
which do not include a generated <code>opam</code> file (even if its autogenerated from dune), since you then lose the
property of simply being able to examine a published artefact to determine how to build it.
</p>

<p>
What other file formats do we have in common platform tools?  We used to have <code>.merlin</code> files, but they&rsquo;re
autogenerated now from a dune build plan in most cases. There are <code>.ocamlformat</code> files, mostly in a k/v format.
Generally speaking, we&rsquo;ve been pretty good at promoting and exposing metadata in an opam or dune file and not
having too much of a proliferation of other files.
</p>
</div>

<div id="outline-container-orgb97a594" class="outline-4">
<h4 id="orgb97a594">What tools operate over opam files?</h4>
<div class="outline-text-4" id="text-orgb97a594">
<p>
Given that an <code>opam</code> file exists, what tools can actually run over them?
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/opam"><code>opam.exe</code></a> - the main CLI client, and which exposes an excellent CLI interface to avoid having to parse them directly.</li>
<li><a href="https://github.com/ocaml-opam/opam-0install-solver"><code>opam-0install-solver</code></a> - implements a much-simplified version of the solver to do &rsquo;one-shot&rsquo; solutions that do not need to take existing packages into account.</li>
<li><i>(upcoming)</i> the dune integration, which will also use opam files (and repositories) to perform source fetching operations. Notably, this also allows dune to generate build plans for <span class="underline">non-dune packages</span>, which was not possible before.</li>
<li>And others, like lsp-server, can also use these checked in files to perform editor-driven operations.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf851023" class="outline-4">
<h4 id="orgf851023">Do we actually need a CLI?</h4>
<div class="outline-text-4" id="text-orgf851023">
<p>
One key architectural difference between build systems and package managers is how stateful they are: build systems
usually maintain very little outside of their build tree, whereas package managers (especially opam) have a lot
more.
</p>

<p>
So why do we actually still need an active CLI?  The <a href="https://watch.ocaml.org/w/2Y6YWPrEjrLk1A8Vg1Ep6A">zero-configuration
ocaml-ci</a> is a step towards showing that we don&rsquo;t need anything
beyond files that are checked into a source code repo!  Consider the following operations, and mappings to how to
do them by modifying files and having a background worker process watching for file changes:
</p>

<ul class="org-ul">
<li><code>opam install</code>: Edit the <code>opam</code> file to add a new dependency, and then the background watcher can transactionally install it into a local switch.</li>
<li><code>opam pin</code>: Edit the <code>opam</code> file to add a <code>pin-depends</code>.</li>
<li><code>opam remove</code>: Edit the <code>opam</code> file to remove a dependency.</li>
<li><code>opam remote add</code>: We don&rsquo;t current offer an official way to check in which opam repositories a project depends on. Could use an <code>x-opam-repos</code> extension field and establish a standard.</li>
<li><code>opam switch</code>: Edit the <code>dune-workspace</code> file to register a new local switch for a project with a compiler version.</li>
</ul>

<p>
Storing all project state in existing metadata files has huge workflow advantages: it means you can statelessly
build a project without having to reconstruct local pins/switches for others, which in turns means that CIs like
ocaml-ci &ldquo;just work&rdquo; when you push the code remotely!  It also makes the act of releasing a package much easier,
since you can just remove pins/overrides progressively with help from local editors and global CI tools.  It also
works really well in a monorepo workflow.
</p>

<p>
The purpose of this little segway is to demonstrate why I think well-specified and versioned file formats are more
important than tools, since you can then build the right tool to solve your particular workflow problem for a given
context. And to go back to the @gasche&rsquo;s original question, I don&rsquo;t think we should be thinking about the dune and
opam projects/codebases merging, but rather what elements of their respective codebases should be focussed on to
allow more interoperability between tools for their respective file formats.
</p>

<p>
Some possible considerations:
</p>
<ul class="org-ul">
<li><b>solvers:</b> the full solver libraries are quite heavyweight (and subjectively, overly complex C++ based solvers), but opam-0install is a lovely alternative if single-shot solutions are all that is required.  Can these be made more accessible and embeddable to other CLIs (initially dune, but also LSP and whatever else wants to solve for version constraints?)</li>
<li><b>repositories:</b> how can we manipulate opam repositories in a more unified way?  Right now they are just a collection of files, but we do need to figure out how to move older packages out of the way, but still retain the ability to install them on demand. This is a top priority for the opam-repository maintainers, and presumably will become a problem for other downstream users such as the coq-opam-repository maintainers as they hit scale issues as well.</li>
<li><b>more formal specifications:</b> if we view tools as interpreters over DSLs (the opam and dune files), then why aren&rsquo;t we formally specifying these better? After all, we have close to 30000 of them published now by thousands of us across 12 years!  And we need to <a href="https://speakerdeck.com/avsm/workflows-in-the-ocaml-platform?slide=47">interoperate with other distributions</a> and their package managers. Wouldn&rsquo;t it be lovely to be able to install opam packages from within Debian, or even other multi-version package managers like <a href="https://pub.dev">Pub.dev</a>&#x2026;</li>
</ul>

<p>
For dune, you can conduct a similar thought experiment, but the most obvious interop point is to take dune files
and embed any OCaml project within a larger build system like Bazel or Buck2, without having to write any manual
bridging rules.
</p>

<p>
I&rsquo;m sketching out my thoughts on the opam repository management roadmap next, but I&rsquo;d be delighted to hear more
about others&rsquo; thoughts on what new tools you&rsquo;d build over sufficiently well specified dune or opam file formats&#x2026;
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-11" class="outline-2">
<h2 id="11">Moonpool 0.3</h2>
<div class="outline-text-2" id="text-11">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-moonpool-0-3/12632/1">https://discuss.ocaml.org/t/ann-moonpool-0-3/12632/1</a>
</p>
</div>

<div id="outline-container-orgffb4b27" class="outline-3">
<h3 id="orgffb4b27">Simon Cruanes announced</h3>
<div class="outline-text-3" id="text-orgffb4b27">
<p>
:wave: deer OCaml aficionados,
</p>

<p>
Moonpool <a href="https://github.com/c-cube/moonpool/releases/tag/v0.3">0.3</a> was just released on opam.
<a href="https://github.com/c-cube/moonpool/">Moonpool</a> is a new concurrency library for OCaml &gt;= 4.08, with support for
OCaml 5 from the get-go. It started out with a thread pool (possibly distributed on multiple domains to be able to
use multiple cores) along with a future/promise module.
</p>

<p>
This release comes with a set of new features on top of pool+futures:
</p>
<ul class="org-ul">
<li>a small <code>'a Lock.t</code> abstraction to protect a resource with a lock in RAII-style</li>
<li>a type of unbounded channels (which are fairly naive in implementation)</li>
<li>improvements to <code>Pool</code> such as <code>Pool.run_wait_block: (unit -&gt; 'a) -&gt; 'a</code> that runs a whole computation on the pool, and waits for its result (or re-raises)</li>
<li>add <code>Fut.await</code> (only on OCaml 5)</li>
<li>add support for <a href="https://github.com/ocaml-multicore/domain-local-await/">domain-local-await</a> if installed</li>
<li>a <code>Fork_join</code> module for, well, <a href="https://en.wikipedia.org/wiki/Fork%E2%80%93join_model">fork-join parallelism</a>, including parallel for and parallel <code>List.map~/~Array.map</code>. These computations can be nested and &ldquo;feel&rdquo; like writing code in a direct style. This relies on effects and is only available on OCaml 5.</li>
</ul>
</div>

<div id="outline-container-orga8512d5" class="outline-4">
<h4 id="orga8512d5">Examples for fork-join</h4>
<div class="outline-text-4" id="text-orga8512d5">
<p>
The (too) classic parallel fibonacci function:
</p>

<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">open </span><span style="color: #444fcf;">Moonpool</span>
<span style="color: #000000; font-weight: bold;">let</span> (<span style="color: #a7601f;">let@</span>) = (<span style="color: #a7601f;">@@</span>)

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #a7601f;">fib_direct</span> <span style="color: #007a9f;">x</span> =
  <span style="color: #006f00; font-weight: bold;">if</span> x &lt;= <span style="color: #00824f;">1</span> <span style="color: #006f00; font-weight: bold;">then</span>
    <span style="color: #00824f;">1</span>
  <span style="color: #006f00; font-weight: bold;">else</span>
    fib_direct (x - <span style="color: #00824f;">1</span>) + fib_direct (x - <span style="color: #00824f;">2</span>)

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #000000; font-weight: bold;">rec</span> <span style="color: #a7601f;">fib</span> <span style="color: #007a9f;">x</span> :<span style="color: #444fcf;"> int </span>=
  <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">some cutoff for sequential computation</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
  <span style="color: #006f00; font-weight: bold;">if</span> x &lt;= <span style="color: #00824f;">18</span> <span style="color: #006f00; font-weight: bold;">then</span>
    fib_direct x
  <span style="color: #006f00; font-weight: bold;">else</span> (
    <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">n1</span>, <span style="color: #007a9f;">n2</span> =
      <span style="color: #444fcf;">Fork_join.</span>both
        (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt; fib (x - <span style="color: #00824f;">1</span>))
        (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt; fib (x - <span style="color: #00824f;">2</span>))
    <span style="color: #000000; font-weight: bold;">in</span>
    n1 + n2
  )

<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">fib_40</span> :<span style="color: #444fcf;"> int </span>=
  <span style="color: #000000; font-weight: bold;">let@</span> <span style="color: #007a9f;">pool</span> = <span style="color: #444fcf;">Pool.</span>with_ <span style="color: #00824f;">~min</span>:<span style="color: #00824f;">8</span> () <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #444fcf;">Pool.</span>run_wait_block pool (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt; fib <span style="color: #00824f;">40</span>)
</pre>
</div>

<p>
A parallel sum, from a test case:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> () =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">total_sum</span> = <span style="color: #444fcf;">Atomic.</span>make <span style="color: #00824f;">0</span> <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #444fcf;">Pool.</span>run_wait_block pool (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt;
      <span style="color: #444fcf;">Fork_join.</span>for_ <span style="color: #00824f;">~chunk_size</span>:<span style="color: #00824f;">5</span> <span style="color: #00824f;">100</span> (<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">low</span> <span style="color: #007a9f;">high</span> -&gt;
          <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">iterate on the range sequentially. The range should have 5 items or less.</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
          <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">local_sum</span> = <span style="color: #557400; font-weight: bold;">ref</span> <span style="color: #00824f;">0</span> <span style="color: #000000; font-weight: bold;">in</span>
          <span style="color: #006f00; font-weight: bold;">for</span> i = low <span style="color: #006f00; font-weight: bold;">to</span> high <span style="color: #006f00; font-weight: bold;">do</span>
            local_sum := <span style="color: #a52a2a;">!</span>local_sum + i
          <span style="color: #006f00; font-weight: bold;">done</span>;
          <span style="color: #557400; font-weight: bold;">ignore</span> (<span style="color: #444fcf;">Atomic.</span>fetch_and_add total_sum <span style="color: #a52a2a;">!</span>local_sum : <span style="color: #444fcf;">int</span>)));
  <span style="color: #006f00; font-weight: bold;">assert</span> (<span style="color: #444fcf;">Atomic.</span>get total_sum = <span style="color: #00824f;">4950</span>)
</pre>
</div>

<p>
Note that <code>Fork_join.for_</code> gives its functional argument a range to process, the size of which is controllable with
the optional <code>chunk_size</code>. This allows for large values to be passed to <code>for_</code> without starting as many tasks, as
demonstrated below:
</p>

<p>
Computing digits of π:
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">my_pi</span> :<span style="color: #444fcf;"> float </span>=
  <span style="color: #000000; font-weight: bold;">let@</span> <span style="color: #007a9f;">pool</span> = with_pool () <span style="color: #000000; font-weight: bold;">in</span>

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">num_steps</span> = 100_000_000 <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">num_tasks</span> = <span style="color: #444fcf;">Pool.</span>size pool <span style="color: #000000; font-weight: bold;">in</span>

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">step</span> = <span style="color: #00824f;">1</span>. /. float num_steps <span style="color: #000000; font-weight: bold;">in</span>
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">global_sum</span> = <span style="color: #444fcf;">Lock.</span>create <span style="color: #00824f;">0</span>. <span style="color: #000000; font-weight: bold;">in</span>

  <span style="color: #444fcf;">Pool.</span>run_wait_block pool (<span style="color: #006f00; font-weight: bold;">fun</span> () -&gt;
      <span style="color: #444fcf;">Fork_join.</span>for_
        <span style="color: #00824f;">~chunk_size</span>:(<span style="color: #00824f;">3</span> + (num_steps / num_tasks))
        num_steps
        (<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">low</span> <span style="color: #007a9f;">high</span> -&gt;
          <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">sum</span> = <span style="color: #557400; font-weight: bold;">ref</span> <span style="color: #00824f;">0</span>. <span style="color: #000000; font-weight: bold;">in</span>
          <span style="color: #006f00; font-weight: bold;">for</span> i = low <span style="color: #006f00; font-weight: bold;">to</span> high <span style="color: #006f00; font-weight: bold;">do</span>
            <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">x</span> = (float i +. <span style="color: #00824f;">0.5</span>) *. step <span style="color: #000000; font-weight: bold;">in</span>
            sum := <span style="color: #a52a2a;">!</span>sum +. (<span style="color: #00824f;">4</span>. /. (<span style="color: #00824f;">1</span>. +. (x *. x)))
          <span style="color: #006f00; font-weight: bold;">done</span>;
          <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">sum</span> = <span style="color: #a52a2a;">!</span>sum <span style="color: #000000; font-weight: bold;">in</span>
          <span style="color: #444fcf;">Lock.</span>update global_sum (<span style="color: #006f00; font-weight: bold;">fun</span> <span style="color: #007a9f;">n</span> -&gt; n +. sum)));

  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">pi</span> = step *. <span style="color: #444fcf;">Lock.</span>get global_sum <span style="color: #000000; font-weight: bold;">in</span>
  pi
</pre>
</div>

<p>
Here the <code>Lock</code> is not a performance issue because there are only <code>num_tasks</code> (ie roughly your CPU&rsquo;s number of
cores) chunks processed in the <code>for_</code>, so there&rsquo;s only like 8 updates at the end, not <code>100_000_000</code> updates which
would create a lot of contention.
</p>
</div>
</div>
</div>
</div>




<div id="outline-container-12" class="outline-2">
<h2 id="12">binsec 0.8.0</h2>
<div class="outline-text-2" id="text-12">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-binsec-0-8-0/12634/1">https://discuss.ocaml.org/t/ann-binsec-0-8-0/12634/1</a>
</p>
</div>

<div id="outline-container-org34875cb" class="outline-3">
<h3 id="org34875cb">Frédéric Recoules announced</h3>
<div class="outline-text-3" id="text-org34875cb">
<p>
On behalf of the BINSEC team, I am glad to announce that version <code>0.8.0</code> now lives in <code>Opam.</code>
</p>

<p>
As a short introduction, BINSEC is an open-source program analyzer developed at <a href="http://www-list.cea.fr/en/">CEA
List</a> to help improve software security at the binary level. It has been <a href="https://binsec.github.io/achievements.html">successfully
applied</a> in a number of security-related contexts, such as
vulnerability finding, (malware) deobfuscation, decompilation, formal verification of assembly code or even
binary-level formal verification.
</p>

<p>
More information can be found on the <a href="https://binsec.github.io/">website</a>, including
<a href="https://binsec.github.io/publications">publications</a>,
<a href="https://github.com/binsec/binsec/tree/master/doc">tutorials</a> or <a href="https://binsec.github.io/#people">contacts</a>, but
also the description of <a href="https://binsec.github.io/releases/binsec/2023/07/14/binsec-0.8.0.html">this release</a> as
well as <a href="https://binsec.github.io/releases">previous ones</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-13" class="outline-2">
<h2 id="13">Help Review the new &ldquo;File Manipulation&rdquo; tutorial on OCaml.org</h2>
<div class="outline-text-2" id="text-13">
<p>
Archive: <a href="https://discuss.ocaml.org/t/help-review-the-new-file-manipulation-tutorial-on-ocaml-org/12638/1">https://discuss.ocaml.org/t/help-review-the-new-file-manipulation-tutorial-on-ocaml-org/12638/1</a>
</p>
</div>

<div id="outline-container-org75eadd4" class="outline-3">
<h3 id="org75eadd4">Sabine Schmaltz announced</h3>
<div class="outline-text-3" id="text-org75eadd4">
<p>
there&rsquo;s a new version of the &ldquo;File Manipulation&rdquo; tutorial on
</p>

<p>
<a href="https://staging.ocaml.org/docs/file-manipulation">https://staging.ocaml.org/docs/file-manipulation</a>
</p>

<p>
For comparison: the old version of this tutorial is here <a href="https://ocaml.org/docs/file-manipulation">https://ocaml.org/docs/file-manipulation</a>.
</p>

<p>
<a href="https://github.com/ocaml/ocaml.org/pull/1400">https://github.com/ocaml/ocaml.org/pull/1400</a>
</p>

<p>
Thanks for taking a look and giving feedback and suggestions for revising this! :)
</p>
</div>
</div>
</div>




<div id="outline-container-14" class="outline-2">
<h2 id="14">Mutaml 0.1</h2>
<div class="outline-text-2" id="text-14">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ann-mutaml-0-1/12639/1">https://discuss.ocaml.org/t/ann-mutaml-0-1/12639/1</a>
</p>
</div>

<div id="outline-container-orgf6f44bc" class="outline-3">
<h3 id="orgf6f44bc">Jan Midtgaard announced</h3>
<div class="outline-text-3" id="text-orgf6f44bc">
<p>
I&rsquo;m happy to announce the release of Mutaml 0.1, a mutation testing tool for OCaml:
<a href="https://github.com/jmid/mutaml">https://github.com/jmid/mutaml</a>
</p>

<p>
Mutaml attempts to make small random changes your code, e.g., turning <code>e+1</code> into <code>e</code> to see if the off-by-one
change is caught by your test suite. By finding examples of uncaught wrong behaviour, it can thereby reveal
limitations of a test suite and indirectly suggest improvements.
</p>


<div id="org7ebc434" class="figure">
<p><img src="https://global.discourse-cdn.com/business7/uploads/ocaml/original/2X/2/283db3d2c56d9d095bffcb754297777deefbbade.gif" alt="283db3d2c56d9d095bffcb754297777deefbbade.gif" />
</p>
</div>

<p>
Overall 0.1 is considered an initial working prototype.
</p>

<p>
@raphael-proust previously blogged about how <a href="https://raphael-proust.gitlab.io/code/testing-seqes.html">he used it while developing
Seqes</a>.
</p>

<p>
<i>Acknowledgements</i>
</p>

<p>
Mutaml was developed with support from the <a href="https://ocaml-sf.org/">OCaml Software Foundation</a>.
While developing it, I also benefitted from studying the nice source code of @antron&rsquo;s
<a href="https://github.com/aantron/bisect_ppx">bisect_ppx</a>.
</p>
</div>
</div>
</div>




<div id="outline-container-15" class="outline-2">
<h2 id="15">OCaml Platform Newsletter: June 2023</h2>
<div class="outline-text-2" id="text-15">
<p>
Archive: <a href="https://discuss.ocaml.org/t/ocaml-platform-newsletter-june-2023/12640/1">https://discuss.ocaml.org/t/ocaml-platform-newsletter-june-2023/12640/1</a>
</p>
</div>

<div id="outline-container-org6bc022b" class="outline-3">
<h3 id="org6bc022b">Thibaut Mattio announced</h3>
<div class="outline-text-3" id="text-org6bc022b">
<p>
Welcome to the third instalment of the OCaml Platform newsletter!
</p>

<p>
This edition brings the latest improvements made in June to enhance the OCaml developer experience with the <a href="https://ocaml.org/docs/platform">OCaml
Platform</a>. As in the <a href="https://discuss.ocaml.org/tag/platform-newsletter">previous
updates</a>, the newsletter features the development workflow
currently being explored or enhanced.
</p>

<p>
The month&rsquo;s standout highlight is undoubtedly the <a href="https://ocaml.org/changelog/2023-07-04-opam-2-2-0-alpha">first alpha release of opam
2.2</a>! Years in the making (opam 2.1 was released almost
two years ago), the significance of the hard work put in by the opam team can&rsquo;t be overstated. Much appreciation
goes out to the opam team (Raja Boujbel, David Allsopp, Kate Deplaix, Louis Gesbert, in a united OCamlPro/Tarides
collaboration), and especially to Raja Boujbel for diligently pushing the work to completion in order to achieve
this alpha. <a href="https://ocaml.org/changelog/2023-07-04-opam-2-2-0-alpha">The announcement</a> holds more details, and we
encourage you to provide feedback on the <a href="https://discuss.ocaml.org/t/ann-opam-2-2-0-alpha-release/12536">Discuss
post</a>.
</p>

<ul class="org-ul">
<li>Releases</li>
<li>Building Packages
<ul class="org-ul">
<li>Dune Exploring Package Management in Dune</li>
<li>opam Native Support for Windows in opam 2.2</li>
<li>Dune Improving Dune’s Documentation</li>
<li>Dune New <code>dune show</code> command</li>
</ul></li>
<li>Generating Documentation
<ul class="org-ul">
<li>odoc Add Search Capabilities to <code>odoc</code></li>
</ul></li>
<li>Editing and Refactoring Code
<ul class="org-ul">
<li>Merlin Support for Project-Wide References in Merlin</li>
<li>Merlin Improving Merlin’s Performance</li>
<li>OCaml LSP Upstreaming OCaml LSP’s Fork of Merlin</li>
<li>OCaml LSP Extract code actions</li>
<li>OCaml LSP Support for Inlay Hints</li>
</ul></li>
<li>Formatting Code
<ul class="org-ul">
<li>OCamlFormat Closing the Gap Between OCamlFormat and ocp-indent</li>
</ul></li>
</ul>
</div>

<div id="outline-container-orgbc133d9" class="outline-4">
<h4 id="orgbc133d9">Releases</h4>
<div class="outline-text-4" id="text-orgbc133d9">
<p>
June was a bustling month with a total of nine releases! This included three patch releases and one minor release
of Dune, the release of the first alpha of opam 2.2, two minor releases of OCaml LSP, a minor release of Ppxlib,
and a major release of <code>dune-release</code>. To learn about the features and improvements included in all of these, visit
the <a href="https://ocaml.org/changelog">OCaml Changelog</a>.
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/changelog/2023-06-06-dune-3.8.1">Dune 3.8.1</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-19-dune-3.8.2">Dune 3.8.2</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-28-dune-3.8.3">Dune 3.8.3</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-30-dune-3.9.0">Dune 3.9.0</a></li>
<li><a href="https://ocaml.org/changelog/2023-07-04-opam-2-2-0-alpha">opam 2.2.0~alpha0</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-21-ocaml-lsp-1.16.1">OCaml LSP 1.16.1</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-23-ocaml-lsp-1.16.2">OCaml LSP 1.16.2</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-20-ppxlib-0.30.0">Ppxlib 0.30.0</a></li>
<li><a href="https://ocaml.org/changelog/2023-06-24-dune-release-2.0.0">Dune-release 2.0.0</a></li>
</ul>
</div>
</div>

<div id="outline-container-org0af1c52" class="outline-4">
<h4 id="org0af1c52">Building Packages</h4>
<div class="outline-text-4" id="text-org0af1c52">
</div>
<ul class="org-ul">
<li><a id="org0693f73"></a><b>Dune</b> Exploring Package Management in Dune<br />
<div class="outline-text-5" id="text-org0693f73">
<p>
Contributors: @rgrinberg (Tarides), @Leonidas-from-XIV (Tarides), @gridbugs (Tarides), @kit-ty-kate (Tarides)
</p>

<p>
There was notable progress on Dune lockdirs this month, the team is nearing the ability to lock and build simple
opam packages.
</p>

<p>
The improvements include:
</p>
<ul class="org-ul">
<li>The solver&rsquo;s understanding of opam flags (<code>with-test</code> and <code>with-doc</code>)</li>
<li>Separate lockdirs per build context, allowing users to configure the policy for choosing package versions.</li>
<li>Configuration of lockdirs in the <code>dune-workspace</code> file per context.</li>
<li>Improved fetching to work with VCS repos and single files</li>
<li>System variable values now determined in line with opam&rsquo;s approach</li>
</ul>

<p>
Blockers to implement the end-to-end workflow are currently being discussed, and next month&rsquo;s focus will be on
increasing the coverage of opam features.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Lock file configuration in workspace &#x2013; <a href="https://github.com/ocaml/dune/pull/7835">#7835</a></li>
<li>Use Dyn.variant constructor for Op &#x2013; <a href="https://github.com/ocaml/dune/pull/7936">#7936</a></li>
<li>Lockdir package files have .pkg extension &#x2013; <a href="https://github.com/ocaml/dune/pull/8014">#8014</a></li>
<li>Fix: Downloading local repo doesn&rsquo;t work &#x2013; <a href="https://github.com/ocaml/dune/pull/8060">#8060</a></li>
<li>Test errors for invalid opam repositories &#x2013; <a href="https://github.com/ocaml/dune/pull/7830">#7830</a></li>
<li>Lock directory regeneration safety &#x2013; <a href="https://github.com/ocaml/dune/pull/7832">#7832</a></li>
<li>Generate lockdir from current switch &#x2013; <a href="https://github.com/ocaml/dune/pull/7863">#7863</a></li>
<li>Implementation of <code>OpamSysPoll</code> in Dune-terms &#x2013; <a href="https://github.com/ocaml/dune/pull/7868">#7868</a></li>
<li>Lockdir encode/decode roundtrip tests &#x2013; <a href="https://github.com/ocaml/dune/pull/7914">#7914</a></li>
<li>Document why local opam repo path is a Filename.t &#x2013; <a href="https://github.com/ocaml/dune/pull/7971">#7971</a></li>
<li>Lockdir generation using opam switch prefers oldest &#x2013; <a href="https://github.com/ocaml/dune/pull/7980">#7980</a></li>
<li>Arguments to specify contexts to <code>dune pkg lock</code> &#x2013; <a href="https://github.com/ocaml/dune/pull/7970">#7970</a></li>
<li>Lockdirs are data-only &#x2013; <a href="https://github.com/ocaml/dune/pull/7979">#7979</a></li>
<li>Prefer newest packages by default &#x2013; <a href="https://github.com/ocaml/dune/pull/8030">#8030</a></li>
<li>Don&rsquo;t take global lock in <code>dune pkg lock</code> &#x2013; <a href="https://github.com/ocaml/dune/pull/8016">#8016</a></li>
<li>Conditional dependencies in lockdir &#x2013; <a href="https://github.com/ocaml/dune/pull/8050">#8050</a></li>
<li>Removal of lock_dir field from Lock_dir.Pkg.t &#x2013; <a href="https://github.com/ocaml/dune/pull/7965">#7965</a></li>
<li>Feature(pkg): extra sources &#x2013; <a href="https://github.com/ocaml/dune/pull/8015">#8015</a></li>
</ul>
</div>
</li>

<li><a id="orga30ac73"></a><b>opam</b> Native Support for Windows in opam 2.2<br />
<div class="outline-text-5" id="text-orga30ac73">
<p>
Contributors: @rjbou (OCamlPro), @kit-ty-kate (Tarides), @dra27 (Tarides), @emillon (Tarides), @Leonidas-from-XIV
(Tarides), @3Rafal (Tarides), @christinerose (Tarides), @sabine (Tarides)
</p>

<p>
The first alpha of opam 2.2 was just released!
</p>

<p>
The most anticipated feature is native Windows compatibility: opam can now be launched in any Windows terminal! It
currently requires a preexisting Cygwin installation, a limitation that is set to be lifted for <code>alpha2</code>.
</p>

<p>
As stated in the announcement, it should be noted that <code>opam-repository</code> isn&rsquo;t compatible with Windows just yet. It
requires the upstreaming of patches from
<a href="https://github.com/ocaml-opam/opam-repository-mingw"><code>ocaml-opam/opam-repository-mingw</code></a> and
<a href="https://github.com/dra27/opam-repository"><code>dra27/opam-repository</code></a>. This is set to occur before the final release
of opam 2.2, so <code>opam init</code> can work with the upstream <code>opam-repository</code> on Windows.
</p>

<p>
Windows support isn&rsquo;t the only exciting feature in the release. To learn about other significant features included
in opam 2.2, please read <a href="https://ocaml.org/changelog/2023-07-04-opam-2-2-0-alpha">the announcement</a> and don&rsquo;t
hesitate to share your feedback on the <a href="https://discuss.ocaml.org/t/ann-opam-2-2-0-alpha-release/12536">Discuss
post</a>.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Windows support
<ul class="org-ul">
<li>Improved local cygwin installation detection &#x2013; <a href="https://github.com/ocaml/opam/pull/5544">#5544</a></li>
<li>Introduced some updates to Windows shell &#x2013; <a href="https://github.com/ocaml/opam/pull/5541">#5541</a></li>
<li>Fixed detection issue when C++ compiler is prefixed &#x2013; <a href="https://github.com/ocaml/opam/pull/5556">#5556</a></li>
</ul></li>
<li>Other improvements
<ul class="org-ul">
<li>Fix performance regression in opam install/remove/upgrade/reinstall &#x2013; <a href="https://github.com/ocaml/opam/pull/5503">#5503</a></li>
<li>Adjusted to open the release files for reading &#x2013; <a href="https://github.com/ocaml/opam/pull/5568">#5568</a></li>
<li>Fixed OpenSSL missing message &#x2013; <a href="https://github.com/ocaml/opam/pull/5557">#5557</a></li>
<li>Enhanced error reporting to print version when failing to parse it &#x2013; <a href="https://github.com/ocaml/opam/pull/5566">#5566</a></li>
</ul></li>
<li>Release management
<ul class="org-ul">
<li>Finalise release: Untie test from opam version &#x2013; <a href="https://github.com/ocaml/opam/pull/5578">#5578</a></li>
<li>Prepared for the 2.2.0~alpha release with essential updates &#x2013; <a href="https://github.com/ocaml/opam/pull/5580">#5580</a></li>
<li>Included 2.2.0-alpha binaries in install.sh &#x2013; <a href="https://github.com/ocaml/opam/pull/5588">#5588</a></li>
<li>Readme updates &#x2013; <a href="https://github.com/ocaml/opam/pull/5589">#5589</a></li>
<li>Documentation: update documentation to be embed in ocaml.org &#x2013; <a href="https://github.com/ocaml/opam/pull/5593">#5593</a> <a href="https://github.com/ocaml/opam/pull/5594">#5594</a></li>
<li>Add some tests &#x2013; <a href="https://github.com/ocaml/opam/pull/5385">#5385</a></li>
<li>Improved output cleanliness when stdout is not a TTY &#x2013; <a href="https://github.com/ocaml/opam/pull/5595">#5595</a></li>
<li>Update lint for conflicts field&rsquo;s filter that does not support package variables &#x2013; <a href="https://github.com/ocaml/opam/pull/5535">#5535</a></li>
<li>Applied autoupdate to silence autogen warnings &#x2013; <a href="https://github.com/ocaml/opam/pull/5555">#5555</a></li>
</ul></li>
<li>Security audit
<ul class="org-ul">
<li>Fixed opam installing packages without checking their checksum when the local cache is corrupted &#x2013; <a href="https://github.com/ocaml/opam/pull/5538">#5538</a></li>
<li>Reftests: add tests to check url handling behaviours &#x2013; <a href="https://github.com/ocaml/opam/pull/5560">#5560</a></li>
<li>lint: add some lint &amp; fix for url checks &#x2013; <a href="https://github.com/ocaml/opam/pull/5561">#5561</a></li>
<li>opamfile: parse error on escapable paths &#x2013; <a href="https://github.com/ocaml/opam/pull/5562">#5562</a></li>
<li>source: add &#x2013;no-checksums &amp; &#x2013;require-checksums flags &#x2013; <a href="https://github.com/ocaml/opam/pull/5563">#5563</a></li>
<li>No more populate opam file with extra-files &#x2013; <a href="https://github.com/ocaml/opam/pull/5564">#5564</a></li>
</ul></li>
</ul>
</div>
</li>

<li><a id="orga7129e3"></a><b>Dune</b> Improving Dune&rsquo;s Documentation<br />
<div class="outline-text-5" id="text-orga7129e3">
<p>
Contributors: @emillon (Tarides)
</p>

<p>
The effort to enhance Dune documentation continues. Past efforts focused on the high-level organisation of the
documentation, and the new structure was <a href="https://dune.readthedocs.io/en/stable/">published</a> as part of Dune 3.8
release. This month, various improvements were made to the content of the documentation itself.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Add XREFs to actions &#x2013; <a href="https://github.com/ocaml/dune/pull/7842">ocaml/dune#7842</a></li>
<li><code>.opam.template</code> files can be generated &#x2013; <a href="https://github.com/ocaml/dune/pull/7911">ocaml/dune#7911</a></li>
<li>Filling in gaps in the reference documentation and adding further docs to ocaml.org (dune-glob, xdg).
<ul class="org-ul">
<li>Add reference info about aliases &#x2013; <a href="https://github.com/ocaml/dune/pull/7945">ocaml/dune#7945</a></li>
<li>Improve API docs for XDG &#x2013; <a href="https://github.com/ocaml/dune/pull/7958">ocaml/dune#7958</a></li>
<li>Add index.mld for <code>dune-glob</code> &#x2013; <a href="https://github.com/ocaml/dune/pull/7989">ocaml/dune#7989</a></li>
</ul></li>
</ul>
</div>
</li>

<li><a id="org4643ca1"></a><b>Dune</b> New <code>dune show</code> command<br />
<div class="outline-text-5" id="text-org4643ca1">
<p>
Contributors: @Alizter, @rgrinberg (Tarides), @snowleopard (Jane Street)
</p>

<p>
A new <code>dune show</code> command group has been added as an alias to the existing <code>dune describe</code> command.
</p>

<p>
The new command group comes with two new commands, <code>dune show targets</code> and <code>dune show aliases</code>, to enhance the
introspection of Dune projects and discoverability of available Dune commands.
</p>

<ul class="org-ul">
<li><code>dune show targets [OPTION]… [DIR]…</code> is inspired by <code>ls</code> and prints the targets available in a given directory.</li>
<li><code>dune show aliases [OPTION]… [DIR]…</code> prints the aliases available in a given directory.</li>
</ul>

<p>
Feedback on these new commands is welcome and can be shared on <a href="https://github.com/ocaml/dune/issues">Dune&rsquo;s issue
tracker</a>.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Create <code>dune show</code> command group &#x2013; <a href="https://github.com/ocaml/dune/pull/7946">ocaml/dune#7946</a></li>
<li><code>dune show targets</code> and <code>dune show aliases</code> commands &#x2013;</li>
</ul>
<p>
<a href="https://github.com/ocaml/dune/pull/7946">ocaml/dune#7946</a>
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orge47ee3c" class="outline-4">
<h4 id="orge47ee3c">Generating Documentation</h4>
<div class="outline-text-4" id="text-orge47ee3c">
</div>
<ul class="org-ul">
<li><a id="org037ce93"></a><b><code>odoc</code></b> Add Search Capabilities to <code>odoc</code><br />
<div class="outline-text-5" id="text-org037ce93">
<p>
Contributors: @panglesd (Tarides), @EmileTrotignon (Tarides), @trefis (Tarides)
</p>

<p>
The profiling and optimising work that began last month on <a href="https://github.com/art-w/sherlodoc/">sherlodoc</a> has
shown results: the database size was reduced significantly, and the indexing time has also been greatly reduced.
</p>

<p>
In addition, a complete overhaul of the search feature UI was conducted, with advice from the OCaml.org team.
</p>

<p>
Attention then turned to testing (and debugging) the indexing/search more extensively.
</p>

<p>
Additionally, progress was made on outputting usage statistics on the search index. Specifically, support for
occurrences was untangled from source code rendering, and support was added for counting occurrences of values,
modules, types, module types, class types, and constructors.
</p>

<p>
The different pull requests are approaching merge-readiness. The next step will be to adapt the Dune and OCaml.org
drivers to make the feature available to users of <code>odoc</code>.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Support for search in <code>odoc</code> &#x2013; <a href="https://github.com/ocaml/odoc/pull/972">ocaml/odoc#972</a></li>
<li>Collect occurrences information &#x2013; <a href="https://github.com/ocaml/odoc/pull/976">ocaml/odoc#976</a></li>
<li>Add labels to basic text block (such as paragraphs and code blocks) &#x2013; <a href="https://github.com/ocaml/odoc/pull/974">ocaml/odoc#974</a></li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orga721c5b" class="outline-4">
<h4 id="orga721c5b">Editing and Refactoring Code</h4>
<div class="outline-text-4" id="text-orga721c5b">
</div>
<ul class="org-ul">
<li><a id="org0a7b4cd"></a><b>Merlin</b> Support for Project-Wide References in Merlin<br />
<div class="outline-text-5" id="text-org0a7b4cd">
<p>
Contributors: @voodoos (Tarides), @let-def (Tarides)
</p>

<p>
The entire stack of pull requests required for project-wide references, including the compiler patches,
<code>ocaml-uideps</code>, Dune, Merlin, and <code>ocaml-lsp</code>, has been rebased to include the latest compiler changes.
</p>

<p>
This allowed for the discovery of some issues with first-class modules and aliases. Alias tracking was also added
to the shapes, which is required for occurrences to distinguish between different aliases of the same module.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Compiler support for project-wide occurrences &#x2013; <a href="https://github.com/voodoos/ocaml/pull/1">voodoos/ocaml#1</a></li>
<li>Use new compile information in CMT files to out build and aggregate indexes &#x2013; <a href="https://github.com/voodoos/ocaml-uideps/pull/5">voodoos/ocaml-uideps#5</a></li>
<li>Dune orchestrates index generation &#x2013; <a href="https://github.com/voodoos/dune/pull/1">voodoos/dune#1</a></li>
<li>Use new CMT info to provide buffer occurrences and indexes for project-wide occurrences &#x2013; <a href="https://github.com/voodoos/merlin/pull/7">voodoos/merlin#7</a></li>
<li>Support project-wide occurrences in <code>ocaml-lsp</code> &#x2013; <a href="https://github.com/voodoos/ocaml-lsp/pull/1">voodoos/ocaml-lsp#1</a></li>
</ul>
</div>
</li>

<li><a id="org88153ef"></a><b>Merlin</b> Improving Merlin&rsquo;s Performance<br />
<div class="outline-text-5" id="text-org88153ef">
<p>
Contributed by: @pitag-ha (Tarides), @3Rafal (Tarides), @voodoos (Tarides), @let-def (Tarides)
</p>

<p>
Efforts to improve Merlin&rsquo;s performance included ongoing work on Merlin benchmarking and error regression CI
pipelines. Several issues in <code>merl-an</code> were fixed to stabilise the benchmarking CI and the proof of concept (POC)
of the error regression CI that was opened in Merlin.
</p>

<p>
The benchmarking CI was merged at the beginning of July, so Merlin is now being continuously benchmarked for
performance regressions.
</p>

<p>
Next month, experiments will continue on the best approach for the error regression CI before refocusing on
concrete performance improvements.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Merlin benchmarking CI &#x2013; <a href="https://github.com/ocaml/merlin/pull/1640">ocaml/merlin#1640</a></li>
<li>Error regression backend to <code>merl-an</code> &#x2013; <a href="https://github.com/pitag-ha/merl-an/pull/14">pitag-ha/merl-an#14</a></li>
<li>Merlin behaviour regression CI &#x2013; <a href="https://github.com/ocaml/merlin/pull/1642">ocaml/merlin#1642</a></li>
</ul>
</div>
</li>

<li><a id="orgf883a80"></a><b>OCaml LSP</b> Upstreaming OCaml LSP&rsquo;s Fork of Merlin<br />
<div class="outline-text-5" id="text-orgf883a80">
<p>
Contributors: @voodoos (Tarides), @3Rafal (Tarides)
</p>

<p>
The PR that removes OCaml LSP&rsquo;s fork of Merlin has been merged!
</p>

<p>
Following the merge, patches were added for compatibility with OCaml 5.1, and OCaml LSP 1.16.1 was released.
</p>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Use Merlin as a libray &#x2013; <a href="https://github.com/ocaml/ocaml-lsp/pull/1070">ocaml-lsp#1070</a></li>
<li>Compatibility with OCaml 5.1 &#x2013; <a href="https://github.com/ocaml/ocaml-lsp/pull/1150">ocaml-lsp#1150</a></li>
</ul>
</div>
</li>

<li><a id="orgda8405e"></a><b>OCaml LSP</b> Extract code actions<br />
<div class="outline-text-5" id="text-orgda8405e">
<p>
Contributors: @jfeser, @rgrinberg (Tarides)
</p>

<p>
OCaml LSP 1.16.1 introduces two new code action kinds to LSP: <code>Extract local</code> and <code>Extract function</code>.
</p>

<ul class="org-ul">
<li><p>
The <code>Extract local</code> refactoring action takes an expression and introduces it as a new local let-binding in the enclosing function.
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">f</span> <span style="color: #007a9f;">x</span> =  <span style="color: #a52a2a;">$</span>x+<span style="color: #00824f;">1</span><span style="color: #a52a2a;">$</span> + <span style="color: #00824f;">2</span> <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">$..$ is the selected code</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
<span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">Becomes:</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">f</span> <span style="color: #007a9f;">x</span> =
  <span style="color: #000000; font-weight: bold;">let</span> <span style="color: #007a9f;">new_var</span> = x + <span style="color: #00824f;">1</span> <span style="color: #000000; font-weight: bold;">in</span>
  new_var + <span style="color: #00824f;">2</span>
</pre>
</div></li>
<li><p>
The <code>Extract function</code> refactoring action takes an expression and introduces it as a new function in the enclosing module.
</p>
<div class="org-src-container">
<pre class="src src-ocaml"><span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">f</span> <span style="color: #007a9f;">x</span> =  <span style="color: #a52a2a;">$</span>x+<span style="color: #00824f;">1</span><span style="color: #a52a2a;">$</span> + <span style="color: #00824f;">2</span> <span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">$..$ is the selected code</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
<span style="color: #8f6f4a; font-style: italic;">(* </span><span style="color: #8f6f4a; font-style: italic;">Becomes:</span><span style="color: #8f6f4a; font-style: italic;"> *)</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">new_fun</span> <span style="color: #007a9f;">x</span> = x + <span style="color: #00824f;">1</span>
<span style="color: #000000; font-weight: bold;">let</span> <span style="color: #a7601f;">f</span> <span style="color: #007a9f;">x</span> = new_fun x + <span style="color: #00824f;">2</span>
</pre>
</div></li>
</ul>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Add extract code actions &#x2013; <a href="https://github.com/ocaml/ocaml-lsp/pull/870">ocaml-lsp#870</a></li>
</ul>
</div>
</li>

<li><a id="orgb9ae280"></a><b>OCaml LSP</b> Support for Inlay Hints<br />
<div class="outline-text-5" id="text-orgb9ae280">
<p>
Contributors: @jfeser, @rgrinberg (Tarides), @voodoos (Tarides)
</p>

<p>
The <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/">LSP 3.17 Spec</a>
introduced the feature of Inlay Hints, an enhancement that allows editors to integrate annotations in line with the
text, in order to display parameters names, type hints, and so on.
</p>

<p>
This month witnessed the commencement of Inlay Hints&rsquo; implementation in the OCaml LSP server. Currently, the <a href="https://github.com/ocaml/ocaml-lsp/pull/1159">pull
request</a> is undergoing review, with plans to integrate it into the
subsequent minor release, OCaml LSP 1.17.0.
</p>


<div id="orga13adb8" class="figure">
<p><img src="https://global.discourse-cdn.com/business7/uploads/ocaml/optimized/2X/d/d68d6fc69e8d1bd337b3c909a1a56abe516b936e_2_766x1000.png" alt="d68d6fc69e8d1bd337b3c909a1a56abe516b936e_2_766x1000.png" />
</p>
</div>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Preliminary inlay hint support &#x2013; <a href="https://github.com/ocaml/ocaml-lsp/pull/1159">ocaml-lsp#1159</a></li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orge38e121" class="outline-4">
<h4 id="orge38e121">Formatting Code</h4>
<div class="outline-text-4" id="text-orge38e121">
</div>
<ul class="org-ul">
<li><a id="orga3826ea"></a><b>OCamlFormat</b> Closing the Gap Between OCamlFormat and <code>ocp-indent</code><br />
<div class="outline-text-5" id="text-orga3826ea">
<p>
Contributors: @gpetiot (Tarides) and @EmileTrotignon (Tarides), @Julow (Tarides), @ceastlund (Jane Street)
</p>

<p>
The pursuit of aligning OCamlFormat&rsquo;s <code>janestreet</code> profile more closely with the output of <code>ocp-indent</code>, initiated
a few months back, continued this month. A significant proportion of the changes this month revolved around the
treatment of comments.
</p>

<p>
The OCamlFormat team is also preparing the release of OCamlFormat 0.26.0, which will include all of the bug fixes
and improvements implemented in the past months. If you&rsquo;d like to get a glimpse of the formatting changes this
entails, have a look at some of the preview PRs:
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml/dune/pull/8064">Dune</a></li>
<li><a href="https://github.com/ocaml-ppx/ppxlib/pull/439">Ppxlib</a></li>
<li><a href="https://github.com/ocsigen/js_of_ocaml/pull/1479">Js_of_ocaml</a></li>
<li><a href="https://github.com/mirage/irmin/pull/2262">Irmin</a></li>
<li><a href="https://github.com/ocaml/ocaml-lsp/pull/1157">OCaml LSP</a></li>
<li><a href="https://github.com/ocaml/odoc/pull/979"><code>odoc</code></a></li>
</ul>

<p>
<b>Activities:</b>
</p>
<ul class="org-ul">
<li>Refactor handling of comments &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2371">ocaml-ppx/ocamlformat#2371</a></li>
<li>Don&rsquo;t mix comments and docstrings &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2372">ocaml-ppx/ocamlformat#2372</a></li>
<li>Disable the deprecated alert in code blocks  &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2373">ocaml-ppx/ocamlformat#2373</a></li>
<li>Don&rsquo;t escape balanced brackets in code spans &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2376">ocaml-ppx/ocamlformat#2376</a></li>
<li>Don&rsquo;t escape @ in the middle of a word &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2377">ocaml-ppx/ocamlformat#2377</a></li>
<li>Unwanted break before a unwrapped code span &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2378">ocaml-ppx/ocamlformat#2378</a></li>
<li>Preserve blank lines in docstrings &#x2013; <a href="https://github.com/ocaml-ppx/ocamlformat/pull/2379">ocaml-ppx/ocamlformat#2379</a></li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org2add589" class="outline-2">
<h2 id="org2add589">Old CWN</h2>
<div class="outline-text-2" id="text-org2add589">
<p>
If you happen to miss a CWN, you can <a href="mailto:alan.schmitt@polytechnique.org">send me a message</a> and I&rsquo;ll mail it to you, or go take a look at <a href="https://alan.petitepomme.net/cwn/">the archive</a> or the <a href="https://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives</a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a href="http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class="authorname" id="org59d06a4">
<p>
<a href="https://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>